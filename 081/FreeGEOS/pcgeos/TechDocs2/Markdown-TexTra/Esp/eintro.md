## 1 ESPの概要

このソフトウェア開発キットは、Cプログラマ向けです。 SDKは、GE
OS固有の言語であるGocをベースにしており、GocはCをベースにしている。他のものを使用する必要があるプログラマはほとんどいない。
しかし、少数のプログラマーは、可能な限り最も効率的なコードを作成したいと思うでしょう。彼らの利益のために、このSDKを使用すると、GEOSアセンブリ言語であるEspでプログラミングできます。

アセンブリでのプログラミングは、経験豊富なGEOSプログラマだけが行うようにしてください。
さらに、SDKはアセンブリ言語を教えるためのものではありません。Espでプログラムを作成する前に、80x86アセンブリに精通している必要があります。

### 1.1 ESPとは?

Espは、GEOSプログラミング用に特別に設計された80x86アセンブリ言語です。
多くの点で、他の一般的な80x86アセンブラ(MASMなど)と非常によく似ています。
低いレベルでは、ルーチンの中で、EspコードはMASMコードに非常によく似ています(ただし、いくつかの追加機能を提供します)。
しかし、より高いレベルでは、EspはMASMにはあまり似ておらず、Gocにはるかに似ている。

ESPには、GEOSオブジェクト指向プログラミング環境のサポートが組み込まれています。
メッセージを送信し、オブジェクトを操作するためのルーチンを提供します。
さらに、すべてのGEOSカーネルルーチンとシステムライブラリは、GocまたはEspコードから呼び出すことができます。
したがって、EspでのプログラミングはGocでのプログラミングと非常によく似ています。ルーチンは別の言語で記述されていますが、Gocルーチンとほぼ同じ方法でプログラムに適合します。

Espに加えて、このSDKは特別なUIC(User-Interface Compiler)を提供します。
UICは、アセンブリアプリケーション用のオブジェクトブロックを生成します。
GEOS固有の言語Espireで書かれたソースファイルを読み込み、GlueがGEOSアプリケーションに組み込むことができる特別なリソースを作成します。
アセンブリ言語でアプリケーションを作成する場合は、コンパイル時にUICを使用してオブジェクトとオブジェクトブロックを作成します。

このSDKで提供されるサンプル・アプリケーションの多くは、Goc(APPL/SDK_Cディレクトリー内)とEsp(APPL/SDK_ASMディレクトリー内)の2箇所で作成されています。
これらのサンプル・アプリケーションは、Espを理解するための優れた方法です。GocとEspで同じタスクがどのように実行されるかを確認できます。特に、構造とクラスを作成するためのEspとGocの手法を比較したり、オブジェクトとクラスを作成するためのGocとEspireの手法を比較したりできます。

### 1.2 ESPを使用すべきか?

誰もがEspを使いたいと思うわけではありません。多くのプログラマーにとって、アセンブリ言語はGocのような高水準言語よりもはるかに使いにくいものです。プログラムの効率性を向上させることは、この余分な努力に値しないかもしれません。

Espの使用を検討すべき場合もあります。まず、80x86アセンブリ言語に非常に精通していて、Cと同じくらい使い慣れている場合は、Espでプログラムを作成する方がよいかもしれません。いくつかのプログラムを作成すれば、Gocと同じくらい簡単にEspを使用できる言語であることがわかります。

次に、計算集約型のプログラムを作成している場合、実行速度が遅すぎることに気づくかもしれません(特に、処理能力の低いGEOSプラットフォーム用に作成している場合)。
このような場合、プログラムをEspで書き直すこともできます。また、メモリを大量に消費するルーチンを特別な「Espリソース」に配置することもできます。これらのルーチンをEspで記述し、アプリケーションの残りをGocで記述することもできます。

第三に、多くの異なるアプリケーションで使用されるライブラリを作成する場合、そのライブラリをEspで作成することをお勧めします。ルーチンライブラリであれば、Cのパスとリターンの規則に準拠したEspルーチンを作成するだけで済みます。そうすれば、Gocで作成されているかEspで作成されているかにかかわらず、どのアプリケーションでもこれらのルーチンを呼び出すことができます。
同様に、ライブラリが新しいオブジェクトクラスを定義する場合、Espでメッセージハンドラを作成できます。これらのオブジェクトを使用するアプリケーションは、アプリケーションがGocで作成されている場合でも、Espの追加の効率性を利用できます。

### 1.3 ESPブックへのロードマップ

Espの本はかなり短いです。
これは、その主な役割が、すでに持っている知識を統合するのを助けることだからです。
GEOS用のプログラミング方法と、80x86用の非GEOSアセンブリ言語でのプログラミング方法はすでに知っているはずです。この本では、この知識を組み合わせる方法と、Espの特別な機能について説明します。

このマニュアルには、次の章があります。

1.  [ESPの概要(この章)](eintro.md)\
    この章では、GEOSアセンブリ言語であるEspと本書の概要について説明します。

2.  [ESPの基本](ebasics.md)\
    この章では、Espと他の80x86アセンブリ言語(MASMなど)との基本的な構文上の違いについて説明します。
    また、GEOS環境でアセンブリをプログラミングするための基本的な基本ルールについても説明します。

3.  [定型文](erout.md)\
    この章では、Espでルーチンを記述する方法について説明します。ローカル変数の作成、スタックフレームの管理などの雑用を処理することで、ルーチンの記述をより簡単で均一にするEspの特別な機能について説明します。また、Espでハンドラを記述し、メッセージを送信する方法についても説明します。

4.  [UIコンパイラ](euic.md)\
    この章では、Espオブジェクトブロックをコンパイルする特殊なユーティリティであるGEOS
    UIC(User-Interface Compiler)について説明します。
    コンパイル時に作成されたオブジェクトを持つEspアプリケーションを作成する場合は、UICを使用する必要があります。

この本には、EspリソースをGocアプリケーションに組み込む方法を簡単に説明する付録も含まれている。

プログラミングを開始する準備ができたら、『Assembly Reference for Esp API
of GEOS routines and
structures』を参照し、PCGEOS\*.DEFおよび\*.UIHファイルを参照して、GEOSオブジェクトクラスに関するアセンブリ情報を確認します。
メッセージのpassパラメータとreturnパラメータについては、クラスの.defファイルを参照してください。メッセージに関する一般的な情報については、『オブジェクト』マニュアルの(Goc)referenceエントリを参照してください。

[目次](../esp.md)-\>(英語)[ESPの基本](ebasics.md)
