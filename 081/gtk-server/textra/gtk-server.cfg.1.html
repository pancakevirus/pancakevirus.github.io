コンテンツタイプ:text/html;charset=UTF-8<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><meta http-equiv="Content-Type" content="text/html; charset=utf8"><TITLE>gtk-server.cfgのマニュアルページ</TITLE>
</HEAD><BODY>
<H1>gtk-server.cfg(gtkサーバー設定ファイル)</H1>セクション:ユーザーコマンド(1)<BR><A HREF="#index">索引</A><A HREF="/cgi-bin/man/man2html">メインコンテンツに戻る</A><HR>
          <A NAME="lbAB"></A>
        <H2>名前</H2>gtk-server.cfg-gtk-serverの構成ファイル。<A NAME="lbAC"></A><H2>概要</H2>
          <B>gtk-server.cfg(gtkサーバー設定ファイル)</B>
          <A NAME="lbAD"></A>
        <H2>説明</H2>

<P>&#39;GTK-server.cfg&#39;ファイルは、GTKサーバーによって使用される構成ファイルです。&#39;GTK-server.cfg&#39;ファイルがクライアントスクリプトと同じディレクトリで使用可能な場合、GTKサーバーはこのローカル構成ファイル(推奨)を読み取ります。これにより、各クライアントプログラムは独自のGTK構成を使用できます。構成ファイルがローカルで使用できない場合、GTKサーバーは次のロジックに従います。<P>1)環境変数GTK_SERVER_CONFIGを読み込んでみてください。この変数には、構成ファイルへのフルパスと名前が含まれている必要があります。<P>2)ユーザーのhomedirで(非表示の)構成ファイルを検索します。構成ファイルの名前の前にはドットを付ける必要があります(例:&#39;.gtk-server.cfg&#39;)。<P>3)/etcディレクトリでconfigfileを検索します。<P>4)/usr/local/etcディレクトリでconfigfileを検索します。<P>&#39;gtk-server.cfg&#39;ファイルには、クライアントスクリプトで使用されるGTK関数の定義が含まれています。ファイルの形式は&lt;KEYWORD = VALUE>です。ハッシュ&#39;#&#39;で始まる行はスキップされます。キーワードは大文字を使用して記述する必要があります。<P>GTKサーバでは、次のキーワードが認識されます。<DL COMPACT>
<DT>
          <B>LIB_NAME=&lt;ライブラリ名1,ライブラリ名2,.></B>
        <DD>開くライブラリ(.soまたは.dll)の名前を指定します。このキーワードは、configfileで複数回指定できます。最大64個のライブラリを同時に開くことができます。ライブラリ名は、プレーンな「so」サフィックスで終わる必要があります。GTKサーバーがライブラリを検出できない場合、0～99の範囲の数値サフィックスを元の名前に自動的に追加し、正しい数値サフィックスが検出されるまで、これらのライブラリ名も開こうとします。<BR><P>例:<B>LIB_NAME=libgtk-x11-2.0.so、libgdk-x11-2.0.so、libglib-2.0.so、libgobject-2.0.so</B><DT>
          <B>INCLUDE=&lt;ファイル></B>
        <DD>追加のGTK関数記述またはマクロを含む追加の構成ファイルを定義します。<BR><P>例:<B>INCLUDE=/etc/gtk-extra.cfg&lt;ファイル名></B><P><DT>
          <B>SEQUENCE=&lt;最大></B>
        <DD>ライブラリーをオープンするとき、GTKサーバーは、この定義までの後続のライブラリー・バージョン番号を検索して使用しようとします。デフォルト値は100です。<BR><P>例:<B>シーケンス=10</B><P><DT>
          <B>FUNCTION_NAME=&lt;func>,&lt;callback>,&lt;type>,&lt;amount>,&lt;arg1>.&lt;argx></B>
        <DD>スクリプトで使用されるすべてのGTK関数をここに記述する必要があります。最初に関数自体の名前を記述し、その後にコールバック信号(該当する場合)を記述する必要があります。ここではGTKコールバック信号の実際の名前を使用する必要があります。次に戻り値の型を指定する必要があります。型は、NONE、VOID、WIDGET、POINTER、BOOL、STRING、INT、LONG、DOUBLE、FLOATまたはADDRESSのいずれかです。その後、GTK関数に必要な引数の数を明確にする必要があります。最後に、各個別引数の型を宣言する必要があります。引数の型は、NULL、WIDGET、POINTER、BOOL、STRING、INT、LONG、DOUBLE、FLOAT、ENUM、STR、CLASS、MACRO、DATA、BASE64またはVARARGSのいずれかです。<P>ADDRESS戻り値型は、メモリー内の関数のアドレスを返すために使用されます。<P>base64引数タイプは、base64でエンコードされたバイナリデータをGTKサーバーに送信するために使用されます。POINTER引数タイプは、汎用ポインタおよびGTK以外のライブラリに使用できます。<P>MACRO引数の型は、ユーザー関数を登録する必要がある場合に使用できます。GTKがユーザー関数を実行する必要がある場合は、記述されたマクロが使用されます。MACRO型には、追加データを指定できるDATA型が常に必要です。マクロについては、このマンページのMACROのセクションで説明します。<P>ENUMおよびSTR引数タイプは、correspendingのENUM_NAMEおよびSTR_NAME定義を参照します(以下を参照)。ENUMの代わりに、タイプINTまたはLONGを使用することもできます。同様に、STRの代わりに、単純にSTRINGを使用することができます。<P>CLASS引数タイプは、Motifウィジェットクラスを参照します。これらはハードコーディングされているため、GTKサーバーの構成ファイルでは構成できません。<P>VARARGS引数は、変数引数リストを定義します。クライアント・スクリプトでは、可変数の引数を入力できますが、各引数にはタイプを示す接頭辞を付ける必要があります。iはint、lはlong、sはstringを意味します。NULLには接頭辞は不要です。<P>&#39;GTK-server.cfg&#39;ファイルには、重複する関数定義が含まれていない可能性があります。これは、起動時にGTKサーバーによって確認されます。例:<P>
          <BR>
          <B>FUNCTION_NAME=gtk_window_new,削除イベント,WIDGET,1,LONG</B>
          <BR>
          <B>FUNCTION_NAME=XtVaCreateWidget,NONE,WIDGET,4,STRING,CLASS,WIDGET,VARARGS</B>
        <DT>
          <B>ENUM_NAME=&lt;名前>,&lt;整数></B>
        <DD>GTKやXForms APIでは、事前定義された定数や列挙を数多く使用しています。このオプションの構成行では、これらの定数や列挙も定義できます。clientscriptでは同じ列挙名を使用でき、GTKサーバーは対応する値を自動的に置き換えます。値は、10進数、8進数、または16進数の形式で入力できます。8進数の場合は&#39;0&#39;の前にaを使用し、16進数の場合は&#39;0x&#39;または&#39;0x&#39;の前にaを使用します。<P>列挙名には整数値のみを含めることができます。したがって、定義されたGTK関数では、&#39;INT&#39;、&#39;LONG&#39;または&#39;ENUM&#39;として定義された引数でのみ、GTKサーバーは列挙名をチェックします。列挙名と一致しない場合は、実際の値があると見なされます。<P>重複した列挙名は使用できません。これは、起動時にGTKサーバによって確認されます。<P>例:<B>ENUM_NAME=GTK_WINDOW_TOPLEVEL,0(ゼロ)</B><DT>
          <B>STR_NAME=&lt;名前>,&lt;文字列></B>
        <DD>Motif APIは、多くの事前定義された文字列を使用します。このオプションの設定行を使用すると、これらの文字列を実際の名前に設定できます。clientscriptは元の文字列名を使用でき、GTKサーバは対応する実際の文字列値を自動的に置き換えます。<P>GTKサーバは、STRINGとして定義された引数内の文字列名を検索します。<P>文字列名の重複は許可されていません。これは、起動時にGTKサーバによって確認されます。<P>例:<B>STR_NAME=XmNactivateCallback,activateCallback</B><DT>
          <B>ALIAS_NAME=&lt;エイリアス>,&lt;実名></B>
        <DD>外部ライブラリの一部の関数は、プログラミング言語の既存のステートメントと同じ名前を持つ場合があります。たとえば、シェルスクリプトはステートメント&#39;read&#39;を使用できますが、関数&#39;read&#39;もlibcからインポートできます。クライアントインタプリタがこれらのステートメントを混同しないようにするために、エイリアスを定義することができます。そのため、クライアントプログラムは、実名を使用する代わりに、定義されたエイリアスを使用して外部関数を呼び出すことができます。<P>エイリアスを使用すると、プログラマは外部関数の名前を変更して、クライアント言語の標準に準拠させることもできます。<P>エイリアス名の重複は許可されていません。これは、起動時にGTKサーバによって確認されます。<P>例:<B>ALIAS_NAME=libc_read,読み取り</B><DT>
          <B>MACRO&lt;名前>&lt;.>ENDMACRO</B>
        <DD>マクロの説明については、以下を参照してください。</DL>
          <A NAME="lbAE"></A>
        <H2>ポインタ引数</H2>GTK関数の中には、ポインタ引数に結果を返すものがあります。このような引数から値を取得するには、特別なパラメータを使用してGTK関数の定義を作成します。次に例を示します。<P>FUNCTION_NAME=gdk_window_get_pointer,NONE,WIDGET,4,WIDGET,PTR_INT,PTR_INT,NULL(関数名=gdk_window_get_pointer,NONE,WIDGET,4,WIDGET,PTR_INT,PTR<P>この場合、&#39;gdk_window_get_pointer&#39;を呼び出すと、ウィジェットだけでなく、2番目と3番目の引数に格納されている値も返されます。返される結果は、GTKサーバもS式構文を受け入れるのと同じように、S式構文でフォーマットされます。タイプPTR_INTの次に、タイプPTR_LONG、PTR_FLOAT、PTR_DOUBLE、PTR_STRING、PTR_BOOL、PTR_SHORT、PTR_WIDGETおよびPTR_BASE64を使用できます。<P>定義された関数を実際に呼び出す場合、数値PTR引数タイプの場合はダミーの引数を使用できます。また、PTR_BASE64タイプにはダミーの引数が必要です。<P>ただし、PTR_STRINGおよびPTR_WIDGET引数タイプは、ポインタに十分なメモリが割り当てられていることを前提としています。<P>PTR_BASE64タイプの場合、関数引数はバイナリデータを含むBASE64エンコード文字列を返します。実際の関数を呼び出す前に、内部gtk_server_data_format関数を使用してバイナリデータのメモリレイアウトを設定してください。その後、返されたBASE64文字列は、内部gtk_server_unpack関数を使用してデコードできます。<P>
          <A NAME="lbAF"></A>
        <H2>マクロ</H2>GTKでは、ウィジェットを定義するために複数の関数が必要になる場合があります。これらの関数は、マクロにグループ化できます。clientscriptから、マクロの名前を使用してマクロを呼び出すことができます。マクロのレイアウトは次のとおりです:<P>
          <B>MACRO&lt;名前></B>
          <BR>
          <B>$a:GTK_関数</B>
          <BR>
          <B>GTK_関数$1$2$3</B>
          <BR>
          <B>……………………</B>
          <BR>
          <B>RETURN&lt;値></B>
          <BR>
          <B>ENDMACRO[マクロ終了]</B>
        <P>マクロの各行には、GTK関数を1つだけ含めることができます。マクロは引数を使用して呼び出すことができます。マクロ内では、これらの引数は$1、$2、$3などで表されます。$0はマクロ名自体を指します。$@を使用すると、すべての引数を一度に参照できます。マクロは最大9個の引数を受け入れることができます。それ以上の引数がある場合は無視されます。<P>マクロでは変数を使用することもできます。変数名はドル記号「$」で始まる必要があります。その後は、変数名の最初の文字のみが重要です。つまり、各マクロには最大26個の変数(小文字)があります。<P>マクロ内では、GTK関数の結果を変数に割り当てることができます。ただし、代入演算子であるコロン記号が変数名またはGTK関数名に付加されていないことが重要です。次に例を示します。<P>
          <B>$window:gtk_window_new GTK_WINDOW_TOPLEVEL</B>
        <P>また、変数に文字列を割り当てることもできます。これを行うには、文字列の前に&#39;&amp;&#39;記号を付ける必要があります。例:<P>
          <B>$var:Hello world(&amp;H)</B>
        <P>マクロ内の変数は自動的にゼロに初期化されますが、マクロオブジェクトの実行後もその値は保持されます。その後、&#39;gtk_server_macro_var&#39;を呼び出すことにより、変数をclientscriptで取得できます。次に例を示します。<P>
          <B>gtk_server_macro_var&lt;マクロ名>var</B>
        <P>マクロで使用するコマンドがいくつかあります。これらは大文字で記述する必要があります。たとえば、変数の値の条件で相対ジャンプを実行できます。コマンド&#39;VALUE&#39;は、変数にゼロ以外の値が含まれる場合にジャンプし、コマンド&#39;EMPTY&#39;は、変数がゼロの場合にジャンプします。コマンド&#39;JUMP&#39;は、条件に関係なく常にジャンプします。次に例を示します。<P>
          <B>$var値3</B>
        <P>この例では、GTKサーバーは、変数「var」がゼロに等しくない場合に3つのステートメントを前方にジャンプします。コマンド「EMPTY」、「VALUE」および「JUMP」は、前後にジャンプできますが、マクロオブジェクト内でのみです。マクロの外側へのジャンプは、マクロの最後に移動するか、またはジャンプが負の場合は先頭に移動します。<P>ジャンプの次に、&#39;COMPARE&#39;を使用して変数間の比較を行うことができます。2つの変数が比較される場合、比較の結果はローカルz変数に入れられます。したがって、比較される変数の内容が等しい場合、z変数は&#39;0&#39;になります。それ以外の場合、ローカルz変数は&#39;1&#39;になります。次に例を示します。<P>
          <B>$event COMPARE$ウィンドウ</B>
          <BR>
          <B>$z空-5</B>
        <P>連想配列を設定することもできます。連想配列は、すべてのマクロに対してグローバルに表示されます。連想配列を使用すると、マクロの主な戻り値を別の値に接続できます。これにより、マクロから複数の結果を返すことができます。1つの要素を持つ配列は、次のように定義できます。<P>
          <B>$ebox ASSOC$pix(英語の可能性あり)</B>
        <P>別のマクロに「ebox」が引数として渡された場合、関連付けられた値はそのマクロ内で次のように取得できます。<P>
          <B>$pixが$1を取得</B>
        <P>この例では、&#39;pix&#39;変数には、マクロの最初の引数に関連付けられた値が割り当てられます。関連付けの数に制限はありません。連想配列は無限の長さにすることができます。次に例を示します。<P>
          <B>$ebox ASSOC$pix(英語の可能性あり)</B>
          <BR>
          <B>$pix ASSOC$ウィジェット</B>
          <BR>
          <B>$widget ASSOC$ウィンドウ</B>
          <BR>
          <B>[.]</B>
        <P>すべての値は、逆GETを使用して取得できます。<P>
          <B>$pixが$1を取得</B>
          <BR>
          <B>$widget GET$pix$widget GET$pix</B>
          <BR>
          <B>$window GET$ウィジェット</B>
          <BR>
          <B>[.]</B>
        <P>&#39;GET&#39;、&#39;ASSOC&#39;、&#39;COMPARE&#39;、&#39;VALUE&#39;、&#39;EMPTY&#39;および&#39;:&#39;のすべての演算子コマンドでは、左オペランドは変数である必要があります。<P>マクロ内にマクロを定義することはできません。また、重複するマクロ名は許可されていません。ただし、マクロは他のマクロを呼び出すことができます。また、マクロはキーワード&#39;RETURN&#39;を使用してクライアントスクリプトに値を返すことができます。例:<P>
          <B>RETURN$ウィンドウ</B>
        <P>変数に割り当てられている値を調べるには、DEBUGコマンドを使用します。ログが有効になっている場合は、結果がログファイルに出力されます。例:<P>
          <B>DEBUG$ボタン</B>
        <P>GTKサーバー構成ファイルに定義されたHighlevel Universal GUI(HUG)は、マクロ・オブジェクトを使用してインプリメントされます。<A NAME="lbAG"></A><H2>例</H2>&#39;gtk-server.cfg&#39;ファイルの例は、ソースパッケージにあります。<A NAME="lbAH"></A><H2>ライセンス</H2>GPLライセンス。<P>このプログラムはフリーソフトウェアです。Free Software Foundationが発行したGNU General Public License(バージョン2または(お客様の選択により)それ以降のバージョン)の条件に従って、再配布または変更することができます。<P>このプログラムは、有用であることを願って配布されていますが、いかなる保証もありません。商品性や特定の目的に対する適合性についての黙示的な保証もありません。詳細については、GNU General Public Licenseを参照してください。<P>このプログラムと共にGNU General Public Licenseのコピーを受け取っているはずです。受け取っていない場合は、Free Software Foundation,Inc.(59 Temple Place,Suite 330,Boston,MA 02111-1307 USA)までご連絡ください。<A NAME="lbAI"></A><H2>関連項目</H2><A HREF="/cgi-bin/man/man2html?1+gtk-server">gtk-サーバ</A>(1)項<A HREF="/cgi-bin/man/man2html?1+stop-gtk-server">停止-gtk-サーバ</A>(1件)<A NAME="lbAJ"></A><H2>著者</H2>Peter van Eerten氏による最初のコンセプト、設計、実装、電子メール:<A HREF="mailto:peter@gtk-server.org">peter@gtk-server.org(英語の可能性あり)</A><P>現在のバージョンのGTK-サーバは、他の多くの人の助けを借りて作成されました。クレジットについては、ソースパッケージのCREDITSファイルを参照してください。<P><HR>
          <A NAME="index"></A>
        <H2>索引</H2>
<DL>
<DT>
          <A HREF="#lbAB">名前</A>
        <DD><DT>
          <A HREF="#lbAC">概要</A>
        <DD><DT>
          <A HREF="#lbAD">説明</A>
        <DD><DT>
          <A HREF="#lbAE">ポインタ引数</A>
        <DD><DT>
          <A HREF="#lbAF">マクロ</A>
        <DD><DT>
          <A HREF="#lbAG">例</A>
        <DD><DT>
          <A HREF="#lbAH">ライセンス</A>
        <DD><DT>
          <A HREF="#lbAI">関連項目</A>
        <DD><DT>
          <A HREF="#lbAJ">著者</A>
        <DD></DL>
<HR>このドキュメントはによって作成されました<A HREF="/cgi-bin/man/man2html">man2html(英語の可能性あり</A>マニュアルページを使用します。<BR>時間:12:52:26 GMT,October 07,2022</BODY>
</HTML>
