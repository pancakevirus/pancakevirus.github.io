
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>A Brief introduction (日本語) &#8212; Objeck Programming Language 6.3.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="A Brief introduction" href="objeck_lang.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="objeck_lang.html" title="A Brief introduction"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Objeck Programming Language 6.3.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">A Brief introduction (日本語)</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="a-brief-introduction">
<h1>A Brief introduction (日本語)<a class="headerlink" href="#a-brief-introduction" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>Author: Randy Hollines</p>
<p>Date: March 4, 2018</p>
<p>Translatior: isVowel</p>
<p>Translated date: March, 15, 2022</p>
</div>
<div class="section" id="id1">
<h1>ごあいさつ<a class="headerlink" href="#id1" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>Objeck 言語の設計思想は使いやすい強い型付けのオブジェクト指向プログラミング言語です。
2008 年当時、この言語は初期開発段階であったため、
既存のオブジェクト指向と関数型プログラミング言語の調査を行い、
それらの機能をシンプルにしたものを
Objeck として実装しました。</p>
<p>主要搭載機能:</p>
<ul class="simple">
<li><p>シンプルで直観的なクラスライブラリ</p></li>
<li><p>関数型プログラミングのサポート</p></li>
<li><p>並列処理 (スレッドとミューテックス)</p></li>
<li><p>メモリの自動管理</p></li>
<li><p>ネイティブ JIT 方式による実行器（バイトコード計算機）</p></li>
<li><p>UTF-8 による I/O の Unicode サポート</p></li>
<li><p>クロスプラットフォームライブラリ</p></li>
<li><p>Windows, Linux および OS X のフルサポート</p></li>
</ul>
</div>
<div class="section" id="id2">
<h1>お使いになる前に<a class="headerlink" href="#id2" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>バイナリ (またはソースコード) を入手するには、プロジェクトのウェブサイト
<a class="reference external" href="http://www.objeck.org/">objeck.org</a> を開いてください。 Windows, Linux
および macOS 用の対話型インストーラもダウンロード可能です。バイナリのアーカイブファイル (すなわち *.zip と *.tgz) は、その他すべての対応プラットフォームでダウンロード可能です。
このディストリビューションはコンパイラ、仮想マシンとデバッガから構成されています。
コンパイラの名称は <strong>obc</strong> であり、仮想マシン (VM) の名称は <strong>obr</strong> です。</p>
<p>こちらは Objeck で記述した世界一有名な &quot;Hello World&quot; プログラムです:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Hello</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="s2">&quot;Hello World&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="s2">&quot;Καλημέρα κόσμε&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="s2">&quot;こんにちは 世界&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>プログラムとして UTF-8 形式のテキストファイル <strong>hello.obs</strong> を保存します。
先述のコマンドは実行可能ファイル <strong>hello.obe</strong> を作成します。
その後、このファイルを実行します。</p>
<p>コードをコンパイルするには以下を入力します:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src hello.obs -dest hello.obe
</pre></div>
</div>
<p>コードを実行するには以下を入力します:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obr hello.obe
</pre></div>
</div>
<p>Windows では結果を確認しやすくするために、テキストファイルへ実行結果をリダイレクトしてからメモ帳で開いてみてください。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obr hello.obe &gt; hello.txt
</pre></div>
</div>
</div>
<div class="section" id="id3">
<h1>コードのコンパイルと実行<a class="headerlink" href="#id3" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>Objeck コンパイラは二種類のバイナリを生成します。
すなわち、実行可能ファイルとライブラリです。コンパイラへライブラリ名を渡すことでライブラリを実行可能ファイルにリンクできます。
命名規約として実行可能ファイルの拡張子は *<strong>.obe</strong> であり、ライブラリの拡張子は <strong>*.obl</strong> です。</p>
<p>こちらはもう少し詳しい用例です。
この用例は XML 処理プログラムのコンパイル後に実行します。
このプログラムではコレクションと XML 構文解析ライブラリをリンクします。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src examples/2_xml.obs -lib collect.obl,xml.obl -dest xml_path.obe
obr xml_path.obe
</pre></div>
</div>
<p>この用例は暗号化ライブラリを用いたプログラムをコンパイル後に実行します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src examples/7_encrypt.obs -lib encrypt.obl -dest encryption.obe
obr encryption.obe
</pre></div>
</div>
<p>多岐にわたるサンプルプログラムのリストは Rosetta code の
<a class="reference external" href="https://github.com/objeck/objeck-lang/tree/master/programs/rc">solutions</a>
をご確認ください。そのほかのライブラリについても、より詳しく学ぶには
<a class="reference external" href="http://www.objeck.org/docs/api/index.html">API ドキュメンテーション</a> をご確認ください。</p>
<p>表 1 - コンパイラのオプション</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>オプション</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>-src</p></td>
<td><p>‘,’ で区切り指定したソースファイルのパス</p></td>
</tr>
<tr class="row-odd"><td><p>-lib</p></td>
<td><p>‘,’ で区切り指定したライブラリファイルのパス</p></td>
</tr>
<tr class="row-even"><td><p>-tar</p></td>
<td><p>出力形式です。オプションとして <strong>exe</strong> は実行可能ファイル、</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><strong>lib</strong> はライブラリとなります。デフォルトは <strong>exe</strong> です。</p></td>
</tr>
<tr class="row-even"><td><p>-opt</p></td>
<td><p>最適化水準。 <strong>s0</strong> は消極的 (無し)、 <strong>s3</strong> は</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>積極的 (最高) です。デフォルトは <strong>s0</strong> です。</p></td>
</tr>
<tr class="row-even"><td><p>-dest</p></td>
<td><p>出力ファイル名</p></td>
</tr>
<tr class="row-odd"><td><p>-alt</p></td>
<td><p>C 言語風のシンタックスで書かれたソースコードのコンパイル</p></td>
</tr>
<tr class="row-even"><td><p>-debug</p></td>
<td><p>指定時は、デバッガで使うデバッグアウトを生成します。</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>(これは必ず引数の最後尾に指定してください)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id4">
<h1>基本機能<a class="headerlink" href="#id4" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>最初にリテラル、変数と制御フローを調べてみましょう。</p>
<div class="section" id="id5">
<h2>リテラルと変数<a class="headerlink" href="#id5" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>リテラルは大半のプログラミング言語で定義されています。
Objeck において、リテラルはオブジェクトとして扱われるため、それらと関連付けられたメソッドがあります。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;\u00BD&#39;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="mi">13</span><span class="o">-&gt;</span><span class="no">Min</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="mi">3</span><span class="o">.</span><span class="mi">89</span><span class="o">-&gt;</span><span class="no">Sin</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="s2">&quot;Hello World&quot;</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
</pre></div>
</div>
<p>こちらは変数の宣言と代入に関する数点の用例です。明示的に変数の型を定義、または代入やキャストにより暗黙的に型推論を行えます。変数の型推論を使うとキャストは可能であっても、以降のプログラムで再定義できなくなります。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="p">:</span> <span class="no">Int</span><span class="p">;</span>
<span class="n">b</span> <span class="p">:</span> <span class="nb">Float</span> <span class="p">:</span><span class="o">=</span> <span class="mi">13</span><span class="o">.</span><span class="mi">5</span><span class="p">;</span>
<span class="n">c</span> <span class="p">:</span><span class="o">=</span> <span class="mi">7</span><span class="o">.</span><span class="mi">25</span><span class="p">;</span> <span class="c1"># Float として型推論</span>
<span class="n">d</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">b</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">Int</span><span class="p">);</span> <span class="c1"># Int として型推論</span>
</pre></div>
</div>
<p>表 2 - データ型</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>型</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Char</p></td>
<td><p>Unicode 文字値</p></td>
</tr>
<tr class="row-odd"><td><p>Char[]</p></td>
<td><p>Unicode 文字配列</p></td>
</tr>
<tr class="row-even"><td><p>Bool</p></td>
<td><p>ブール値</p></td>
</tr>
<tr class="row-odd"><td><p>Bool[]</p></td>
<td><p>ブール配列</p></td>
</tr>
<tr class="row-even"><td><p>Byte</p></td>
<td><p>1-byte 整数値</p></td>
</tr>
<tr class="row-odd"><td><p>Byte[]</p></td>
<td><p>1-byte 整数配列</p></td>
</tr>
<tr class="row-even"><td><p>Int</p></td>
<td><p>4-byte 整数値</p></td>
</tr>
<tr class="row-odd"><td><p>Int[]</p></td>
<td><p>4-byte 整数配列</p></td>
</tr>
<tr class="row-even"><td><p>Float</p></td>
<td><p>8-byte 十進数値</p></td>
</tr>
<tr class="row-odd"><td><p>Float[]</p></td>
<td><p>8-byte 十進数配列</p></td>
</tr>
<tr class="row-even"><td><p>Object</p></td>
<td><p>抽象データ型の参照</p></td>
</tr>
<tr class="row-odd"><td><p>Object[]</p></td>
<td><p>抽象データ型の配列</p></td>
</tr>
<tr class="row-even"><td><p>Function</p></td>
<td><p>関数の参照</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id6">
<h2>コメント<a class="headerlink" href="#id6" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>コメントは一行、または複数行に渡ります。 さらに、コメントはバンドル、クラス、インタフェースと関数やメソッドからコードのドキュメンテーションを生成するのに使われます。コードからドキュメンテーションを生成する方法は <a class="reference external" href="http://www.objeck.org">プロジェクトのウェブサイト</a>に掲載されている追加情報を参照してください。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">flag</span> <span class="p">:</span><span class="o">=</span> <span class="kp">false</span><span class="p">;</span> <span class="c1"># 一行コメント</span>
<span class="c1">#~</span>
複数行コメント。上述のフラグには
<span class="kp">true</span> や <span class="kp">false</span> を設定します
<span class="o">~</span><span class="c1">#</span>
</pre></div>
</div>
</div>
<div class="section" id="id7">
<h2>ロジックと制御フロー<a class="headerlink" href="#id7" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>一般的な言語と同じく Objeck でも条件式と制御フローのロジックをサポートしています。唯一、些細な違いがあるとすれば条件付きステートメントの末尾にはセミコロンを付けることです。</p>
<div class="section" id="if-else">
<h3>If/else<a class="headerlink" href="#if-else" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;if/else&quot; ステートメントは基本的な制御ステートメントです。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">number</span> <span class="p">:</span><span class="o">=</span> <span class="no">Console</span><span class="o">-&gt;</span><span class="no">ReadLine</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">ToInt</span><span class="p">();</span>
<span class="k">if</span><span class="p">(</span><span class="n">number</span> <span class="o">&lt;&gt;</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
        <span class="s2">&quot;3 と不等価&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">number</span> <span class="o">&lt;</span> <span class="mi">13</span><span class="p">)</span> <span class="p">{</span>
        <span class="s2">&quot;13 以下&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="s2">&quot;それ以外の数値&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="select">
<h3>Select<a class="headerlink" href="#select" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;Select&quot; ステートメントは整数と列挙型の値をコードブロックへ効率的に割り当てるために使います。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="nb">select</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">label</span> <span class="no">Color</span><span class="o">-&gt;</span><span class="ss">Red</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;赤色&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
        <span class="n">label</span> <span class="no">Color</span><span class="o">-&gt;</span><span class="ss">Green</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;緑色&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
        <span class="n">label</span> <span class="no">Color</span><span class="o">-&gt;</span><span class="ss">Purple</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;紫色&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
        <span class="ss">other</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;その他の色&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>

<span class="nb">select</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">label</span> <span class="mi">9</span><span class="p">:</span>
        <span class="n">label</span> <span class="mi">19</span><span class="p">:</span> <span class="p">{</span> <span class="n">n</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
        <span class="n">label</span> <span class="mi">27</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="mi">3</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">=</span> <span class="n">n</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="p">}</span>
<span class="p">};</span>
</pre></div>
</div>
<p>この言語では以下のループ処理ステートメントをサポートしています。</p>
</div>
<div class="section" id="do">
<h3>Do<a class="headerlink" href="#do" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;do&quot; ループは単純な事前評価のループです。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="k">while</span><span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">i</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="do-while">
<h3>Do/While<a class="headerlink" href="#do-while" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;do/while&quot; ループは基本的な事後評価のループです。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
        <span class="n">i</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="k">while</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;&gt;</span> <span class="mi">10</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="for">
<h3>For<a class="headerlink" href="#for" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;for&quot; ループは制御式で展開された制御ループです。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">location</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;East Bay&quot;</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">location</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">();</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;)</span> <span class="p">{</span>
        <span class="n">location</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="each">
<h3>Each<a class="headerlink" href="#each" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>&quot;each&quot; ループは配列やコレクションに存在する要素全体を反復処理する制御ループです。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">area_code</span> <span class="p">:</span><span class="o">=</span> <span class="no">Int</span><span class="o">-&gt;</span><span class="no">New</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
<span class="n">area_code</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="n">area_code</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">area_code</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="n">each</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span> <span class="n">values</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">area_code</span><span class="o">[</span><span class="n">i</span><span class="o">]-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id8">
<h2>演算子<a class="headerlink" href="#id8" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>論理演算子、算術演算子およびビット単位演算子をサポートしています。
演算子における最下位から最上位までの優先順位は: <strong>論理演算子、 [+, -]</strong>
および <strong>[*, /, %, &lt;&lt;, &gt;&gt;, and, or, xor]</strong> です。
同一優先順位の演算子は左辺から右辺へ評価します。</p>
<p>表 3 - 論理演算子</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>演算子</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&amp;</p></td>
<td><p>論理積 (および)</p></td>
</tr>
<tr class="row-odd"><td><p>|</p></td>
<td><p>論理和 (または)</p></td>
</tr>
<tr class="row-even"><td><p>=</p></td>
<td><p>等価</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;&gt;</p></td>
<td><p>不等価 (単項 not)</p></td>
</tr>
<tr class="row-even"><td><p>&lt;</p></td>
<td><p>以下 (小なり)</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;</p></td>
<td><p>以上 (大なり)</p></td>
</tr>
<tr class="row-even"><td><p>&lt;=</p></td>
<td><p>以下または等価</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;=</p></td>
<td><p>以上または等価</p></td>
</tr>
</tbody>
</table>
<p>表 4 - 算術演算子</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 42%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>演算子</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>+</p></td>
<td><p>加算</p></td>
</tr>
<tr class="row-odd"><td><p>-</p></td>
<td><p>減算</p></td>
</tr>
<tr class="row-even"><td><p>*</p></td>
<td><p>乗算</p></td>
</tr>
<tr class="row-odd"><td><p>/</p></td>
<td><p>除算</p></td>
</tr>
<tr class="row-even"><td><p>%</p></td>
<td><p>余剰</p></td>
</tr>
</tbody>
</table>
<p>表 5 - ビット単位演算子</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>演算子</p></th>
<th class="head"><p>概要</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>&lt;&lt;</p></td>
<td><p>左シフト</p></td>
</tr>
<tr class="row-odd"><td><p>&gt;&gt;</p></td>
<td><p>シフト</p></td>
</tr>
<tr class="row-even"><td><p>and</p></td>
<td><p>ビット単位 and</p></td>
</tr>
<tr class="row-odd"><td><p>or</p></td>
<td><p>ビット単位 or</p></td>
</tr>
<tr class="row-even"><td><p>xor</p></td>
<td><p>ビット単位 xor</p></td>
</tr>
</tbody>
</table>
<p>図 1 - クレジットカードの簡易認証</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Luhn</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="n">cc</span> <span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="o">~</span> <span class="no">Bool</span> <span class="p">{</span>
                <span class="n">isOdd</span> <span class="p">:</span><span class="o">=</span> <span class="kp">true</span><span class="p">;</span> <span class="n">oddSum</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">evenSum</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="n">cc</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;)</span> <span class="p">{</span>
                        <span class="n">digit</span> <span class="p">:</span> <span class="no">Int</span> <span class="p">:</span><span class="o">=</span> <span class="n">cc</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">-</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
                        <span class="k">if</span><span class="p">(</span><span class="n">isOdd</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">oddSum</span> <span class="o">+=</span> <span class="n">digit</span><span class="p">;</span>
                        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                                <span class="n">evenSum</span> <span class="o">+=</span> <span class="n">digit</span> <span class="o">/</span> <span class="mi">5</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">digit</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">;</span>
                        <span class="p">};</span>
                        <span class="n">isOdd</span> <span class="p">:</span><span class="o">=</span> <span class="n">isOdd</span> <span class="o">&lt;&gt;</span> <span class="kp">true</span><span class="p">;</span>
                        <span class="p">};</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">oddSum</span> <span class="o">+</span> <span class="n">evenSum</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;49927398716&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;49927398717&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;1234567812345678&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;1234567812345670&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Base64 エンコーディング処理クラスよりコードを引用</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="c1"># 基本的なエンコーディング処理のループ</span>
<span class="n">r</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span> <span class="n">i</span> <span class="p">:</span> <span class="no">Int</span><span class="p">;</span> <span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="k">end</span><span class="p">;</span> <span class="n">i</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;)</span> <span class="p">{</span>
<span class="n">a</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">data</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="mi">16</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">data</span><span class="o">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">]</span> <span class="o">&lt;&lt;</span> <span class="mi">8</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">data</span><span class="o">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="o">]</span><span class="p">);</span>
        <span class="n">r</span><span class="o">-&gt;</span><span class="no">Append</span><span class="p">(</span> <span class="n">lut</span><span class="o">[</span><span class="mh">0x3F</span> <span class="ow">and</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">18</span><span class="p">)</span><span class="o">]</span> <span class="p">);</span>
        <span class="n">r</span><span class="o">-&gt;</span><span class="no">Append</span><span class="p">(</span> <span class="n">lut</span><span class="o">[</span><span class="mh">0x3F</span> <span class="ow">and</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">12</span><span class="p">)</span><span class="o">]</span> <span class="p">);</span>
        <span class="n">r</span><span class="o">-&gt;</span><span class="no">Append</span><span class="p">(</span> <span class="n">lut</span><span class="o">[</span><span class="mh">0x3F</span> <span class="ow">and</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="mi">6</span><span class="p">)</span><span class="o">]</span> <span class="p">);</span>
        <span class="n">r</span><span class="o">-&gt;</span><span class="no">Append</span><span class="p">(</span> <span class="n">lut</span><span class="o">[</span><span class="mh">0x3F</span> <span class="ow">and</span> <span class="n">a</span><span class="o">]</span> <span class="p">);</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h2>配列、文字列とコレクション<a class="headerlink" href="#id9" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>動的割り当ての配列、 Unicode 文字列および多岐にわたるコンテナを言語でサポートしています。</p>
<div class="section" id="id10">
<h3>配列<a class="headerlink" href="#id10" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>配列はインデックス付きリストのような型を扱えます。
配列はヒープから動的割り当てが行われた後にガベージコレクターによりメモリが管理されます。ランタイムシステムは範囲検査をサポートしており、配列の範囲が侵害されると実行を停止します。</p>
<p>配列の割り当てとインデックス処理</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="c1"># Int 配列の割り当て</span>
<span class="n">boxes</span> <span class="p">:</span><span class="o">=</span> <span class="no">Int</span><span class="o">-&gt;</span><span class="no">New</span><span class="o">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">8</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
<span class="n">boxes</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="n">dims</span> <span class="p">:</span><span class="o">=</span> <span class="n">boxes</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">();</span> <span class="c1"># 次元数の取得</span>
<span class="n">dims</span><span class="o">[</span><span class="mi">0</span><span class="o">]-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="c1"># 一次元</span>
<span class="n">dims</span><span class="o">[</span><span class="mi">1</span><span class="o">]-&gt;</span><span class="no">PrintLine</span><span class="p">();</span> <span class="c1"># 二次元</span>

<span class="c1"># 文字列の作成とイテレート</span>
<span class="n">directions</span> <span class="p">:</span><span class="o">=</span> <span class="nb">String</span><span class="o">-&gt;</span><span class="no">New</span><span class="o">[</span><span class="mi">4</span><span class="o">]</span><span class="p">;</span>
<span class="n">directions</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;North&quot;</span><span class="p">;</span>
<span class="n">directions</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;South&quot;</span><span class="p">;</span>
<span class="n">directions</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;East&quot;</span><span class="p">;</span>
<span class="n">directions</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;West&quot;</span><span class="p">;</span>
<span class="n">each</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span> <span class="n">directions</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">directions</span><span class="o">[</span><span class="n">i</span><span class="o">]-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="id11">
<h3>文字列<a class="headerlink" href="#id11" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>文字列は <strong>String</strong> クラスでサポートされた Unicode 文字のコレクションです。
String クラスは挿入、検索、部分文字列、型解析 (すなわち、 <strong>String</strong> から <strong>Float</strong> への変換)
など多種多様な処理をサポートしています。
変数の値についても文字列リテラル内へインライン化できます。
文字列は文字の配列と UTF-8 バイトの配列へ変換可能です。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="nb">name</span> <span class="p">:</span><span class="o">=</span> <span class="s2">&quot;DJ&quot;</span><span class="p">;</span>
<span class="nb">name</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
<span class="nb">name</span> <span class="o">+=</span> <span class="s2">&quot;Premier&quot;</span><span class="p">;</span>
<span class="nb">name</span><span class="o">-&gt;</span><span class="no">SubString</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="nb">name</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
</pre></div>
</div>
<p>日時計プログラムよりコードを引用</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;時間</span><span class="se">\t\t</span><span class="s2">太陽の時角</span><span class="se">\t\t</span><span class="s2">午前 6 時～午後 6 時までの文字盤の時間軸における角度&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="k">for</span><span class="p">(</span><span class="n">h</span> <span class="p">:</span><span class="o">=</span> <span class="o">-</span><span class="mi">6</span><span class="p">;</span> <span class="n">h</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="p">;</span> <span class="n">h</span><span class="o">+=</span><span class="mi">1</span><span class="p">;)</span> <span class="p">{</span>
        <span class="n">hra</span> <span class="p">:</span><span class="o">=</span> <span class="mi">15</span><span class="o">.</span><span class="mi">0</span> <span class="o">*</span> <span class="n">h</span><span class="p">;</span>
        <span class="n">hra</span> <span class="o">-=</span> <span class="n">lng</span> <span class="o">-</span> <span class="n">ref</span><span class="p">;</span>
        <span class="n">hla</span> <span class="p">:</span><span class="o">=</span> <span class="p">(</span><span class="n">slat</span><span class="o">*</span> <span class="p">(</span><span class="n">hra</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="nb">Float</span><span class="o">-&gt;</span><span class="no">Pi</span><span class="p">()</span><span class="o">/</span><span class="mi">360</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">Tan</span><span class="p">())</span>
                <span class="o">-&gt;</span><span class="no">ArcTan</span><span class="p">()</span> <span class="o">*</span> <span class="mi">360</span><span class="o">.</span><span class="mi">0</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">Float</span><span class="o">-&gt;</span><span class="no">Pi</span><span class="p">());</span>
        <span class="s2">&quot;HR={$h}</span><span class="se">\t\t</span><span class="s2">HRA={$hra}</span><span class="se">\t\t</span><span class="s2">HLA={$hla}&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="id12">
<h3>コレクション<a class="headerlink" href="#id12" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>さらに、Vectors (ベクトル), Lists (リスト) および Maps (リスト) など多種多様なコレクションの配列を言語でサポートしています。
コレクションクラスに関して詳しく知るには、
<a class="reference external" href="http://www.objeck.org/docs/api/index.html">API ドキュメンテーション</a>
をご確認ください。 これらのクラスを使うには、コレクションのバンドルを必ず以下の行でコードで参照してください:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">use</span> <span class="no">Collection</span><span class="p">;</span>
</pre></div>
</div>
<p>コレクションを使うプログラムのコンパイル時は必要とされるライブラリを必ずリンクしてください。例えば、</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src genres.obs -lib collect.obl -dest genres.obe
</pre></div>
</div>
<p><strong>ベクトル</strong> とは動的可変長配列です。 インデックス処理、イテレート、および値の末尾追加において高速処理をサポートしています。
ベクトルの処理性能を改善するには処理前にメモリを割り当てます。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">genres</span> <span class="p">:</span><span class="o">=</span> <span class="no">Vector</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
<span class="n">genres</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;ヒップホップ&quot;</span><span class="p">);</span>
<span class="n">genres</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;クラシック&quot;</span><span class="p">);</span>
<span class="n">genres</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;ジャズ&quot;</span><span class="p">);</span>
<span class="n">genres</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;ロック&quot;</span><span class="p">);</span>
<span class="n">genres</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;フォーク&quot;</span><span class="p">);</span>
<span class="n">each</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span> <span class="n">genres</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">genres</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>リスト</strong> とは線形連結ノードのコレクションです。 値の挿入と削除において高速処理をサポートしています。メモリのノードはオンデマンドで割り当てられますが、
<strong>ベクトル</strong> と同じようにノードでインデックスを直接使うことはできません。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">artists</span> <span class="p">:</span><span class="o">=</span> <span class="no">List</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
<span class="n">artists</span><span class="o">-&gt;</span><span class="no">AddBack</span><span class="p">(</span><span class="s2">&quot;ヘンドリックス&quot;</span><span class="p">);</span>
<span class="n">artists</span><span class="o">-&gt;</span><span class="no">AddFront</span><span class="p">(</span><span class="s2">&quot;ベック&quot;</span><span class="p">);</span>
<span class="c1"># 中央への挿入でカーソルを戻す</span>
<span class="n">artists</span><span class="o">-&gt;</span><span class="no">Back</span><span class="p">();</span>
<span class="n">artists</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="s2">&quot;大衆&quot;</span><span class="p">);</span>
<span class="c1"># リストの先頭へカーソルを移動</span>
<span class="n">artists</span><span class="o">-&gt;</span><span class="no">Rewind</span><span class="p">();</span>
<span class="c1"># 値のイテレート</span>
<span class="k">while</span><span class="p">(</span><span class="n">artists</span><span class="o">-&gt;</span><span class="no">More</span><span class="p">())</span> <span class="p">{</span>
        <span class="n">artists</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="n">artists</span><span class="o">-&gt;</span><span class="no">Next</span><span class="p">();</span>
<span class="p">};</span>
</pre></div>
</div>
<p><strong>Map</strong> (マップ) と <strong>Hash</strong> (ハッシュ) クラスは key/value ペアを処理します。
<strong>Map</strong> はツリーにある値を処理してからオンデマンドでメモリを割り当てます。 <strong>マップ</strong> はハッシュよりも処理速度は遅いですが、メモリの処理効率は優れています。 <strong>ハッシュ</strong> はメモリ消費量を犠牲にすることでキーを用いた配列のインデックス処理、および挿入と削除における高速処理をサポートします。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">area_codes</span> <span class="p">:</span><span class="o">=</span> <span class="no">IntMap</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
<span class="n">area_codes</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="mi">510</span><span class="p">,</span> <span class="s2">&quot;オークランド&quot;</span><span class="p">);</span>
<span class="n">area_codes</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="mi">415</span><span class="p">,</span> <span class="s2">&quot;サンフランシスコ&quot;</span><span class="p">);</span>
<span class="n">area_codes</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="mi">650</span><span class="p">,</span> <span class="s2">&quot;パロアルト&quot;</span><span class="p">);</span>
<span class="n">area_codes</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="mi">408</span><span class="p">,</span> <span class="s2">&quot;サンノゼ&quot;</span><span class="p">);</span>
<span class="n">area_codes</span><span class="o">-&gt;</span><span class="no">Find</span><span class="p">(</span><span class="mi">510</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="nb">String</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id13">
<h1>オブジェクトと関数<a class="headerlink" href="#id13" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>冒頭で述べましたが、 Objeck はオブジェクト指向と関数型プログラミングのコンセプトをサポートしています。
クラスと関数をコンテキストへ配置するためのプログラミングスコープ全体は以下の通りです:</p>
<p>バンドル → クラス → メソッド・関数→ ローカルブロック</p>
<div class="section" id="id14">
<h2>クラスとインタフェース<a class="headerlink" href="#id14" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>その他の言語と同じく、<strong>class</strong> (クラス) は操作と関連づけられたデータの
抽象化コレクションです。 <strong>interface</strong> (インタフェース) は
クラスを実装する場合に条件を与えるための操作 (契約) の設定です。
Objeck において、クラスとインタフェースはすべてパブリックです。
クラスのメンバ変数は外界から保護されています。
しかしながら、外部クラスのソースから継承したクラスで親のメンバ変数へアクセスできます。
外部からクラスを呼び出すには必ず “getters” と “setters” を使い、コンパイラで最適化したコードを生成してください。</p>
<p>静的パブリック<strong>関数</strong>と同じく、パブリックやプライベートの<strong>メソッド</strong>がクラスにあります。 実装が未定義であっても、<strong>インタフェース</strong>には種類を問わずメソッドや関数 (すなわち、<strong>パブリック</strong>や<strong>プライベート</strong>) の定義が可能です。
最後に、 Objeck は<strong>リフレクション</strong>をサポートしているため、実行時におけるインスタンスの動的内観をプログラマができるようにします。</p>
<p>以下は関連概念の大半を解説したコードの用例です。
リフレクションとオブジェクトのシリアル化など各種機能について詳しく知るには <a class="reference external" href="http://www.objeck.org/docs/api/index.html">API ドキュメンテーション</a>を参照してください。</p>
<p>図 2 - クラス、インターフェイスとリフレクション</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="no">Registration</span> <span class="p">{</span>
        <span class="nb">method</span> <span class="p">:</span> <span class="n">virtual</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetColor</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span><span class="p">;</span>
        <span class="nb">method</span> <span class="p">:</span> <span class="n">virtual</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetMake</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span><span class="p">;</span>
        <span class="nb">method</span> <span class="p">:</span> <span class="n">virtual</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetModel</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">enum</span> <span class="no">EngineType</span> <span class="p">{</span>
        <span class="no">Gas</span> <span class="p">:</span><span class="o">=</span> <span class="mi">200</span><span class="p">,</span>
        <span class="no">Hybrid</span><span class="p">,</span>
        <span class="no">Electric</span><span class="p">,</span>
        <span class="no">Warp</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Vehicle</span> <span class="p">{</span>
        <span class="vi">@wheels</span> <span class="p">:</span> <span class="no">Int</span><span class="p">;</span>
        <span class="vi">@color</span> <span class="p">:</span> <span class="nb">String</span><span class="p">;</span>
        <span class="vi">@engine_type</span> <span class="p">:</span> <span class="no">EngineType</span><span class="p">;</span>

        <span class="no">New</span><span class="p">(</span><span class="n">wheels</span> <span class="p">:</span> <span class="no">Int</span><span class="p">,</span> <span class="n">color</span> <span class="p">:</span> <span class="nb">String</span><span class="p">,</span> <span class="n">engine_type</span> <span class="p">:</span> <span class="no">EngineType</span><span class="p">)</span> <span class="p">{</span>
                <span class="vi">@wheels</span> <span class="p">:</span><span class="o">=</span> <span class="n">wheels</span><span class="p">;</span>
                <span class="vi">@color</span> <span class="p">:</span><span class="o">=</span> <span class="n">color</span><span class="p">;</span>
                <span class="vi">@engine_type</span> <span class="p">:</span><span class="o">=</span> <span class="n">engine_type</span><span class="p">;</span>
<span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetColor</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span> <span class="p">{</span>
                <span class="k">return</span> <span class="vi">@color</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetEngine</span><span class="p">()</span> <span class="o">~</span> <span class="no">EngineType</span> <span class="p">{</span>
                <span class="k">return</span> <span class="vi">@engine_type</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">StarShip</span> <span class="n">from</span> <span class="no">Vehicle</span> <span class="n">implements</span> <span class="no">Registration</span> <span class="p">{</span>
        <span class="no">New</span><span class="p">()</span> <span class="p">{</span>
                <span class="no">Parent</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s2">&quot;Metal Fuschia&quot;</span><span class="p">,</span> <span class="no">EngineType</span><span class="o">-&gt;</span><span class="no">Warp</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetMake</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span> <span class="p">{</span>
                <span class="k">return</span> <span class="s2">&quot;Excelsior&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetModel</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span> <span class="p">{</span>
                <span class="k">return</span> <span class="s2">&quot;NX-2000&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">EchoDescription</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="s2">&quot;ボルグのパーティで、一緒に飲もう！&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Pinto</span> <span class="n">from</span> <span class="no">Vehicle</span> <span class="n">implements</span> <span class="no">Registration</span> <span class="p">{</span>
        <span class="no">New</span><span class="p">()</span> <span class="p">{</span>
                <span class="no">Parent</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetMake</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span> <span class="p">{</span>
                <span class="k">return</span> <span class="s2">&quot;Ford&quot;</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetModel</span><span class="p">()</span> <span class="o">~</span> <span class="nb">String</span> <span class="p">{</span>
                <span class="k">return</span> <span class="s2">&quot;Pinto&quot;</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">VehicleTest</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="n">pinto</span> <span class="p">:</span><span class="o">=</span> <span class="no">Pinto</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
                <span class="n">star_ship</span> <span class="p">:</span><span class="o">=</span> <span class="no">StarShip</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
                <span class="n">type_of</span> <span class="p">:</span><span class="o">=</span> <span class="n">pinto</span><span class="o">-&gt;</span><span class="no">TypeOf</span><span class="p">(</span><span class="no">Vehicle</span><span class="p">);</span>
                <span class="n">type_of</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="n">type_of</span> <span class="p">:</span><span class="o">=</span> <span class="n">star_ship</span><span class="o">-&gt;</span><span class="no">TypeOf</span><span class="p">(</span><span class="no">Vehicle</span><span class="p">);</span>
                <span class="n">type_of</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="n">type_of</span> <span class="p">:</span><span class="o">=</span> <span class="n">pinto</span><span class="o">-&gt;</span><span class="no">TypeOf</span><span class="p">(</span><span class="no">StarShip</span><span class="p">);</span>
                <span class="n">type_of</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="n">registration</span> <span class="p">:</span><span class="o">=</span> <span class="n">star_ship</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">Registration</span><span class="p">);</span>
                <span class="n">registration</span><span class="o">-&gt;</span><span class="no">GetMake</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="n">registration</span><span class="o">-&gt;</span><span class="no">GetColor</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="n">enterprise</span> <span class="p">:</span><span class="o">=</span> <span class="n">registration</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">StarShip</span><span class="p">);</span>
                <span class="n">enterprise</span><span class="o">-&gt;</span><span class="no">EchoDescription</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="id15">
<h3>無名クラス<a class="headerlink" href="#id15" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>無名クラスは「インライン化」が求められるメソッドや
関数のインタフェースとして作成可能です。
外部変数はクラスのコンストラクタの参照として渡され場合、
無名クラスの内側で参照可能です。</p>
<p>図 3 - Objeck のシリアル化と継承</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">interface</span> <span class="no">Greetings</span> <span class="p">{</span>
        <span class="nb">method</span> <span class="p">:</span> <span class="n">virtual</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">SayHi</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Hello</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="n">hey</span> <span class="p">:</span><span class="o">=</span> <span class="no">Base</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">()</span> <span class="n">implements</span> <span class="no">Greetings</span> <span class="p">{</span>
                        <span class="no">New</span><span class="p">()</span> <span class="p">{}</span>
                        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">SayHi</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                                <span class="s2">&quot;おや...&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                        <span class="p">}</span>
                <span class="p">};</span>

                <span class="n">howdy</span> <span class="p">:</span><span class="o">=</span> <span class="no">Base</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">()</span> <span class="n">implements</span> <span class="no">Greetings</span> <span class="p">{</span>
                        <span class="no">New</span><span class="p">()</span> <span class="p">{}</span>
                        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">SayHi</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                                <span class="s2">&quot;こんにちわ！&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                        <span class="p">}</span>
                <span class="p">};</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id16">
<h3>列挙型と定数<a class="headerlink" href="#id16" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>列挙型 (Enum) は名前付き定数値を列挙したものです。 列挙型の値は連続性があり、
オフセット値が起点となります。 定数、列挙型などは名前付き定数値ではあるものの、
各々に固有値を代入できます。</p>
<p>図 4 - Objeck の列挙型と定数</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">enum</span> <span class="no">Color</span> <span class="p">{</span>
        <span class="no">Red</span><span class="p">,</span>
        <span class="no">Blue</span><span class="p">,</span>
        <span class="no">Green</span>
<span class="p">}</span>

<span class="n">enum</span> <span class="no">Direction</span> <span class="p">{</span>
        <span class="no">Left</span> <span class="p">:</span><span class="o">=</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span>
        <span class="no">Right</span><span class="p">,</span>
        <span class="no">Up</span><span class="p">,</span>
        <span class="no">Down</span>
<span class="p">}</span>

<span class="n">consts</span> <span class="no">Products</span> <span class="p">{</span>
        <span class="no">Pip_Boy</span> <span class="p">:</span><span class="o">=</span> <span class="mi">101</span><span class="p">,</span>
        <span class="no">Valut_Suit</span> <span class="p">:</span><span class="o">=</span> <span class="mi">111</span><span class="p">,</span>
        <span class="no">Laser</span> <span class="p">:</span><span class="o">=</span> <span class="mi">675</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id17">
<h3>シリアル化<a class="headerlink" href="#id17" title="このヘッドラインのパーマリンク">¶</a></h3>
<p>オブジェクトのシリアル化はオブジェクトのインスタンスをバイトへ変換・逆変換する仕組みです。
シリアル化はオブジェクトの状態を残したり (すなわちディスクへの保存)、
そのコピーをネットワークでやりとりするために使われます。</p>
<p>図 5 - Objeck のシリアル化と継承</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">use</span> <span class="no">Collection</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">Thingy</span> <span class="p">{</span>
        <span class="vi">@id</span> <span class="p">:</span> <span class="no">Int</span><span class="p">;</span>

        <span class="no">New</span><span class="p">(</span><span class="nb">id</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="p">{</span>
        <span class="vi">@id</span> <span class="p">:</span><span class="o">=</span> <span class="nb">id</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">Print</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="vi">@id</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Person</span> <span class="n">from</span> <span class="no">Thingy</span> <span class="p">{</span>
        <span class="vi">@name</span> <span class="p">:</span> <span class="nb">String</span><span class="p">;</span>
        <span class="vi">@values</span> <span class="p">:</span> <span class="no">StringMap</span><span class="p">;</span>

        <span class="no">New</span><span class="p">(</span><span class="nb">id</span> <span class="p">:</span> <span class="no">Int</span><span class="p">,</span> <span class="nb">name</span> <span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
                <span class="no">Parent</span><span class="p">(</span><span class="nb">id</span><span class="p">);</span>
                <span class="vi">@name</span> <span class="p">:</span><span class="o">=</span> <span class="nb">name</span><span class="p">;</span>
                <span class="vi">@values</span> <span class="p">:</span><span class="o">=</span> <span class="no">StringMap</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
                <span class="vi">@values</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="s2">&quot;Jason&quot;</span><span class="p">,</span> <span class="no">IntHolder</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="mi">101</span><span class="p">));</span>
                <span class="vi">@values</span><span class="o">-&gt;</span><span class="no">Insert</span><span class="p">(</span><span class="s2">&quot;Mark&quot;</span><span class="p">,</span> <span class="no">IntHolder</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">Print</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="vi">@id</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="vi">@name</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="vi">@values</span><span class="o">-&gt;</span><span class="no">Find</span><span class="p">(</span><span class="s2">&quot;Jason&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">IntHolder</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                <span class="vi">@values</span><span class="o">-&gt;</span><span class="no">Find</span><span class="p">(</span><span class="s2">&quot;Mark&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">IntHolder</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Serial</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="n">t</span> <span class="p">:</span><span class="o">=</span> <span class="no">Thingy</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="mi">7</span><span class="p">);</span>
                <span class="nb">p</span> <span class="p">:</span><span class="o">=</span> <span class="no">Person</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="s2">&quot;Bush&quot;</span><span class="p">);</span>

                <span class="n">s</span> <span class="p">:</span><span class="o">=</span> <span class="no">System</span><span class="o">.</span><span class="n">IO</span><span class="o">.</span><span class="n">Serializer</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">();</span>
                <span class="n">s</span><span class="o">-&gt;</span><span class="no">Write</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
                <span class="n">s</span><span class="o">-&gt;</span><span class="no">Write</span><span class="p">(</span><span class="nb">p</span><span class="p">);</span>

                <span class="n">writer</span> <span class="p">:</span><span class="o">=</span> <span class="no">IO</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">FileWriter</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="s2">&quot;objects.dat&quot;</span><span class="p">);</span>
                <span class="n">writer</span><span class="o">-&gt;</span><span class="no">WriteBuffer</span><span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="no">Serialize</span><span class="p">());</span>
                <span class="n">writer</span><span class="o">-&gt;</span><span class="no">Close</span><span class="p">();</span>

                <span class="n">buffer</span> <span class="p">:</span><span class="o">=</span> <span class="no">IO</span><span class="o">.</span><span class="n">File</span><span class="o">.</span><span class="n">FileReader</span><span class="o">-&gt;</span><span class="no">ReadBinaryFile</span><span class="p">(</span><span class="s2">&quot;objects.dat&quot;</span><span class="p">);</span>
                <span class="n">d</span> <span class="p">:</span><span class="o">=</span> <span class="no">System</span><span class="o">.</span><span class="n">IO</span><span class="o">.</span><span class="n">Deserializer</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="n">buffer</span><span class="p">);</span>

                <span class="n">t2</span> <span class="p">:</span><span class="o">=</span> <span class="n">d</span><span class="o">-&gt;</span><span class="no">ReadObject</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">Thingy</span><span class="p">);</span>
                <span class="n">t2</span><span class="o">-&gt;</span><span class="no">Print</span><span class="p">();</span>
                <span class="n">p2</span> <span class="p">:</span><span class="o">=</span> <span class="n">d</span><span class="o">-&gt;</span><span class="no">ReadObject</span><span class="p">()</span><span class="o">-&gt;</span><span class="no">As</span><span class="p">(</span><span class="no">Person</span><span class="p">);</span>
                <span class="n">p2</span><span class="o">-&gt;</span><span class="no">Print</span><span class="p">();</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id18">
<h2>高階関数<a class="headerlink" href="#id18" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>高階関数はプログラマがメソッドや関数を関数の引数として渡したり、
メソッドや関数を関数の返値として返すことができるようになります。
強い型付けによる関数の参照に関するサポートが言語にあります。
この機能における構成の特性では関数定義の
ネストができます。</p>
<p>図 6 - 関数のコンポジション</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FofG</span> <span class="p">{</span>
        <span class="vi">@f</span> <span class="p">:</span> <span class="n">static</span> <span class="p">:</span> <span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">;</span>
        <span class="vi">@g</span> <span class="p">:</span> <span class="n">static</span> <span class="p">:</span> <span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">;</span>

        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="n">compose</span> <span class="p">:</span><span class="o">=</span> <span class="no">Composer</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">,</span> <span class="n">G</span><span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">);</span>
                <span class="n">compose</span><span class="p">(</span><span class="mi">13</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="n">F</span><span class="p">(</span><span class="n">a</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">14</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="n">G</span><span class="p">(</span><span class="n">a</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span> <span class="p">{</span>
                <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">15</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="n">native</span> <span class="p">:</span> <span class="no">Compose</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span> <span class="p">{</span>
                <span class="k">return</span> <span class="vi">@f</span><span class="p">(</span><span class="vi">@g</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="no">Composer</span><span class="p">(</span><span class="n">f</span> <span class="p">:</span> <span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">,</span> <span class="n">g</span> <span class="p">:</span> <span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span> <span class="p">{</span>
                <span class="vi">@f</span> <span class="p">:</span><span class="o">=</span> <span class="n">f</span><span class="p">;</span>
                <span class="vi">@g</span> <span class="p">:</span><span class="o">=</span> <span class="n">g</span><span class="p">;</span>
                <span class="k">return</span> <span class="no">Compose</span><span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>より具体的に説明すると、指定された関数の結果を
ベクトル内の要素全体に適用するような操作をする場合に
コレクションで使われます。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="n">function</span> <span class="p">:</span> <span class="n">native</span> <span class="p">:</span> <span class="no">Run</span><span class="p">()</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
        <span class="s2">&quot;平方根の結果...&quot;</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="n">values</span> <span class="p">:</span><span class="o">=</span> <span class="no">IntVector</span><span class="o">-&gt;</span><span class="no">New</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="o">]</span><span class="p">);</span>
        <span class="n">squares</span> <span class="p">:</span><span class="o">=</span> <span class="n">values</span><span class="o">-&gt;</span><span class="no">Apply</span><span class="p">(</span><span class="no">Square</span><span class="p">(</span><span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span><span class="p">);</span>
        <span class="n">each</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span> <span class="n">squares</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">squares</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="p">};</span>
<span class="p">}</span>

<span class="n">function</span> <span class="p">:</span> <span class="no">Square</span><span class="p">(</span><span class="n">value</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Int</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">value</span> <span class="o">*</span> <span class="n">value</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="jit">
<h2>JIT コンパイルによるメソッドと関数<a class="headerlink" href="#jit" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>プログラムの処理速度を高速化するには、 JIT でメソッドや関数の
バイトコードをマシンコードへ事前コンパイルできることがあります。
メソッドや関数は初回呼び出し時にコンパイルされます。
それ以降に呼び出すとコンパイル済みの各マシンコードを実行します。</p>
<p>指定された関数やメソッドに関して、実行時に JIT コンパイルのマシンコードへ変換するには
<strong>native</strong> キーワードを使います。 JIT コンパイルの候補としては計算上は高価で
頻繁に呼び出されるメソッド・関数、あるいは処理時間のかかるループがある
メソッド・関数が挙げられます。</p>
<p>この素数プログラムの処理時間を観察するには
<strong>native</strong> キーワード指定の有無で比較してください。</p>
<p>図 7 - JIT コンパイルによる素数</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FindPrime</span> <span class="p">{</span>
        <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="no">System</span><span class="o">.</span><span class="n">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="no">Run</span><span class="p">(</span><span class="mi">100000</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">function</span> <span class="p">:</span> <span class="n">native</span> <span class="p">:</span> <span class="no">Run</span><span class="p">(</span><span class="n">topCandidate</span> <span class="p">:</span> <span class="no">Int</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
                <span class="n">candidate</span> <span class="p">:</span> <span class="no">Int</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
                <span class="k">while</span><span class="p">(</span><span class="n">candidate</span> <span class="o">&lt;=</span> <span class="n">topCandidate</span><span class="p">)</span> <span class="p">{</span>
                        <span class="n">trialDivisor</span> <span class="p">:</span> <span class="no">Int</span> <span class="p">:</span><span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
                        <span class="n">prime</span> <span class="p">:</span> <span class="no">Int</span> <span class="p">:</span><span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                        <span class="n">found</span> <span class="p">:</span> <span class="no">Bool</span> <span class="p">:</span><span class="o">=</span> <span class="kp">true</span><span class="p">;</span>
                        <span class="k">while</span><span class="p">(</span><span class="n">trialDivisor</span> <span class="o">*</span> <span class="n">trialDivisor</span> <span class="o">&lt;=</span> <span class="n">candidate</span> <span class="o">&amp;</span> <span class="n">found</span><span class="p">)</span> <span class="p">{</span>
                                <span class="k">if</span><span class="p">(</span><span class="n">candidate</span> <span class="o">%</span> <span class="n">trialDivisor</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                                        <span class="n">prime</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
                                        <span class="n">found</span> <span class="p">:</span><span class="o">=</span> <span class="kp">false</span><span class="p">;</span>
                                <span class="p">}</span>
                                <span class="k">else</span> <span class="p">{</span>
                                        <span class="n">trialDivisor</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                                <span class="p">};</span>
                        <span class="p">};</span>

                        <span class="k">if</span><span class="p">(</span><span class="n">found</span><span class="p">)</span> <span class="p">{</span>
                                <span class="n">candidate</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
                        <span class="p">};</span>
                        <span class="n">candidate</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
                <span class="p">};</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id19">
<h2>ライブラリの作成方法<a class="headerlink" href="#id19" title="このヘッドラインのパーマリンク">¶</a></h2>
<p>クラスライブラリの作成は割と簡単です。 クラスをファイルに記述してから、
“<strong>-tar lib</strong>” オプションでコードをコンパイルします。
なお、クラスとファイルは一本、またはそれ以上で構成可能です。
クラスライブラリのコードに “main” 関数は記述できません。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Pair</span> <span class="p">{</span>
        <span class="vi">@key</span> <span class="p">:</span> <span class="no">Compare</span><span class="p">;</span>
        <span class="vi">@value</span> <span class="p">:</span> <span class="no">Base</span><span class="p">;</span>

        <span class="no">New</span><span class="p">(</span><span class="n">key</span> <span class="p">:</span> <span class="no">Compare</span><span class="p">,</span> <span class="n">value</span> <span class="p">:</span> <span class="no">Base</span><span class="p">)</span> <span class="p">{</span>
                <span class="vi">@key</span> <span class="p">:</span><span class="o">=</span> <span class="n">key</span><span class="p">;</span>
        <span class="vi">@value</span> <span class="p">:</span><span class="o">=</span> <span class="n">value</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">GetKey</span><span class="p">()</span> <span class="o">~</span> <span class="no">Compare</span> <span class="p">{</span>
                <span class="k">return</span> <span class="vi">@key</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="nb">method</span> <span class="p">:</span> <span class="kp">public</span> <span class="p">:</span> <span class="no">Get</span><span class="p">()</span> <span class="o">~</span> <span class="no">Base</span> <span class="p">{</span>
                <span class="k">return</span> <span class="vi">@value</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>コードをコンパイルするには以下を入力します:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src pair.obs -tar lib -dest pair.obl
</pre></div>
</div>
<p>ライブラリをプログラムで使うには以下を入力します:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src points.obs -lib pair.obl -dest point.obe
</pre></div>
</div>
</div>
</div>
<div class="section" id="id20">
<h1>デバッガの用法<a class="headerlink" href="#id20" title="このヘッドラインのパーマリンク">¶</a></h1>
<p>コマンドラインデバッガはプログラムの実行時に、その動作をプログラマが
検証できるようにします。 デバッガを使うには、最初にデバッグシンボル付きで
プログラムを必ずコンパイルしてください。これにはコンパイラへ &quot;-<strong>debug</strong>&quot;
オプションを渡します。</p>
<p>このドキュメントの「演算子」セクションにあるクレジットカードの
簡易認証プログラムを例題として扱います。 まず、UTF-8 (または ASCII)
形式でテキストファイル <strong>luhn.obs</strong> をプログラムとして保存してください。
以下のコマンドはデバッグ版の実行可能ファイル <strong>luhn.obe</strong>
を作成します。</p>
<p>コードをコンパイルするには以下を入力します:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obc -src luhn.obs -dest luhn.obe -debug
</pre></div>
</div>
<p>この用例では、ソースファイルが実行可能ファイルと同じ場所にあると
想定します。デバッガを起動するには以下を入力してください:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>obd -exe luhn.obe -src .
</pre></div>
</div>
<p>はじめに、ブレークポイントを 17 行目に設定してからプログラムを実行します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; b luhn.obs:17
added breakpoint: <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;luhn.obs:17&#39;</span>
&gt; r
break: <span class="nv">file</span><span class="o">=</span><span class="s1">&#39;luhn.obs:17&#39;</span>, <span class="nv">method</span><span class="o">=</span><span class="s1">&#39;Luhn-&gt;Main(..)&#39;</span>
</pre></div>
</div>
<p>つぎに、ブレークポイント周辺のコードをリスト表示します。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">l</span>
        <span class="mi">12</span><span class="p">:</span> <span class="p">};</span>
        <span class="mi">13</span><span class="p">:</span> <span class="k">return</span> <span class="p">(</span><span class="n">oddSum</span> <span class="o">+</span> <span class="n">evenSum</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="mi">14</span><span class="p">:</span> <span class="p">}</span>
        <span class="mi">15</span><span class="p">:</span>
        <span class="mi">16</span><span class="p">:</span> <span class="n">function</span> <span class="p">:</span> <span class="no">Main</span><span class="p">(</span><span class="n">args</span> <span class="p">:</span> <span class="nb">String</span><span class="o">[]</span><span class="p">)</span> <span class="o">~</span> <span class="no">Nil</span> <span class="p">{</span>
<span class="o">=&gt;</span>      <span class="mi">17</span><span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;49927398716&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="mi">18</span><span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;49927398717&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="mi">19</span><span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;1234567812345678&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="mi">20</span><span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="s2">&quot;1234567812345670&quot;</span><span class="p">)</span><span class="o">-&gt;</span><span class="no">PrintLine</span><span class="p">();</span>
        <span class="mi">21</span><span class="p">:</span> <span class="p">}</span>
        <span class="mi">22</span><span class="p">:</span> <span class="p">}</span>
</pre></div>
</div>
<p>さて、 &quot;IsValid&quot; 関数へステップインします。</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">s</span>
<span class="o">&gt;</span> <span class="k">break</span><span class="p">:</span> <span class="n">file</span><span class="o">=</span><span class="s1">&#39;luhn.obs:2&#39;</span><span class="p">,</span> <span class="nb">method</span><span class="o">=</span><span class="s1">&#39;Luhn-&gt;IsValid(..)&#39;</span>
<span class="o">&gt;</span> <span class="n">l</span>
        <span class="mi">1</span><span class="p">:</span> <span class="k">class</span> <span class="nc">Luhn</span> <span class="p">{</span>
<span class="o">=&gt;</span>      <span class="mi">2</span><span class="p">:</span> <span class="n">function</span> <span class="p">:</span> <span class="no">IsValid</span><span class="p">(</span><span class="n">cc</span> <span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="o">~</span> <span class="no">Bool</span> <span class="p">{</span>
        <span class="mi">3</span><span class="p">:</span> <span class="n">isOdd</span> <span class="p">:</span><span class="o">=</span> <span class="kp">true</span><span class="p">;</span> <span class="n">oddSum</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">evenSum</span> <span class="p">:</span><span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="mi">4</span><span class="p">:</span> <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="p">:</span><span class="o">=</span> <span class="n">cc</span><span class="o">-&gt;</span><span class="no">Size</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;)</span> <span class="p">{</span>
        <span class="mi">5</span><span class="p">:</span> <span class="n">digit</span> <span class="p">:</span> <span class="no">Int</span> <span class="p">:</span><span class="o">=</span> <span class="n">cc</span><span class="o">-&gt;</span><span class="no">Get</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">-</span> <span class="s1">&#39;0&#39;</span><span class="p">;</span>
        <span class="mi">6</span><span class="p">:</span> <span class="k">if</span><span class="p">(</span><span class="n">isOdd</span><span class="p">)</span> <span class="p">{</span>
        <span class="mi">7</span><span class="p">:</span> <span class="n">oddSum</span> <span class="o">+=</span> <span class="n">digit</span><span class="p">;</span>
        <span class="mi">8</span><span class="p">:</span> <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="mi">9</span><span class="p">:</span> <span class="n">evenSum</span> <span class="o">+=</span> <span class="n">digit</span> <span class="o">/</span> <span class="mi">5</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">digit</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span>
        <span class="mi">10</span><span class="p">:</span> <span class="p">};</span>
<span class="o">&gt;</span> <span class="n">n</span>
</pre></div>
</div>
<p>&quot;cc&quot; の値を表示します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; p cc
print: <span class="nv">type</span><span class="o">=</span>System.String, <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;49927398716</span>
</pre></div>
</div>
<p>さて、 9 行目でブレークして &quot;evenSum&quot; の値を表示します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; b <span class="m">9</span>
added breakpoint: <span class="nv">file</span><span class="o">=</span>’luhn.obs:9’
&gt; c
&gt; break: <span class="nv">file</span><span class="o">=</span>’luhn.obs:9’, <span class="nv">method</span><span class="o">=</span>’Luhn-&gt;IsValid<span class="o">(</span>..<span class="o">)</span>’
&gt; n
&gt; break: <span class="nv">file</span><span class="o">=</span>’luhn.obs:11’, <span class="nv">method</span><span class="o">=</span>’Luhn-&gt;IsValid<span class="o">(</span>..<span class="o">)</span>’
&gt; p evenSum
print: <span class="nv">type</span><span class="o">=</span>Int, <span class="nv">value</span><span class="o">=</span><span class="m">2</span>
</pre></div>
</div>
<p>最後に、コールスタックを終了前に出力します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; stack
stack:
frame: <span class="nv">pos</span><span class="o">=</span><span class="m">2</span>, <span class="nv">class</span><span class="o">=</span>Luhn, <span class="nv">method</span><span class="o">=</span>IsValid<span class="o">(</span>o.System.String<span class="o">)</span>, <span class="nv">file</span><span class="o">=</span>luhn.obs:5
frame: <span class="nv">pos</span><span class="o">=</span><span class="m">1</span>, <span class="nv">class</span><span class="o">=</span>Luhn, <span class="nv">method</span><span class="o">=</span>Main<span class="o">(</span>o.System.String*<span class="o">)</span>, <span class="nv">file</span><span class="o">=</span>luhn.obs:17
&gt; q
breakpoints cleared.
goodbye.
</pre></div>
</div>
<p>表 6 - デバッガのコマンド</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 49%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>コマンド</p></th>
<th class="head"><p>概要</p></th>
<th class="head"><p>用例</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>[b]</strong>reak</p></td>
<td><p>ブレークポイントの設定</p></td>
<td><p>b luhn.obs:17</p>
<p>b</p>
</td>
</tr>
<tr class="row-odd"><td><p>breaks</p></td>
<td><p>ブレークポイントの全表示</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>[d]</strong>elete</p></td>
<td><p>ブレークポイントの削除</p></td>
<td><p>d luhn.obs:17</p></td>
</tr>
<tr class="row-odd"><td><p>clear</p></td>
<td><p>ブレークポイントの全消去</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>[n]</strong>ext</p></td>
<td><p>同じメソッドや関数内の次行にあるデバッグ情報へ移動</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>[s]</strong>tep</p></td>
<td><p>次行にあるデバッグ情報へ移動</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>[j]</strong>ump</p></td>
<td><p>現在のメソッドや関数からジャンプすることで次行にあるデバッグ情報へ移動</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>args</p></td>
<td><p>プログラムの引数を指定</p></td>
<td><p>args &quot;Hello World&quot;</p></td>
</tr>
<tr class="row-even"><td><p><strong>[r]</strong>un</p></td>
<td><p>ロード済みのプログラムを実行</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>[p]</strong>rint</p></td>
<td><p>メタデータと併せて、式の値を表示</p></td>
<td><p>p cc</p></td>
</tr>
<tr class="row-even"><td><p><strong>[l]</strong>ist</p></td>
<td><p>ソースファイル全体の行、または現在のブレークポイント付近の行をリスト表示します。</p></td>
<td><p>L</p></td>
</tr>
<tr class="row-odd"><td><p><strong>[i]</strong>nfo</p></td>
<td><p>クラスに関する変数を表示</p></td>
<td><p>i</p></td>
</tr>
<tr class="row-even"><td><p>stack</p></td>
<td><p>メソッドや関数のコールスタックに関するスタックの表示</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>exe</p></td>
<td><p>新しい実行可能ファイルのロード</p></td>
<td><p>exe &quot;luhn.obe&quot;</p></td>
</tr>
<tr class="row-even"><td><p>src</p></td>
<td><p>新しいソースパスの指定</p></td>
<td><p>src &quot;.&quot;</p></td>
</tr>
<tr class="row-odd"><td><p><strong>[q]</strong>uit</p></td>
<td><p>現在のデバッグセッションを終了</p></td>
<td></td>
</tr>
</tbody>
</table>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">A Brief introduction (日本語)</a></li>
<li><a class="reference internal" href="#id1">ごあいさつ</a></li>
<li><a class="reference internal" href="#id2">お使いになる前に</a></li>
<li><a class="reference internal" href="#id3">コードのコンパイルと実行</a></li>
<li><a class="reference internal" href="#id4">基本機能</a><ul>
<li><a class="reference internal" href="#id5">リテラルと変数</a></li>
<li><a class="reference internal" href="#id6">コメント</a></li>
<li><a class="reference internal" href="#id7">ロジックと制御フロー</a><ul>
<li><a class="reference internal" href="#if-else">If/else</a></li>
<li><a class="reference internal" href="#select">Select</a></li>
<li><a class="reference internal" href="#do">Do</a></li>
<li><a class="reference internal" href="#do-while">Do/While</a></li>
<li><a class="reference internal" href="#for">For</a></li>
<li><a class="reference internal" href="#each">Each</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">演算子</a></li>
<li><a class="reference internal" href="#id9">配列、文字列とコレクション</a><ul>
<li><a class="reference internal" href="#id10">配列</a></li>
<li><a class="reference internal" href="#id11">文字列</a></li>
<li><a class="reference internal" href="#id12">コレクション</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id13">オブジェクトと関数</a><ul>
<li><a class="reference internal" href="#id14">クラスとインタフェース</a><ul>
<li><a class="reference internal" href="#id15">無名クラス</a></li>
<li><a class="reference internal" href="#id16">列挙型と定数</a></li>
<li><a class="reference internal" href="#id17">シリアル化</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id18">高階関数</a></li>
<li><a class="reference internal" href="#jit">JIT コンパイルによるメソッドと関数</a></li>
<li><a class="reference internal" href="#id19">ライブラリの作成方法</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id20">デバッガの用法</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="objeck_lang.html"
                        title="previous chapter">A Brief introduction</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/objeck_lang_jp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="objeck_lang.html" title="A Brief introduction"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Objeck Programming Language 6.3.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">A Brief introduction (日本語)</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Randy Hollines. / translation by. isVowel
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>