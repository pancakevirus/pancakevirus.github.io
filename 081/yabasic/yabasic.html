<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>Yabasic</title>
    <link rel="stylesheet" type="text/css" href="docbook.css" />
    <meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" />
  </head>
  <body>
    <div class="book">
      <div class="titlepage">
        <div>
          <div>
            <h1 class="title"><a id="idm1"></a>Yabasic</h1>
          </div>
        </div>
        <hr />
      </div>
      <div class="toc">
        <p>
          <strong>目次</strong>
        </p>
        <dl class="toc">
          <dt>
            <span class="chapter">
              <a href="#chapter_intoduction">1. はじめに</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#idm6">このドキュメントについて</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm24"><span class="application">yabasic</span> について</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_program_windows">2. Windows 版の <span class="application">yabasic</span> プログラム</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#idm45"><span class="application">yabasic</span> の起動方法</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm74">オプション</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm80">コンテキストメニュー</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_program_unix">3. Unix 版の <span class="application">yabasic</span> プログラム</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#idm110"><span class="application">yabasic</span> の起動方法</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm157">オプション</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm163">デフォルトの設定</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_options">4. <span class="application">yabasic</span> のコマンドラインオプション</a>
            </span>
          </dt>
          <dt>
            <span class="chapter">
              <a href="#chapter_topics_list">5. <span class="application">yabasic</span> のコマンドと関数総覧 (用途別)</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#top_numbers_with_base_2_or_16">二進数・十六進数の数値</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_numbers">数値の処理と変換</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_conditions">分岐条件と制御構造</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_data">データの保存と処理</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_strings">文字列処理</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_io">ファイル処理と表示</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_sub">サブルーチンとライブラリ</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_outside">yabasic から外部コマンドを呼び出すには</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_add_code">実行中にコードを追加するには</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_time_and_timing">時刻関連のコマンドと関数</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_other">そのほかのコマンド</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_graphics">グラフィックスと表示</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#top_ffi">外部関数インタフェース</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_ref_concepts">6. <span class="application">yabasic</span> の機能と一般概念</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#ref_logical_shortcuts">略式論理評価</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_conditions_and_expressions">分岐条件と式</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_comparing_strings_or_numbers">文字列や数値の比較</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_array_references">配列の参照</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_windows_filenames">Windows 版におけるファイル名の指定</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_escape_sequences">エスケープシーケンス</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_add_code">実行中のプログラムにコードを追加するには</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_standalone">yabasic プログラムから<span class="emphasis"><em>実行可能</em></span>プログラムを作成するには</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ffi">非 <span class="application">yabasic</span> ライブラリまたは DLL 関数との連携</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_ref_words">7. <span class="application">yabasic</span> のコマンドと関数総覧 (英字順)</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#ref_a">A</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_b">B</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_c">C</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_d">D</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_e">E</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_f">F</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_g">G</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_h">H</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_i">I</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_l">L</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_m">M</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_n">N</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_o">O</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_p">P</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_r">R</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_s">S</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_t">T</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_u">U</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_v">V</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_w">W</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_x">X</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#ref_special_characters">シンボルと特殊記号</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_examples">8. 用例プログラム数種</a>
            </span>
          </dt>
          <dd>
            <dl>
              <dt>
                <span class="sect1">
                  <a href="#idm8968">非常に単純なプログラム</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm8973">ビットマップグラフィックス</a>
                </span>
              </dt>
              <dt>
                <span class="sect1">
                  <a href="#idm8985">メニューの選択</a>
                </span>
              </dt>
            </dl>
          </dd>
          <dt>
            <span class="chapter">
              <a href="#chapter_copyright">9. <span class="application">yabasic</span> の著作権情報</a>
            </span>
          </dt>
        </dl>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_intoduction"></a>Chapter&nbsp;1.&nbsp;はじめに</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#idm6">このドキュメントについて</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm24"><span class="application">yabasic</span> について</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm6"></a>このドキュメントについて</h2>
              </div>
            </div>
          </div>
          <p>
      このドキュメントは <span class="application">yabasic</span> の概要です。<span class="application">yabasic</span> インタプリタ (Unix 版は <span class="command"><strong>yabasic</strong></span>、 Windows 版は <span class="command"><strong>yabasic.exe</strong></span> のプログラム) と言語本体 (もちろん <acronym class="acronym">BASIC</acronym> の亜種) に関する情報を得ることができます。
    </p>
          <p>このドキュメントの解説対象は <span class="application">yabasic</span> version <span class="strong"><strong>2.90</strong></span>  です。</p>
          <p>
      なお、このドキュメントには <span class="application">yabasic</span>  に関する最新情報や FAQ は<span class="emphasis"><em>未収録</em></span>です。最新情報は絶えず更新されるため、オンライン <a class="ulink" href="http://www.yabasic.de/" target="_top">www.yabasic.de</a> で掲載しています。</p>
          <p>
      <acronym class="acronym">BASIC</acronym> は初等プログラマから言語としての定評を得ていますが、これはプログラミング全般の入門書ではありません。どちらかといえば、本書ではコンピュータ・プログラムの記述と実行に関する経験 (中等程度) がある読者を想定しています。</p>
          <p>
    </p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm24"></a><span class="application">yabasic</span> について</h2>
              </div>
            </div>
          </div>
          <p><span class="application">yabasic</span> は古典的な BASIC インタプリタです。<code class="function">goto</code>, <code class="function">gosub</code>, 行番号, <code class="function">read</code>, <code class="function">data</code> あるいは末尾に '<code class="literal">$</code>'  が付いた文字列変数など典型的な BASIC 言語構造の大部分を解釈可能です。ですがその一方で、 <span class="application">yabasic</span> にはサブルーチンやライブラリ (オブジェクト<span class="emphasis"><em>ではない</em></span>) などのより高度なプログラミング概念を実装してあります。Unix と Windows において <span class="application">yabasic</span> はぼぼ同じように動作します。</p>
          <p><span class="application">yabasic</span> は手軽かつ即座に結果を得られることを重視しています。グラフィックウインドウを開いた後にグラフィックスを表示したり、コンソールスクリーンを操作することでキーボードやマウスの情報を取得するための手軽なコマンドが用意されています。以下の用例はウィンドウを開いた後に、描画した円をグラフィックスとして表示します:</p>
          <pre class="programlisting">
open window 100,100
open printer
circle 50,50,40
text 10,50,"何かキーを押すと結果を表示します"
clear screen
inkey$
close printer
close window
</pre>
          <p>この用例は、ほかのプログラミング言語よりも少ない数行で記述できます。けれども結局のところ <span class="application">yabasic</span> には C++ や Java などにある高度で先進的な機能はありません。しかし、得意分野では迅速かつ手軽に結果を得られる傾向があります。</p>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_program_windows"></a>Chapter&nbsp;2.&nbsp;Windows 版の <span class="application">yabasic</span> プログラム</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#idm45"><span class="application">yabasic</span> の起動方法</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm74">オプション</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm80">コンテキストメニュー</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm45"></a><span class="application">yabasic</span> の起動方法</h2>
              </div>
            </div>
          </div>
          <p>さて、 <span class="application">yabasic</span> のセットアップを無事に終えると、以下の手順で起動可能できるようになります。</p>
          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p><span class="emphasis"><em>デスクトップ上で右クリック:</em></span> デスクトップメニューのサブメニューに <span class="emphasis"><em>new</em></span> が表示されます。このサブメニューから <span class="application">yabasic</span> を選択します。これでデスクトップにアイコンが新規作成されます。このアイコンを右クリックすると、<a class="link" href="#windows_context_menu">コンテキストメニュー</a>が表示されます。 <span class="guilabel">Execute</span> を選択するとプログラムを実行します。</p>
              </li>
              <li class="listitem">
                <p>&lt;上述とは異なるものとして、拡張子 <code class="filename">.yab</code></em></span> ファイルを作成 (例えばお気に入りのエディタで) をすること方法もあります。それ以外はすべて上述と同じく正常動作します。</p>
              </li>
              <li class="listitem">
                <p><span class="emphasis"><em>スタートメニュー:</em></span> スタートメニューから <span class="application">yabasic</span> を選択します。コンソールウィンドウの表示後にプログラムの入力待機状態になります。書き終えた後に、 <code class="literal">return</code> を二度入力してください。そうすることで <span class="application">yabasic</span> はプログラムの解析と実行をします。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">注意</h3>
                  <p>これは <span class="application">yabasic</span> を起動する方法としては<span class="emphasis"><em>非推奨</em></span>です！理由は入力したプログラムは<span class="emphasis"><em>保存不可</em></span>であり終了後に必ず消失してしまうからです！つまり、 <code class="function">save</code> コマンドや入力したプログラムを保存する方法はありません。このモードの想定用途はクイックハックとショートプログラムに限ります。</p>
                </div>
              </li>
            </ol>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm74"></a>オプション</h2>
              </div>
            </div>
          </div>
          <p>ほとんどの場合、 Windows では適切なアイコンをダブルクリックすると <span class="application">yabasic</span> が起動します。ただし、この方法ですとコマンドラインオプションは指定できません。上級ユーザであればレジストリの librarypath を変更することで、コマンドラインオプションの指定と同じ効果が得られます。</p>
          <p>Unix または Windows に関する全オプションの総覧は<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプションの章</a>を参照してください。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm80"></a>コンテキストメニュー</h2>
              </div>
            </div>
          </div>
          <p>そのほかの Windows と同じく、 <span class="application">yabasic</span> プログラムのアイコンには <span class="application">yabasic</span> プログラムで多用される操作を行える<span class="emphasis"><em>コンテキストメニュー</em></span>があります。</p>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <span class="guilabel">Execute</span>
                </span>
              </dt>
              <dd>
                <p><span class="application">yabasic</span> を呼び出してプログラムを実行します。同じくアイコンを<span class="emphasis"><em>ダブルクリック</em></span>しても起動します。</p>
              </dd>
              <dt>
                <span class="term">
                  <span class="guilabel">Edit</span>
                </span>
              </dt>
              <dd>
                <p>プログラムを編集するために<span class="application">メモ帳</span>を起動します。</p>
              </dd>
              <dt>
                <span class="term">
                  <span class="guilabel">View docu</span>
                </span>
              </dt>
              <dd>
                <p>これはプログラムに関する埋め込みドキュメンテーションを表示します。埋め込みドキュメンテーションは特別コメント <code class="function"><a class="link" href="#ref_doc" title="doc">doc</a></code> で作成します。</p>
              </dd>
            </dl>
          </div>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_program_unix"></a>Chapter&nbsp;3.&nbsp;Unix 版の <span class="application">yabasic</span> プログラム</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#idm110"><span class="application">yabasic</span> の起動方法</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm157">オプション</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm163">デフォルトの設定</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm110"></a><span class="application">yabasic</span> の起動方法</h2>
              </div>
            </div>
          </div>
          <p>システム管理者 (俗に言う <span class="emphasis"><em>root</em></span>) が <span class="application">yabasic</span> を正しくインストールしたあとであれば、三通りの起動方法が使えます:</p>
          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p>お気に入りのテキストエディタ (<span class="application">emacs</span>, <span class="application">vi</span> ?) でプログラムのファイル (例えば <code class="filename">foo</code>) を記述できます。先頭一行一文字目の '<code class="literal">#!</code>' 文字に続いて <span class="application">yabasic</span> のフルパスが記述されているか確認して下さい (例えば、 '<code class="literal">#!/usr/local/bin/yabasic</code>')。<span class="emphasis"><em>she-bang</em></span> (シェバン) 行は Unix でプログラムを実行するのに <span class="application">yabasic</span> を呼び出すことを保証します (<a class="link" href="#ref_hash" title="#">ハッシュ</a>文字のエントリも参照してください)。Moreover, you will need to change the permissions of your <span class="application">yabasic</span>-program <code class="filename">foo</code>, e.g. <code class="literal">chmod u+x foo</code>. After that you may invoke <span class="application">yabasic</span> to invoke your program by simply typing <code class="literal">foo</code> (without even mentioning <span class="application">yabasic</span>). However, if your <code class="envar">PATH</code>-variable does not contain a single dot ('<code class="literal">.</code>') you will have to type the full pathname of your program: e.g. <code class="filename">/home/ihm/foo</code> (or at least <code class="filename">./foo</code>).</p>
              </li>
              <li class="listitem">
                <p>プログラムをファイル (例えば <code class="filename">foo</code>) へ保存後してから <code class="literal">yabasic foo</code> と入力します。This assumes, that the directory, where <span class="application">yabasic</span> resides, is contained within your <code class="envar">PATH</code>-variable.</p>
              </li>
              <li class="listitem">
                <p>最後に <strong class="userinput"><code>yabasic</code></strong> (おそらくフルパス名の記入が必要) と入力してください。これで <span class="application">yabasic</span> が起動します。その後にプログラムの入力待機状態となります。書き終えた後に、 <code class="literal">return</code> を二度入力してください。そうすることで <span class="application">yabasic</span> はプログラムの解析と実行をします。</p>
                <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">注意</h3>
                  <p>これは <span class="application">yabasic</span> を起動する方法としては<span class="emphasis"><em>非推奨</em></span>です！理由は入力したプログラムは<span class="emphasis"><em>保存不可</em></span>であり終了後に必ず消失してしまうからです！つまり、 <code class="function">save</code> コマンドや入力したプログラムを保存する方法はありません。このモードの想定用途はクイックハックとショートプログラムに限ります。例えば <span class="application">yabasic</span> を高性能デスクトップ電卓の一種として使うなど。</p>
                </div>
              </li>
            </ol>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm157"></a>オプション</h2>
              </div>
            </div>
          </div>
          <p><span class="application">yabasic</span> は様々なオプションをコマンドラインから取得します。</p>
          <p>Unix または Windows に関する全オプションの総覧は<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプションの章</a>を参照してください。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm163"></a>デフォルトの設定</h2>
              </div>
            </div>
          </div>
          <p>If you want to set some options <span class="emphasis"><em>once for all</em></span>, you may put them into your X-Windows resource file. This is usually the file <code class="filename">.Xresources</code> or some such within your home directory (type <strong class="userinput"><code>man X</code></strong> for details).</p>
          <p>こちらのサンプルセクションは、このファイル記載されている内容の一例です:</p>
          <pre class="programlisting">
yabasic*foreground: blue
yabasic*background: gold
yabasic*geometry: +10+10
yabasic*font: 9x15
</pre>
          <p>これでグラフィックウィンドウの前景色は <span class="emphasis"><em>blue</em></span> となり、背景色は <span class="emphasis"><em>gold</em></span> の設定となります。ウィンドウの表示座標は <span class="emphasis"><em>10,10</em></span> となり、テキストフォントのサイズは <span class="emphasis"><em>9x15</em></span> となります。</p>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_options"></a>Chapter&nbsp;4.&nbsp;<span class="application">yabasic</span> のコマンドラインオプション</h1>
            </div>
          </div>
        </div>
        <p>こちらのオプションは、 <span class="application">yabasic</span> のコマンドラインで指定可能なものです (Unix と Windows 共用)。</p>
        <p>All the options below may be abbreviated (and one hyphen may be dropped), as long as the abbreviation does not become ambiguous. 例えば、 <code class="literal">--execute</code> ではなく <code class="literal">-e</code> と書くこともできます。</p>
        <div class="variablelist">
          <dl class="variablelist">
            <dt>
              <span class="term"><code class="literal">--help</code> または <code class="literal">-?</code></span>
            </dt>
            <dd>
              <p>いずれのヘルプオプションも用法を記した短いヘルプメッセージを表示します。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--version</code>
              </span>
            </dt>
            <dd>
              <p><span class="application">yabasic</span> のバージョン情報を表示します。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--infolevel <em class="replaceable"><code>INFOLEVEL</code></em></code>
              </span>
            </dt>
            <dd>
              <p>Change the <span class="emphasis"><em>infolevel</em></span> of yabasic, where <em class="replaceable"><code>INFOLEVEL</code></em> can be one of <code class="literal">debug</code>, <code class="literal">note</code>, <code class="literal">warning</code>, <code class="literal">error</code>, <code class="literal">fatal</code> and <code class="literal">bison</code> (the default is <code class="literal">warning</code>). このオプションは <span class="application">yabasic</span> で出力するデバッグ情報の総量を変更します。なお、通常はこれを変更する必要のあるかたは <span class="application">yabasic</span> (<span class="emphasis"><em>私だ</em></span>！) の開発者だけです。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--execute <em class="replaceable"><code>プログラムとして扱う一行文字列</code></em></code>
              </span>
            </dt>
            <dd>
              <p>このオプションを指定すると <span class="application">yabasic</span> コードを<span class="emphasis"><em>即時実行</em></span>します。これはファイルに保存する必要の無い非常に短いプログラムで便利です。このオプション指定時、 <span class="application">yabasic</span> はファイルからコードを読み込みません。例えば </p>
              <pre class="programlisting">yabasic -e 'for a=1 to 10:print a*a:next a'</pre>
              <p> 1 ～ 10 までの数値において自乗を表示
</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--bind <em class="replaceable"><code>実行可能プログラムの名前</code></em></code>
              </span>
            </dt>
            <dd>
              <p>コマンドライン指定により、 <span class="application">yabasic</span> プログラム (<em class="replaceable"><code>NAME-OF-STANDALONE-PROGRAM</code></em> で名前を指定) から実行可能ファイルを作成します。詳細は「<a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには"><span class="emphasis"><em>実行可能</em></span>プログラム</a>を作成するには」のセクションを参照してください。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--geometry +<em class="replaceable"><code>X-座標</code></em>+<em class="replaceable"><code>Y-座標</code></em></code>
              </span>
            </dt>
            <dd>
              <p><code class="function">open window</code> で開かれるグラフィックウィンドウの座標位置を指定します (もちろん、ウィンドウの<span class="emphasis"><em>サイズ</em></span> は <code class="function">open window</code> で指定します)。An example would be <code class="literal">-geometry +20+10</code>, which would place the graphic window 10 pixels below the upper border and 20 pixels right of the left border of the screen. この値は <span class="application">yabasic</span> 起動後に変更できません。</p>
            </dd>
            <dt>
              <span class="term"><code class="literal">-fg <em class="replaceable"><code>前景色</code></em></code> または <code class="literal">--foreground <em class="replaceable"><code>前景色</code></em></code></span>
            </dt>
            <dd>
              <p><span class="emphasis"><em>Unix 専用。</em></span> グラフィックスウィンドウの前景色を定義します (<code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code> で開いたウィンドウ)。<span class="emphasis"><em>red</em></span>, <span class="emphasis"><em>green</em></span> など X11 形式の色名を指定可能です。この値は <span class="application">yabasic</span> 起動後に変更できません。</p>
            </dd>
            <dt>
              <span class="term"><code class="literal">-bg <em class="replaceable"><code>背景色</code></em></code> または <code class="literal">--background <em class="replaceable"><code>背景色</code></em></code></span>
            </dt>
            <dd>
              <p><span class="emphasis"><em>Unix 専用。</em></span> グラフィックスウィンドウの背景色を定義します。通例として X11 の配色名を指定します。この値は <span class="application">yabasic</span> 起動後に変更できません。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--display <em class="replaceable"><code>X11 のディスプレイ指定</code></em></code>
              </span>
            </dt>
            <dd>
              <p><span class="emphasis"><em>Unix 専用。</em></span>  <span class="emphasis"><em>display</em></span> は yabasic のグラフィックウィンドウの表示位置を指定します。通常、この値は環境変数 <code class="envar">DISPLAY</code> で定義済みです。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--font <em class="replaceable"><code>フォントの名前</code></em></code>
              </span>
            </dt>
            <dd>
              <p><span class="emphasis"><em>Unix 専用。</em></span> グラフィックウィンドウのテキストで使うフォント名。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--font <em class="replaceable"><code>フォントの名前</code></em></code>
              </span>
            </dt>
            <dd>
              <p><span class="emphasis"><em>Windows 専用。</em></span>グラフィックのテキスト表示で使うフォントです。<code class="literal">decorative, dontcare, modern, roman, script, swiss</code> を指定可能です。フォント名の末尾にフォントサイズ (ピクセル単位) を指定可能です。例えば <code class="literal">-font swiss30</code> を指定すると 30 ピクセルの swiss フォントを使います。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--docu <em class="replaceable"><code>プログラムの名前</code></em></code>
              </span>
            </dt>
            <dd>
              <p>指定されたプログラムの<span class="emphasis"><em>埋め込みドキュメンテーション</em></span>を表示します。プログラムの埋め込みのドキュメンテーションはすべてプログラムの特別キーワード <code class="function"><a class="link" href="#ref_doc" title="doc">doc</a></code> で始まるコメントから成り立ちます。このドキュメンテーションは <span class="application">yabasic</span> プログラムのコンテキストメニューから対応するエントリを選択しても参照可能です。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--check</code>
              </span>
            </dt>
            <dd>
              <p>互換性の問題があるか自作の <span class="application">yabasic</span> プログラムをできる限り検査します。例えば、このオプションは使用している関数が最新版で変更されたものがあると報告します。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--librarypath <em class="replaceable"><code>ライブラリのあるディレクトリ</code></em></code>
              </span>
            </dt>
            <dd>
              <p>ライブラリの検索とインポートを行うディレクトリを変更します (<code class="function"><a class="link" href="#ref_import" title="import">import</a></code> コマンドで使用)。ライブラリの検索方法に関する詳細情報は <code class="function"><a class="link" href="#ref_import" title="import">import</a></code> を参照してください。</p>
            </dd>
            <dt>
              <span class="term">
                <code class="literal">--</code>
              </span>
            </dt>
            <dd>
              <p>以降のオプションを無視します。その代わり commandline から <span class="application">yabasic</span> へ後続の単語を渡します。</p>
            </dd>
          </dl>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_topics_list"></a>Chapter&nbsp;5.&nbsp; <span class="application">yabasic</span> のコマンドと関数総覧 (用途別)</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#top_numbers_with_base_2_or_16">二進数・十六進数の数値</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_numbers">数値の処理と変換</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_conditions">分岐条件と制御構造</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_data">データの保存と処理</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_strings">文字列処理</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_io">ファイル処理と表示</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_sub">サブルーチンとライブラリ</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_outside">yabasic から外部コマンドを呼び出すには</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_add_code">実行中にコードを追加するには</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_time_and_timing">時刻関連のコマンドと関数</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_other">そのほかのコマンド</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_graphics">グラフィックスと表示</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#top_ffi">外部関数インタフェース</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_numbers_with_base_2_or_16"></a>二進数・十六進数の数値</h2>
              </div>
            </div>
          </div>
          <p>通常の十進数記法 (例えば、 <code class="literal">1234</code>) 以外にも、二進数や十六進数による数値リテラルも <span class="application">yabasic</span> でサポートしています。例えを挙げると、それぞれは <code class="literal">0b10011</code> (二進数表記による数値の 19) や <code class="literal">0x34AF</code> (十六進数表記による数値の 13487) です。Please note that these numbers (apart from the way you write them into your program) are no different from <span class="quote">“<span class="quote">ordinary</span>”</span> numbers and can be used in any place, where a normal number with base 10 would fit. E.g. you may compute the sine <code class="literal">sin(0b110)</code>; so the base 2 (or 16) is just a different way of <span class="emphasis"><em>representation</em></span>.</p>
          <p>関連関数は <code class="function"><a class="link" href="#ref_bin" title="bin$()">bin$</a></code>, <code class="function"><a class="link" href="#ref_hex" title="hex$()">hex$</a></code> または <code class="function"><a class="link" href="#ref_dec" title="dec()">dec</a></code> を参照してください。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_numbers"></a>数値の処理と変換</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_abs" title="abs()">abs()</a>
                </span>
              </dt>
              <dd>
	    数値引数の絶対値を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_acos" title="acos()">acos()</a>
                </span>
              </dt>
              <dd>
	    数値引数の逆余弦を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bitwise_and" title="and()">and()</a>
                </span>
              </dt>
              <dd>
	    ビット単位演算 and
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_asin" title="asin()">asin()</a>
                </span>
              </dt>
              <dd>
	    数値引数の逆正弦を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_atan" title="atan()">atan()</a>
                </span>
              </dt>
              <dd>
	    数値引数の逆正接を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bin" title="bin$()">bin$()</a>
                </span>
              </dt>
              <dd>
	    数値を二進数の数列へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_cos" title="cos()">cos()</a>
                </span>
              </dt>
              <dd>
	    単一引数の余弦を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_dec" title="dec()">dec()</a>
                </span>
              </dt>
              <dd>
	    二進数や十六進数の数値を十進数形式へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_eor" title="eor()">eor()</a>
                </span>
              </dt>
              <dd>
	    引数一組のビット単位排他的 or を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_euler" title="euler">euler</a>
                </span>
              </dt>
              <dd>
	    定数 2.71828182864 の別名
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_exp" title="exp()">exp()</a>
                </span>
              </dt>
              <dd>
	    単一引数の指数関数を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_frac" title="frac()">frac()</a>
                </span>
              </dt>
              <dd>
	    数値引数の小数部を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_int" title="int()">int()</a>
                </span>
              </dt>
              <dd>
	    単一引数の整数部を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_ceil" title="ceil()">ceil()</a>
                </span>
              </dt>
              <dd>
	    (浮動小数点) 引数の上限を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_floor" title="floor()">floor()</a>
                </span>
              </dt>
              <dd>
	    (浮動小数点) 引数の下限を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_round" title="round()">round()</a>
                </span>
              </dt>
              <dd>
	    引数を最近似整数へ丸め込み
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_log" title="log()">log()</a>
                </span>
              </dt>
              <dd>
	    自然対数を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_max" title="max()">max()</a>
                </span>
              </dt>
              <dd>
	    引数一組のうち大きいほうを返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_min" title="min()">min()</a>
                </span>
              </dt>
              <dd>
	    引数一組のうち小さいほうを返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mod" title="mod">mod</a>
                </span>
              </dt>
              <dd>
	    除算の剰余を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bitnot" title="bitnot()">bitnot()</a>
                </span>
              </dt>
              <dd>
	    ビット単位演算 not
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bitwise_or" title="or()">or()</a>
                </span>
              </dt>
              <dd>
	    ビット操作で用いる算術 or
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_pi" title="pi">pi</a>
                </span>
              </dt>
              <dd>
	    値 3.14159 の定数
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_ran" title="ran()">ran()</a>
                </span>
              </dt>
              <dd>
	    乱数を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_shl" title="shl()">shl()</a>
                </span>
              </dt>
              <dd>
	    引数のビット単位左シフト
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_shr" title="shr()">shr()</a>
                </span>
              </dt>
              <dd>
	    引数のビット単位右シフト
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sig" title="sig()">sig()</a>
                </span>
              </dt>
              <dd>
	    引数の正負符号を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sin" title="sin()">sin()</a>
                </span>
              </dt>
              <dd>
	    単一引数の正弦を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sqr" title="sqr()">sqr()</a>
                </span>
              </dt>
              <dd>
	    引数の自乗を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sqrt" title="sqrt()">sqrt()</a>
                </span>
              </dt>
              <dd>
	    引数の平方根を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_tan" title="tan()">tan()</a>
                </span>
              </dt>
              <dd>
	    引数の正接を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_xor" title="xor()">xor()</a>
                </span>
              </dt>
              <dd>
	    排他的論理和を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_pow" title="** または ^">** または ^</a>
                </span>
              </dt>
              <dd>
	    第一引数に関する二の累乗を求めます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_comparison" title="&lt; &lt;= &gt; &gt;= = == &lt;&gt; !=">&lt; &lt;= &gt; &gt;= = == &lt;&gt; !=</a>
                </span>
              </dt>
              <dd>
	    文字列または数値の比較
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_conditions"></a>分岐条件と制御構造</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_logical_and" title="and">and</a>
                </span>
              </dt>
              <dd>
	    分岐条件で用いる論理 and
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_break" title="break">break</a>
                </span>
              </dt>
              <dd>
	    一階層以上のループ、あるいは switch ステートメントから抜け出す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_case" title="case">case</a>
                </span>
              </dt>
              <dd>
	    switch ステートメントの各種分岐点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_continue" title="continue">continue</a>
                </span>
              </dt>
              <dd>
	    for-, do-, repeat- または while ループにおいて以降の反復処理を開始
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_default" title="default">default</a>
                </span>
              </dt>
              <dd>
	    switch ステートメントのデフォルト分岐点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_do" title="do">do</a>
                </span>
              </dt>
              <dd>
	    do ループ (条件無指定) の起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_else" title="else">else</a>
                </span>
              </dt>
              <dd>
	    if ステートメントの分岐点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_elsif" title="elsif">elsif</a>
                </span>
              </dt>
              <dd>
	    if ステートメントの追加分岐点における起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_end" title="end">end</a>
                </span>
              </dt>
              <dd>
	    プログラムの終了
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_endif" title="endif">endif</a>
                </span>
              </dt>
              <dd>
	    if ステートメントの終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_false" title="false">false</a>
                </span>
              </dt>
              <dd>
	    値 0 の定数
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_fi" title="fi">fi</a>
                </span>
              </dt>
              <dd>
	    endif の別名
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_for" title="for">for</a>
                </span>
              </dt>
              <dd>
	    for ループの起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_gosub" title="gosub">gosub</a>
                </span>
              </dt>
              <dd>
	    プログラムの別地点に直行して実行を継続 (後で復帰可能)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_goto" title="goto">goto</a>
                </span>
              </dt>
              <dd>
	    プログラムの別地点に直行して実行を継続 (復帰不可)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_if" title="if">if</a>
                </span>
              </dt>
              <dd>
	    結果に従い、条件の評価とステートメントの実行するか否かを判定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_label" title="label">label</a>
                </span>
              </dt>
              <dd>
	    goto, gosub または restore で使うプログラムの移動位置を指定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_loop" title="loop">loop</a>
                </span>
              </dt>
              <dd>
	    無限ループの終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_next" title="next">next</a>
                </span>
              </dt>
              <dd>
	    for ループの終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_logical_not" title="not">not</a>
                </span>
              </dt>
              <dd>
	    論理評価式の否定。 ! として記述可能
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_on_gosub" title="on gosub">on gosub</a>
                </span>
              </dt>
              <dd>
	    複数存在する gosub の移動先をひとつ選んで直行
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_on_goto" title="on goto">on goto</a>
                </span>
              </dt>
              <dd>
	    複数存在する goto の移動先をひとつ選んで直行
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_on_interrupt" title="on interrupt">on interrupt</a>
                </span>
              </dt>
              <dd>
	    キーボード割り込みの反応を変更
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_logical_or" title="論理 or">論理 or</a>
                </span>
              </dt>
              <dd>
	    分岐条件で用いる論理 or
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bitwise_or" title="or()">ビット単位 or</a>
                </span>
              </dt>
              <dd>
	    ビット操作で用いる算術 or
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_pause" title="pause">pause</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_repeat" title="repeat">repeat</a>
                </span>
              </dt>
              <dd>
	    repeat ループの起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_return" title="return">return</a>
                </span>
              </dt>
              <dd>
	    サブルーチンまた gosub から復帰
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sleep" title="sleep">sleep</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_switch" title="switch">switch</a>
                </span>
              </dt>
              <dd>
	    値に従い複数の選択肢からひとつ選びます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_then" title="then">then</a>
                </span>
              </dt>
              <dd>
	    if ステートメントにおける正式と略式の識別
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_true" title="true">true</a>
                </span>
              </dt>
              <dd>
	    値 1 の定数
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_until" title="until">until</a>
                </span>
              </dt>
              <dd>
	    repeat ループの終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_wait" title="wait">wait</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_wend" title="wend">wend</a>
                </span>
              </dt>
              <dd>
	    while ループの終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_while" title="while">while</a>
                </span>
              </dt>
              <dd>
	    while ループの起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_colon" title=":">:</a>
                </span>
              </dt>
              <dd>
	    コマンド同士の書き分け
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_data"></a>データの保存と処理</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_arraydim" title="arraydim()">arraydim()</a>
                </span>
              </dt>
              <dd>
	    配列の参照として渡される配列の次元を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_arraysize" title="arraysize()">arraysize()</a>
                </span>
              </dt>
              <dd>
	    配列における次元のサイズを返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_data" title="data">data</a>
                </span>
              </dt>
              <dd>
	    data アイテムのリストを導入します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_dim" title="dim">dim</a>
                </span>
              </dt>
              <dd>
	    初回使用前に配列を作成
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_read" title="read">read</a>
                </span>
              </dt>
              <dd>
	    data ステートメントからデータを読み取る
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_redim" title="redim">redim</a>
                </span>
              </dt>
              <dd>
	    初回使用前に配列を作成します。これは dim と同義語です
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_restore" title="restore">restore</a>
                </span>
              </dt>
              <dd>
	    data ポインタの再配置
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_strings"></a>文字列処理</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_asc" title="asc()">asc()</a>
                </span>
              </dt>
              <dd>
	    文字列の取得後に ASCII 文字セットの範囲内で一文字目の位置を返します。
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_chomp" title="chomp$()">chomp$()</a>
                </span>
              </dt>
              <dd>
	    文字列引数から末尾の改行を除去します。文字列の末尾が改行でなければ、無変更の文字列を返します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_chr" title="chr$()">chr$()</a>
                </span>
              </dt>
              <dd>
	    数値の取得後に ASCII 文字セットの指定位置にある文字を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_glob" title="glob()">glob()</a>
                </span>
              </dt>
              <dd>
	    文字列と単純なパターンが一致するか判定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_hex" title="hex$()">hex$()</a>
                </span>
              </dt>
              <dd>
	    数値を十六進数へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_instr" title="instr()">instr()</a>
                </span>
              </dt>
              <dd>
	    第二引数で指定されたものを第一引数から検索します。発見時は位置を返します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_rinstr" title="rinstr()">rinstr()</a>
                </span>
              </dt>
              <dd>
	    
	    find the rightmost occurrence of one string within the other
	  
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_left" title="left$()">left$()</a>
                </span>
              </dt>
              <dd>
	    文字列の左端を返す (または変更)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_len" title="len()">len()</a>
                </span>
              </dt>
              <dd>
	    文字列の長さを返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_lower" title="lower$()">lower$()</a>
                </span>
              </dt>
              <dd>
	    文字列を英字小文字へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_ltrim" title="ltrim$()">ltrim$()</a>
                </span>
              </dt>
              <dd>
	    文字列の左端から空白文字を除去
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mid" title="mid$()">mid$()</a>
                </span>
              </dt>
              <dd>
	    文字列に存在する文字を返す (または変更)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_right" title="right$()">right$()</a>
                </span>
              </dt>
              <dd>
	    文字列の右端を返す (または変更)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_split" title="split()">split()</a>
                </span>
              </dt>
              <dd>
	    文字列を複数の文字列へ分割
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_str" title="str$()">str$()</a>
                </span>
              </dt>
              <dd>
	    数値を文字列へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_token" title="token()">token()</a>
                </span>
              </dt>
              <dd>
	    文字列を複数の文字列へ区切ります
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_trim" title="trim$()">trim$()</a>
                </span>
              </dt>
              <dd>
	    引数の先頭と末尾にある空白文字を除去
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_rtrim" title="rtrim$()">rtrim$()</a>
                </span>
              </dt>
              <dd>
	    文字列の右端から空白文字を除去
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_upper" title="upper$()">upper$()</a>
                </span>
              </dt>
              <dd>
	    文字列を英字大文字へ変換
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_val" title="val()">val()</a>
                </span>
              </dt>
              <dd>
	    文字列を数値へ変換
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_io"></a>ファイル処理と表示</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_at" title="at()">at()</a>
                </span>
              </dt>
              <dd>
	    print コマンドの指定位置への出力に使います
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_beep" title="beep">beep</a>
                </span>
              </dt>
              <dd>
	    コンピュータに搭載されているブザーを鳴らします。これは bell と同義語です。
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bell" title="bell">bell</a>
                </span>
              </dt>
              <dd>
	    コンピュータに搭載されているブザーを鳴らします (beep と同じ)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a>
                </span>
              </dt>
              <dd>
	    テキストウィンドウを消去
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_close" title="close">close</a>
                </span>
              </dt>
              <dd>
	    以前開いたファイルを閉じる
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_close_printer" title="close printer">close printer</a>
                </span>
              </dt>
              <dd>
	    グラフィックスの印刷を停止
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_print_color" title="print color">print color</a>
                </span>
              </dt>
              <dd>
	    色付きで表示
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_print_colour" title="print colour">print colour</a>
                </span>
              </dt>
              <dd>
	    print color を参照
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_eof" title="eof">eof</a>
                </span>
              </dt>
              <dd>
	    開いているファイルのデータが存在するか確認
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_getscreen" title="getscreen$()">getscreen$()</a>
                </span>
              </dt>
              <dd>
	    テキストターミナルにおいて長方形領域の文字列形式を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_inkey" title="inkey$">inkey$</a>
                </span>
              </dt>
              <dd>
	    キーが押されるまで待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_input" title="input">input</a>
                </span>
              </dt>
              <dd>
	    ユーザ (またはファイル) からの入力を読み取り後に変数へ代入
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_line_input" title="line input">line input</a>
                </span>
              </dt>
              <dd>
	    テキストを一行全体の読み取り後に変数へ代入
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_open" title="open">open</a>
                </span>
              </dt>
              <dd>
	    ファイルを開きます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_open_printer" title="open printer">open printer</a>
                </span>
              </dt>
              <dd>
	    グラフィックスを印刷するためにプリンタを開きます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_print" title="print">print</a>
                </span>
              </dt>
              <dd>
	    端末またはファイルへ出力
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_putscreen" title="putscreen">putscreen</a>
                </span>
              </dt>
              <dd>
	    矩形文字領域をテキストターミナルへ描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_reverse" title="reverse">reverse</a>
                </span>
              </dt>
              <dd>
	    反転表示 (背景色と前景色の交換)
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_screen" title="screen">screen</a>
                </span>
              </dt>
              <dd>
	    clear screen はテキストウィンドウを消去します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_seek" title="seek()">seek()</a>
                </span>
              </dt>
              <dd>
	    開いているファイルの位置を変更
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_tell" title="tell">tell</a>
                </span>
              </dt>
              <dd>
	    開いているファイルの現在位置を取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_using" title="using">using</a>
                </span>
              </dt>
              <dd>
	    書式を指定して数値を出力
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_hash" title="#">#</a>
                </span>
              </dt>
              <dd>
	    コメント、またはファイル番号識別子
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_at" title="at()">at</a>
                </span>
              </dt>
              <dd>
	    print コマンドの指定位置への出力に使います
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_at_sign" title="@">@</a>
                </span>
              </dt>
              <dd>
	    at の同義語
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_semicolon" title=";">;</a>
                </span>
              </dt>
              <dd>
	    print ステートメントの後に来る暗黙的な改行を抑制
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_sub"></a>サブルーチンとライブラリ</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_end_sub" title="end sub">end sub</a>
                </span>
              </dt>
              <dd>
	    サブルーチン定義の終点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_export" title="export">export</a>
                </span>
              </dt>
              <dd>
	    関数はグローバルで参照可能であることを指定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_import" title="import">import</a>
                </span>
              </dt>
              <dd>
	    ライブラリのインポート
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_local" title="local">local</a>
                </span>
              </dt>
              <dd>
	    サブルーチンにおいて変数はローカルであることを指定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_numparams" title="numparams">numparams</a>
                </span>
              </dt>
              <dd>
	    サブルーチンに渡されたパラメータ数を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_return" title="return">return</a>
                </span>
              </dt>
              <dd>
	    サブルーチンまた gosub から復帰
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_static" title="static">static</a>
                </span>
              </dt>
              <dd>
	    サブルーチンの呼び出し時に変数の値を保存します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_step" title="step">step</a>
                </span>
              </dt>
              <dd>
	    for ループにおけるインクリメント階数の指定
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sub" title="sub">sub</a>
                </span>
              </dt>
              <dd>
	    ユーザ定義サブルーチンの宣言
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_outside"></a>yabasic から外部コマンドを呼び出すには</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_system" title="system()">system()</a>
                </span>
              </dt>
              <dd>
	    オペレーティング・システムに外部コマンド名を渡した後に終了コードを返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_system2" title="system$()">system$()</a>
                </span>
              </dt>
              <dd>
	    オペレーティング・システムに外部コマンド名を渡した後に結果を返す
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_add_code"></a>実行中にコードを追加するには</h2>
              </div>
            </div>
          </div>
          <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>に関しても参照。</p>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_compile" title="compile">compile</a>
                </span>
              </dt>
              <dd>
	    yabasic コードの文字列を即時コンパイルします。
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_eval" title="eval()">eval()</a>
                </span>
              </dt>
              <dd>
	    単体数値式のコンパイルと実行
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_eval2" title="eval$()">eval$()</a>
                </span>
              </dt>
              <dd>
	    単体文字列式のコンパイルと実行
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_execute" title="execute()">execute()</a>
                </span>
              </dt>
              <dd>
	    数値を返すユーザー定義のサブルーチンを実行します。
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_execute2" title="execute$()">execute$()</a>
                </span>
              </dt>
              <dd>
	    文字列を返すユーザー定義のサブルーチンを実行します。
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_time_and_timing"></a>時刻関連のコマンドと関数</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_date" title="date$">date$</a>
                </span>
              </dt>
              <dd>
	    現在時刻の各種構成要素を文字列で返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_pause" title="pause">pause</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_sleep" title="sleep">sleep</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_time" title="time$">time$</a>
                </span>
              </dt>
              <dd>
	    現在時刻を文字列で返す
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_other"></a>そのほかのコマンド</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_bind" title="bind()">bind()</a>
                </span>
              </dt>
              <dd>
	    yabasic プログラムと yabasic インタプリタを連結して実行可能プログラムを作成
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_doc" title="doc">doc</a>
                </span>
              </dt>
              <dd>
	    プログラム本体で取得できる特別コメント
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_docu" title="docu$">docu$</a>
                </span>
              </dt>
              <dd>
	    プログラムに存在する全 docu ステートメントの内容を収録した特別な配列
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_error" title="error">error</a>
                </span>
              </dt>
              <dd>
	    エラーを起こしてプログラムを強制終了
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_exit" title="exit">exit</a>
                </span>
              </dt>
              <dd>
	    プログラムの終了
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_peek" title="peek">peek</a>
                </span>
              </dt>
              <dd>
	    各種内部情報の取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_peek2" title="peek$">peek$</a>
                </span>
              </dt>
              <dd>
	    各種内部情報の文字列で取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_poke" title="poke">poke</a>
                </span>
              </dt>
              <dd>
	    選択した yabasic の内部情報を変更します。
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_rem" title="rem">rem</a>
                </span>
              </dt>
              <dd>
	    コメントの起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_to" title="to">to</a>
                </span>
              </dt>
              <dd>
	    このキーワードは他のステートメントに付随するものとして指定します
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_wait" title="wait">wait</a>
                </span>
              </dt>
              <dd>
	    指定秒数経過まで一時停止、休止、待機
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_double_slash" title="//">//</a>
                </span>
              </dt>
              <dd>
	    コメントの起点
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_colon" title=":">:</a>
                </span>
              </dt>
              <dd>
	    コマンド同士の書き分け
	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_graphics"></a>グラフィックスと表示</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_backcolor" title="backcolor">backcolor</a>
                </span>
              </dt>
              <dd>
	    グラフィックウィンドウの背景色を変更
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_box" title="box">box</a>
                </span>
              </dt>
              <dd>
	    長方形の描画。これは rectangle と同義語です
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_circle" title="circle">circle</a>
                </span>
              </dt>
              <dd>
	    グラフィックスウィンドウに円を描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_clear" title="clear">clear</a>
                </span>
              </dt>
              <dd>
	    円、長方形、または三角形の消去
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_clear_window" title="clear window">clear window</a>
                </span>
              </dt>
              <dd>
	    グラフィックウインドウの消去します。消去中に表示処理が行われている場合は新規ページが描画先となります
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_close_curve" title="close curve">close curve</a>
                </span>
              </dt>
              <dd>
	    line コマンドで描画される曲線の終点です
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_close_window" title="close window">close window</a>
                </span>
              </dt>
              <dd>
	    グラフィックウィンドウを閉じます
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_backcolor" title="backcolor">color</a>
                </span>
              </dt>
              <dd>
	    次回の描画コマンドから使う色を変更
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_dot" title="dot">dot</a>
                </span>
              </dt>
              <dd>
	    グラフィックウィンドウにドットを描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_fill" title="fill">fill</a>
                </span>
              </dt>
              <dd>
	    塗り潰した円、長方形、または三角形の描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_getbit" title="getbit$()">getbit$()</a>
                </span>
              </dt>
              <dd>
	    グラフィックスウィンドウにおいて長方形領域のビットパターンを文字列形式を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_line" title="line">line</a>
                </span>
              </dt>
              <dd>
	    線の描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mouseb" title="mouseb">mouseb</a>
                </span>
              </dt>
              <dd>
	    inkey$ で返された文字列からマウスボタンの状態を取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mousemod" title="mousemod">mousemod</a>
                </span>
              </dt>
              <dd>
	    マウスがクリックされた時の修飾キーの状態を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mousex" title="mousex">mousex</a>
                </span>
              </dt>
              <dd>
	    マウスがクリックされた場所の X 座標を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_mousey" title="mousey">mousey</a>
                </span>
              </dt>
              <dd>
	    マウスがクリックされた場所の Y 座標を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_new_curve" title="new curve">new curve</a>
                </span>
              </dt>
              <dd>
	    line コマンドで描画される曲線の始点です
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_open_window" title="open window">open window</a>
                </span>
              </dt>
              <dd>
	    グラフィックウィンドウを開く
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_putbit" title="putbit">putbit</a>
                </span>
              </dt>
              <dd>
	    文字列形式でエンコードしたピクセルの長方形領域をグラフィックスグラフィックスへ描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_rectangle" title="rectangle">rectangle</a>
                </span>
              </dt>
              <dd>
	    長方形の描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_triangle" title="triangle">triangle</a>
                </span>
              </dt>
              <dd>
	    三角形の描画
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_text" title="text">text</a>
                </span>
              </dt>
              <dd>
	    グラフィックウィンドウへテキストを出力
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_origin" title="window origin">window origin</a>
                </span>
              </dt>
              <dd>
	    ウィンドウの原点を移動

	  </dd>
            </dl>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="top_ffi"></a>外部関数インタフェース</h2>
              </div>
            </div>
          </div>
          <div class="variablelist">
            <dl class="variablelist">
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_alloc" title="foreign_buffer_alloc$()">foreign_buffer_alloc$()</a>
                </span>
              </dt>
              <dd>
	    外部関数の呼び出しで用いるバッファの新規作成
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_dump" title="foreign_buffer_dump$()">foreign_buffer_dump$()</a>
                </span>
              </dt>
              <dd>
	    十六進数でエンコードした文字列をバッファの内容として返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_free" title="foreign_buffer_free">foreign_buffer_free()</a>
                </span>
              </dt>
              <dd>
	    外部バッファの解放
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get()</a>
                </span>
              </dt>
              <dd>
	    外部バッファから数値を取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_get2" title="foreign_buffer_get$()">foreign_buffer_get$()</a>
                </span>
              </dt>
              <dd>
	    外部バッファから文字列を取得
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_get_buffer" title="foreign_buffer_get_buffer$()">foreign_buffer_get_buffer$()</a>
                </span>
              </dt>
              <dd>
	    バッファの処理と内容から第バッファのハンドルを作成
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_set" title="foreign_buffer_set">foreign_buffer_set</a>
                </span>
              </dt>
              <dd>
	    指定された値をバッファへ格納
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_set_buffer" title="foreign_buffer_set_buffer">foreign_buffer_set_buffer</a>
                </span>
              </dt>
              <dd>
	    あるバッファのポインタを別のバッファへ格納
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_buffer_size" title="foreign_buffer_size()">foreign_buffer_size()</a>
                </span>
              </dt>
              <dd>
	    外部バッファの容量を返す
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call()</a>
                </span>
              </dt>
              <dd>
	    非 yabasic ライブラリまたは DLL 関数 (数値を返す) の呼び出し
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_function_call2" title="foreign_function_call$()">foreign_function_call$()</a>
                </span>
              </dt>
              <dd>
	    非 yabasic ライブラリまたは DLL 関数 (文字列またはバッファを返す) の呼び出し
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_frn" title="frnbf_ と frnfn_">foreign_function_size()</a>
                </span>
              </dt>
              <dd>
	    foreign_buffer_ と foreign_function_ の短縮形
	  </dd>
              <dt>
                <span class="term">
                  <a class="link" href="#ref_foreign_function_size" title="foreign_function_size()">frnbf_ と frnfn_</a>
                </span>
              </dt>
              <dd>
	    外部関数の呼び出しで利用可能な型の容量を返す
	  </dd>
            </dl>
          </div>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_ref_concepts"></a>Chapter&nbsp;6. <span class="application">yabasic</span> の機能と一般概念</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#ref_logical_shortcuts">略式論理評価</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_conditions_and_expressions">分岐条件と式</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_comparing_strings_or_numbers">文字列や数値の比較</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_array_references">配列の参照</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="sect2">
                    <a href="#idm1267">用例</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="sect1">
                <a href="#ref_windows_filenames">Windows 版におけるファイル名の指定</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_escape_sequences">エスケープシーケンス</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_add_code">実行中のプログラムにコードを追加するには</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="sect2">
                    <a href="#idm1379">用途</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1402">各種関数とコマンドの相違点</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="sect1">
                <a href="#ref_standalone">yabasic プログラムから<span class="emphasis"><em>実行可能</em></span>プログラムを作成するには</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="sect2">
                    <a href="#idm1457">コマンドラインから実行可能プログラムを作成するには</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1493">プログラムから実行可能プログラムを作成</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1528">実行可能プログラムの作成前に考慮すべき点</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1539">関連</a>
                  </span>
                </dt>
              </dl>
            </dd>
            <dt>
              <span class="sect1">
                <a href="#ffi">非 <span class="application">yabasic</span> ライブラリまたは DLL 関数との連携</a>
              </span>
            </dt>
            <dd>
              <dl>
                <dt>
                  <span class="sect2">
                    <a href="#background_ffi">背景事情</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1643">単純な用例三種</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#steps_during_foreign_call">外部関数呼び出し時の内部処理</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1713">長い名前の短縮</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#structures_and_buffers">構造体とバッファ</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1747">より高度な用例二種</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect2">
                    <a href="#idm1778">関連</a>
                  </span>
                </dt>
              </dl>
            </dd>
          </dl>
        </div>
        <p>This chapter presents some general concepts and terms, which deserve a description on their own, but are not associated with a single command or function in <span class="application">yabasic</span>. Most of these topics do not lend themselves to be read alone, rather they might be read (or skimmed) as background material if an entry from the <a class="link" href="#chapter_ref_words" title="Chapter&nbsp;7.&nbsp; コマンドと関数総覧 (英字順)">alphabetical list of commands</a> refers to them.</p>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_logical_shortcuts"></a>略式論理評価</h2>
              </div>
            </div>
          </div>
          <p><span class="emphasis"><em>Logical shortcuts</em></span> are no special language construct and there is no keyword for them; they are just a way to evaluate <span class="emphasis"><em>logical expressions</em></span>. Logical expressions (i.e. a series of conditions or comparisons joined by <a class="link" href="#ref_bitwise_and" title="and()"><code class="function">and</code></a> or <a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>) are only evaluated until the final result of the expression can be determined. 用例:</p>
          <div class="informalexample">
            <pre class="programlisting">
if (a&lt;&gt;0 and b/a&gt;2) print "最低でも b は a より二倍大きいです"
</pre>
          </div>
          <p>
      
      The logical expression <code class="literal">a&lt;&gt;0 and b/a&gt;2</code> consists of two comparisons, both of which must be true, if the <code class="function">print</code> statement should be executed. Now, if the first comparison (<code class="literal">a&lt;&gt;0</code>) is <code class="constant">false</code>, the whole logical expression can never be <code class="constant">true</code> and the second comparison (<code class="literal">b/a&gt;2</code>) need not be evaluated.
      
      </p>
          <p>This is exactly, how <span class="application">yabasic</span> behaves: The evaluation of a composed logical expressions is terminated immediately, as soon as the final result can be deduced from the already evaluated parts.</p>
          <p>実際、これは以下の結果となります:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>If two or more comparisons are joined with <code class="function">and</code> and one comparison results in <code class="constant">false</code>, the logical expression is evaluated no further and the overall result is <code class="constant">false</code>.</p>
              </li>
              <li class="listitem">
                <p>If two or more comparisons are joined with <code class="function">or</code> and one comparison results in <code class="constant">true</code>, the logical expression is evaluated no further and the result is <code class="constant">true</code>.</p>
              </li>
            </ul>
          </div>
          <p><span class="quote">“<span class="quote">Nice, but whats this good for ?</span>”</span>, I hear you say. Well, just have another look at the example, especially the second comparison (<code class="literal">b/a&gt;2</code>); dividing <code class="literal">b</code> by <code class="literal">a</code> is potentially hazardous: If <code class="literal">a</code> equals zero, the expression will cause an error and your program will terminate. これを回避するには、第二比較部分が安全に評価可能な場合に、第一比較部分 (<code class="literal">a&lt;&gt;0</code>) の確認をしてください。This pre-checking is the most common usage and primary motivation for <span class="emphasis"><em>logical shortcuts</em></span> (and the reason why most programming languages implement them).</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_conditions_and_expressions"></a>分岐条件と式</h2>
              </div>
            </div>
          </div>
          <p>Well, bottomline there is no difference or distinction between <span class="emphasis"><em>conditions</em></span> and <span class="emphasis"><em>expressions</em></span>, at least as <span class="application">yabasic</span> is concerned. So you may assign the result of comparisons to variables or use an arithmetic expression or a simple variable within a condition (e.g. within an <code class="function">if</code>-statement). So the constructs shown in the example below are all totally valid:</p>
          <div class="informalexample">
            <pre class="programlisting">
input "1 から 10 までの数字を入力してください: " a

rem   変数の比較結果を代入します
okay=a&gt;=1 and a&lt;=10

rem   if ステートメントで変数を使います
if (not okay) error "ダメ、間違いです！"
</pre>
          </div>
          <p>したがって分岐条件と条件式は実のところ全く同じです (少なくとも yabasic 関連に限り)。Therefore the terms <em class="wordasword">conditions</em> and <em class="wordasword">expression</em> can really be used interchangeably, at least in theory. In reality the term <em class="wordasword">condition</em> is used in connection with <code class="function">if</code> or <code class="function">while</code> whereas the term <em class="wordasword">expression</em> tends to be used more often within arithmetic context.</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_comparing_strings_or_numbers"></a>文字列や数値の比較</h2>
              </div>
            </div>
          </div>
          <p><span class="application">Yabasic</span>, of course, allows to compare strings with strings and numbers with numbers; <code class="function">&lt;</code>, <code class="function">&lt;=</code>, <code class="function">&gt;</code> and <code class="function">&gt;=</code> compare their left-hand side to their right-hand side as usual; nothing new here and examples can be found throughout this manual.</p>
          <p>More interesting, the <span class="emphasis"><em>equality</em></span>-operator (for numbers as well as for strings) can be written <span class="emphasis"><em>in two different ways</em></span>: either as <code class="function">=</code> (traditional) or as <code class="function">==</code> (more modern). The second form has the advantage of beeing visually distinct from the <span class="emphasis"><em>assignment</em></span>-operator, which is the single <code class="function">=</code>. One may argue therefore, that using <code class="function">==</code> results in code, that is easier to understand and read; This manual however sticks to tradition and mostly uses the single <code class="function">=</code> for equality-check.</p>
          <p>Finally, <span class="emphasis"><em>inequality</em></span> can be checked with <code class="function">&lt;&gt;</code> or <code class="function">!=</code>; both operators behave identically and so it is only a matter of taste, which one to use.</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_array_references"></a>配列の参照</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="sect2">
                  <a href="#idm1267">用例</a>
                </span>
              </dt>
            </dl>
          </div>
          <p><span class="emphasis"><em>References on arrays</em></span> are the only way to refer to an array <span class="emphasis"><em>as a whole</em></span> and to pass it to subroutines or functions like <a class="link" href="#ref_arraydim" title="arraydim()"><code class="function">arraydim</code></a> or <a class="link" href="#ref_arraysize" title="arraysize()"><code class="function">arraysize</code></a>.</p>
          <p>While (for example) <code class="literal">a(2)</code> designates the second element of the array <code class="literal">a</code>, <code class="literal">a()</code> (with empty braces) refers to the array <code class="literal">a</code> itself. <code class="literal">a()</code> は<span class="emphasis"><em>配列参照</em></span>とも呼ばれます。A nice example is the bultin function <a class="link" href="#ref_split" title="split()"><code class="function">split</code></a>, that accepts an array-reference and modifies the content of this array.</p>
          <p>You may also pass to and use array reference within your own subroutines; these subroutines will then be able to modify the array you have passed in often this is intended.</p>
          <p>Passing an array reference does not create a copy of the array; this has some interesting consequences:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p><span class="emphasis"><em>Speed and space:</em></span> Creating a copy of an
array would be a time and memory consuming operation; passing just a reference is cheap and fast.</p>
              </li>
              <li class="listitem">
                <p>Returning many values: A subroutine, that wants to give back more than one value, may require an array reference among its arguments and then store its many return values within this array. これはサブルーチンから単体、または複数値を返す唯一の方法です。</p>
              </li>
            </ul>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1267"></a>用例</h3>
                </div>
              </div>
            </div>
            <div class="informalexample">
              <p>以下のプログラムでは単語の配列を処理する二種類のサブルーチン (<code class="function">print_words</code> と <code class="function">upcase_words</code>) を作成します:</p>
              <pre class="programlisting">
dim words$(4)
for i=1 to 4
  read words$(i)
next i

print_words(words$())
upcase_words(words$())
print_words(words$())

sub print_words(w$())
  local i
  for i=1 to arraysize(w$(),1)
    print w$(i)," ";
  next i
  print    
end sub

sub upcase_words(w$())
  local i
  for i=1 to arraysize(w$(),1)
    w$(i) = upper$(w$(i))
  next i
end sub

data "case","does","not","matter"
            </pre>
              <p>このプログラムの実行後の結果は:</p>
              <pre class="screen">
	      <code class="computeroutput">
case does not matter
CASE DOES NOT MATTER		
	      </code>
	    </pre>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_windows_filenames"></a>Windows 版におけるファイル名の指定</h2>
              </div>
            </div>
          </div>
          <p>As you probably know, windows uses the character '<code class="literal">\</code>' to separate the directories within a pathname; an example would be <code class="literal">C:\yabasic\yabasic.exe</code> (the usual location of the <span class="application">yabasic</span> executable). However, the very same character '<code class="literal">\</code>' is used to construct <a class="link" href="#ref_escape_sequences" title="エスケープシーケンス">escape sequences</a>, not only in <span class="application">yabasic</span> but in most other programming languages.</p>
          <p>Therefore the string <code class="literal">"C:\t.dat"</code> does <span class="emphasis"><em>not</em></span> specify the file <code class="literal">t.dat</code> within the directory <code class="literal">C:</code>; this is because the sequence '<code class="literal">\t</code>' is translated into the tab-character. このファイル名を指定するには、 <code class="literal">"C:\\t.dat"</code> の文字列を使うことが求められます (ダブルスラッシュ '<code class="literal">\\</code>' に注意)。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_escape_sequences"></a>エスケープシーケンス</h2>
              </div>
            </div>
          </div>
          <p><span class="emphasis"><em>エスケープシーケンス</em></span>は「特別」な文字を指定するのに望ましい方法です。They are introduced by the '\'-character and followed by one of a few regular letters, e.g. '\n' or '\r' (see the table below).</p>
          <p>Escape-sequences may occur within any string at any position; they are replaced at <span class="emphasis"><em>parsetime</em></span> (opposed to <span class="emphasis"><em>runtime</em></span>), i.e. as soon as <span class="application">yabasic</span> discovers the string, with their corresponding <span class="emphasis"><em>special</em></span> character. As a consequence of this <code class="function">len("\a")</code> returns 1, because <span class="application">yabasic</span> replaces <code class="function">"\a"</code> with the matching special character just before the program executes.</p>
          <div class="table">
            <a id="idm1307"></a>
            <p class="title">
              <strong>表&nbsp;6.1.&nbsp;エスケープシーケンス</strong>
            </p>
            <div class="table-contents">
              <table class="table" summary="エスケープシーケンス" border="1">
                <colgroup>
                  <col />
                  <col />
                </colgroup>
                <thead>
                  <tr>
                    <th>エスケープシーケンス</th>
                    <th>一致する特殊文字</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <code class="computeroutput">\n</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>改行</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\t</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>タブ</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\v</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>垂直タブ</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\b</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>バックスペース</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\r</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>キャリッジリターン</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\f</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>フォームフィード</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\a</code>
                    </td>
                    <td><span class="emphasis"><em>alert</em></span> (すなわちビープ音)</td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\\</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>バックスラッシュ</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\'</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>シングルクォート</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\"</code>
                    </td>
                    <td>
                      <span class="emphasis">
                        <em>ダブルクォート</em>
                      </span>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <code class="computeroutput">\x</code> <span class="emphasis"> <em>十六進数</em> </span>
                    </td>
                    <td><code class="function">chr$(</code><span class="emphasis"><em>十六進数</em></span><code class="function">)</code> (後述)</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <br class="table-break" />
          <p>Note, that an escape sequences of the form \xHEX allows one to encode arbitrary characters as long as you know their position (as a hex-number) within the <acronym class="acronym">ascii</acronym>-charset: For example \x012 is transformed into the character <code class="function">chr$(18)</code> (or <code class="function">chr$(dec("12",16))</code>. 注意点として、十六進数形式の数値には \x が必要です (さらに、十六進数の文字列  "12"  は十進数の数値 18 に対応します)。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_add_code"></a>実行中のプログラムにコードを追加するには</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="sect2">
                  <a href="#idm1379">用途</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1402">各種関数とコマンドの相違点</a>
                </span>
              </dt>
            </dl>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1379"></a>用途</h3>
                </div>
              </div>
            </div>
            <p>Normally, you write programs in yabasic and specify all the necessary logic and calculations within your program. Once you are done, you invoke it, probably multiple times; and while it is running, it does not change.</p>
            <p>However, there are some commands within <span class="application">yabasic</span>, that allow to blur the line between writing and execution. Namely <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>, <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code>, <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>, <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code> and <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code> allow to create and execute new <span class="application">yabasic</span>-code while your program is running. This comes in handy, if the code to be used comes from the user of your program and will only be known <span class="emphasis"><em>after</em></span> your program has started. A simple example is the <span class="application">yabasic</span>-code to calculate the maximum of a user-supplied expression within a given range; find it as an example for <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>. In the same way, one may write a program to plot an arithmetic function, whose definition is entered by the user.</p>
            <p>Note: Even if the commands listed above allow to change the <span class="application">yabasic</span>-program, that is currently running, the <span class="emphasis"><em>file</em></span> where the program is stored, does not change. そのため、実行中のプログラムに関する変更は恒常的ではありません。</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1402"></a>各種関数とコマンドの相違点</h3>
                </div>
              </div>
            </div>
            <p>例えば、コンパイル後に即時実行する <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code> と <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code> は式をコンパイル (結果は数値か文字列) するだけの非常に単純な関数です。コンパイルしたコードは保存されるため、同一式が再実行されるときは再コンパイルは不要です。これにより効率性を満たせます。ただし、これらの関数は<span class="emphasis"><em>単一式</em></span> を除き、それ以外は一切扱えません。</p>
            <p>
	  
	  If you need more complex computation and logic, the process needs to be split: First create a new subroutine with the <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>-command, then execute this subroutine (maybe multiple times) via <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code> or <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code>. This allows to use the broad logic available in subroutines (e.g. conditions, loops, local variables or even other subroutines) and therefore much more complex calculations than with <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>. If you want to use <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code> multiple times within your program (e.g. in a loop), you may want to enumerate the functions you create to avoid name-clashes (as shown in the examples of <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>).
	
	</p>
            <p>To invoke the subroutines created, you need to execute them with <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code> or <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code>, which require the name of the function (a string) as their first argument.</p>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_standalone"></a>yabasic プログラムから<span class="emphasis"><em>実行可能</em></span>プログラムを作成するには</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="sect2">
                  <a href="#idm1457">コマンドラインから実行可能プログラムを作成するには</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1493">プログラムから実行可能プログラムを作成</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1528">実行可能プログラムの作成前に考慮すべき点</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1539">関連</a>
                </span>
              </dt>
            </dl>
          </div>
          <p>時に第三者へ開発したプログラムを配布したいと思うことがあるでしょう。しかし、第三者が <span class="application">yabasic</span> をインストールしていない場合はどうすればいいのでしょうか？In that case you may create a <span class="emphasis"><em>standalone</em></span>-program from your yabasic-program, i.e. an executable, that may be executed on its own, standalone, even (and especially !) on computers, that do not have <span class="application">yabasic</span> installed. Having created a standalone program, you may pass it around like any other program (e.g. one written in <span class="application">C</span>) and you can be sure that your program will execute right away.</p>
          <p>Such a standalone-program is simply created by copying the full <span class="application">yabasic</span>-interpreter and your yabasic-program (plus all the libraries that it may <code class="function">import</code>) together into a single, new program, whose name might be chosen at will (under windows of course it should have the ending <code class="filename">.exe</code>). If you decide to create a standalone-program, there are three facilities in yabasic, that you may use:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>The <code class="function"><a class="link" href="#ref_bind" title="bind()">bind</a></code>-command, which does the actual job of creating the standalone program from the <span class="application">yabasic</span>-interpreter and your program.</p>
              </li>
              <li class="listitem">
                <p>この処理をコマンドラインからするには、コマンドラインオプション <code class="literal">--bind</code> (<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプション</a>を参照) を使います。</p>
              </li>
              <li class="listitem">
                <p>特別な <code class="function"><a class="link" href="#ref_peek" title="peek">peek("isbound")</a></code> として、 <span class="application">yabasic</span> プログラムの実行可能プログラムにインタプリタが連結されているかを確認するために、この <code class="function">peek</code> を使います。</p>
              </li>
            </ul>
          </div>
          <p>この小技は実行可能プログラムを作成する上で必要な知識です。この処理を成すには二通りの方法があります: コマンドラインと開発したプログラムから処理。</p>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1457"></a>コマンドラインから実行可能プログラムを作成するには</h3>
                </div>
              </div>
            </div>
            <p>さて、以下の<span class="emphasis"><em>非常に</em></span>単純なプログラムが <code class="filename">foo.yab</code> ファイルに記述されているものとします:</p>
            <div class="informalexample">
              <pre class="programlisting">
print "Hello World !"
</pre>
            </div>
            <p>通常、 <strong class="userinput"><code>yabasic foo.yab</code></strong> と入力すると <span class="application">yabasic</span> プログラムを起動します。その後に、画面上に  <code class="computeroutput">Hello World !</code> が表示されます。なお、 <code class="filename">foo.yab</code> から<span class="emphasis"><em>実行可能</em></span>プログラムを作成するには下記を入力します:</p>
            <div class="informalexample">
              <p>
                <strong class="userinput">
                  <code>yabasic -bind foo.exe foo.yab</code>
                </strong>
              </p>
            </div>
            <p>このコマンドはプログラム <code class="filename">foo.yab</code> を実行<span class="emphasis"><em>しない</em></span>代わりに <span class="emphasis"><em>実行可能</em></span>プログラム <code class="filename">foo.exe</code> を作成します。Note: under Unix you would probably name the standalone program <code class="filename">foo</code> or such, omitting the windows-specific ending <code class="filename">.exe</code>. </p>
            <p><span class="application">Yabasic</span> will confirm by printing something like: <code class="computeroutput">---Info: Successfully bound 'yabasic' and 'foo.yab' into 'foo.exe'</code>.</p>
            <p>After that you will find a program <code class="filename">foo.exe</code> (which must be made <span class="emphasis"><em>executable</em></span> with the <span class="command"><strong>chmod</strong></span>-command under Unix first). さて、このプログラム <code class="filename">foo.exe</code> (あるいは Unix では <code class="filename">foo</code>) を実行すると <code class="computeroutput">Hello World !</code> を表示します。</p>
            <p>This newly created program <code class="filename">foo.exe</code> might be passed around to anyone, even if he does not have <span class="application">yabasic</span> installed.</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1493"></a>プログラムから実行可能プログラムを作成</h3>
                </div>
              </div>
            </div>
            <p>開発した <span class="application">yabasic</span> プログラムは <span class="application">yabasic</span> インタプリタ本体と連結可能です。こちらの用例は:</p>
            <div class="informalexample">
              <pre class="programlisting">
if (!peek("isbound")) then
  bind "foo"
  print "実行可能ファイル 'foo' の作成が正常に完了しました！"
  exit
endif

print "Hello World !"
</pre>
            </div>
            <p>If you run this program (which may be saved in the file <code class="filename">foo.yab</code>) via <strong class="userinput"><code>yabasic foo.yab</code></strong>, the <code class="function"><a class="link" href="#ref_peek" title="peek">peek("isbound")</a></code> in the first line will check, if the program is already part of a standalone-program. If <span class="emphasis"><em>not</em></span> (i.e. if the <span class="application">yabasic</span>-interpreter and the <span class="application">yabasic</span>-program are separate files) the <code class="function"><a class="link" href="#ref_bind" title="bind()">bind</a></code>-command will create a standalone program <code class="filename">foo</code> containing both. As a result you would see the output <code class="computeroutput">Successfully created the standalone executable 'foo' !</code>. 備考: Windows においてファイル名は <code class="filename">foo.exe</code> を選ぶと思います。</p>
            <p>Now, if you run this standalone executable <code class="filename">foo</code> (or <code class="filename">foo.exe</code>), the very same <span class="application">yabasic</span>-program that is shown above will be executed again. However, this time the <code class="function"><a class="link" href="#ref_peek" title="peek">peek("isbound")</a></code> will return <code class="constant">TRUE</code> and therefore the condition of the <code class="function">if</code>-statement is <span class="emphasis"><em>false</em></span> and the three lines after <code class="function">then</code> are <span class="emphasis"><em>not</em></span> executed. Rather the last <code class="function">print</code>-statement will run, and you will see the output <code class="computeroutput">Hello World !</code>.</p>
            <p>この方法は <span class="application">yabasic</span> プログラムを実行可能プログラムへ変換します。</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1528"></a>実行可能プログラムの作成前に考慮すべき点</h3>
                </div>
              </div>
            </div>
            <div class="itemizedlist">
              <ul class="itemizedlist" style="list-style-type: disc; ">
                <li class="listitem">
                  <p>少なくとも新規実行可能プログラムはインタプリタ本体と同じくらいのサイズ (一般に数百キロバイト) となります。</p>
                </li>
                <li class="listitem">
                  <p>There is no easy way to extract your <span class="application">yabasic</span>-program from within the standalone program: If you ever want to change it, you should keep it around as a separate file.</p>
                </li>
                <li class="listitem">
                  <p>If a new version of <span class="application">yabasic</span> becomes available, you might want to recreate your standalone program to take advantage of bugfixes and improvements.</p>
                </li>
              </ul>
            </div>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1539"></a>関連</h3>
                </div>
              </div>
            </div>
            <p><a class="link" href="#ref_bind" title="bind()"><code class="function">bind</code></a> コマンド、 <a class="link" href="#ref_peek" title="peek"><code class="function">peek</code></a> コマンド、 コマンドライン<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプション</a>.</p>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ffi"></a>非 <span class="application">yabasic</span> ライブラリまたは DLL 関数との連携</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="sect2">
                  <a href="#background_ffi">背景事情</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1643">単純な用例三種</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#steps_during_foreign_call">外部関数呼び出し時の内部処理</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1713">長い名前の短縮</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#structures_and_buffers">構造体とバッファ</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1747">より高度な用例二種</a>
                </span>
              </dt>
              <dt>
                <span class="sect2">
                  <a href="#idm1778">関連</a>
                </span>
              </dt>
            </dl>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">注意</h3>
            <p>Under Unix, depending on the way <span class="application">yabasic</span> has been built, this feature might have been disabled; the error message in this case will read like <code class="computeroutput">this build of yabasic does not support calling foreign libraries</code>. この問題を解決するには、保守担当者へ連絡してください。</p>
          </div>
          <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
            <h3 class="title">注意</h3>
            <p>これは興味深いものですが、やや高度な内容です。<span class="application">C</span> 言語の各種概念に関する十分な理解が求められます。特に<span class="emphasis"><em>ポインタ</em></span>と<span class="emphasis"><em>構造体</em></span>に加えてメモリブロックの確保と解放に関しては重要です。<span class="application">yabasic</span>は外部関数の呼び出しやバッファの操作で誤りや不具合があると、いともたやすくクラッシュします。ご用心を。</p>
          </div>
          <p><span class="application">Yabasic</span> allows to employ functionality from an external library; i.e. from a library, which is <span class="emphasis"><em>not</em></span> written in <span class="application">yabasic</span>, but rather in <span class="application">C</span>; such a library is called a <span class="emphasis"><em>foreign</em></span> library, as opposed to a library written in yabasic itself. Calling out to a foreign library can be useful, if such a library provides functionality, that can not be replicated in <span class="application">yabasic</span> itself and for which a commandline-interface (which could be used via <code class="function"><a class="link" href="#ref_system" title="system()">system</a></code>) does not exist or is too cumbersome or slow. ライブラリの一例として <span class="application">libVLC</span> や <span class="application">libcurl</span> があり、ほかのプログラム……とりわけ <span class="application">yabasic</span> 用に開発したプログラムで <span class="application">vlc</span> や <span class="application">curl</span> の機能が使えます。</p>
          <p><span class="application">yabasic</span> の外部関数インタフェースは卓越した <a class="ulink" href="https://sourceware.org/libffi/" target="_top">libffi</a> ライブラリによるものです。このライブラリを用いると、ほかのライブラリを動的に呼び出したり、この処理を標準規格で扱えます。</p>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="background_ffi"></a>背景事情</h3>
                </div>
              </div>
            </div>
            <div class="toc">
              <dl class="toc">
                <dt>
                  <span class="sect3">
                    <a href="#idm1579">ライブラリ</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect3">
                    <a href="#idm1598">型</a>
                  </span>
                </dt>
              </dl>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1579"></a>ライブラリ</h4>
                  </div>
                </div>
              </div>
              <p>
  Libraries (e.g. <span class="application">libcurl</span>) are meant to provide functionality to other programs (here: <span class="application">yabasic</span> and your <span class="application">yabasic</span>-program). Libraries and programs must be <span class="emphasis"><em>linked</em></span> together; this can happen either <span class="emphasis"><em>statically</em></span> at compile-time or <span class="emphasis"><em>dynamically</em></span> during the excution of the program. For <span class="application">yabasic</span> as the program, static linking happens at the time, <span class="application">yabasic</span> itself is build, whereas dynamic linking happen during the execution <span class="emphasis"><em>and under control</em></span> of your <span class="application">yabasic</span>-program. ゆえに外部関数インタフェースは動的 (あるいは<span class="emphasis"><em>ランタイム</em></span>) リンクで外部ライブラリを扱います。This linking is done by <span class="application">yabasic</span> behind the scene, when you invoke <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>; this function, after loading the library, directly calls the specified function therein.</p>
              <p>Which functions are available differs from library to library and you should already have this information before you try the library with <span class="application">yabasic</span>.

</p>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1598"></a>型</h4>
                  </div>
                </div>
              </div>
              <p>If you want to use a function from a foreign library, you will need to deal with the fact, that each function requires several parameters and returns exactly one. These parameters have a wide variety of types which need to be mapped to the two types (numbers and strings) known by <span class="application">yabasic</span>. Here are the types available for foreign functions, grouped by the way, they are handled in <span class="application">yabasic</span>:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term"><code class="literal">uint8</code>,<code class="literal">int8</code>,<code class="literal">uint16</code>,<code class="literal">int16</code>,<code class="literal">uint32</code>,<code class="literal">int32</code>,<code class="literal">uint64</code>,<code class="literal">int64</code>,<code class="literal">float</code>,<code class="literal">double</code>,<code class="literal">char</code>,<code class="literal">short</code>,<code class="literal">int</code>,<code class="literal">long</code></span>
                  </dt>
                  <dd>
                    <p>In <span class="application">C</span> all these types are used to represent numbers (integer or floating point) with various degrees of precision. When invoking <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code> you need to pass strings, which specify the right type as well as the actual <span class="application">yabasic</span>-value, which will then be converted accordingly. 外部関数で扱える型は、例えば man ページで確認できます。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">文字列</code>
                    </span>
                  </dt>
                  <dd>
                    <p>外部関数用の文字列は、そのまま <span class="application">yabasic</span> の文字列に割り当られます。したがって、この型を外部関数のパラメータとして指定する場合は、そのまま <span class="application">yabasic</span> の文字列の値として割り当ててください。If you specify <code class="literal">string</code> as the return value of a foreign function you should use the variant of calling it, which returns a string, i.e. <code class="function"><a class="link" href="#ref_foreign_function_call2" title="foreign_function_call$()">foreign_function_call$</a></code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">バッファ</code>
                    </span>
                  </dt>
                  <dd>
                    <p>メモリ領域にある構造体やポインタを外部関数で扱う場合は、パラメータの型、または返値型として <span class="emphasis"><em>buffer</em></span> を指定してください。詳しくは<a class="link" href="#structures_and_buffers" title="構造体とバッファ">構造体とバッファ</a>を参照してください。</p>
                  </dd>
                </dl>
              </div>
            </div>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1643"></a>単純な用例三種</h3>
                </div>
              </div>
            </div>
            <div class="toc">
              <dl class="toc">
                <dt>
                  <span class="sect3">
                    <a href="#idm1645">余弦を求めるには</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect3">
                    <a href="#idm1663">文字列内から別の文字列を検索するには</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect3">
                    <a href="#idm1677">Windows 版でメッセージボックスを表示するには</a>
                  </span>
                </dt>
              </dl>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1645"></a>余弦を求めるには</h4>
                  </div>
                </div>
              </div>
              <p>まず、この用例は余弦の 2 を表示します。ただし  <span class="application">yabasics</span> 本体に組み込まれている <code class="function">cos</code> 関数は使わずに標準 <span class="application">C</span> ライブラリ側の関数を呼び出しています。</p>
              <pre class="programlisting">
if peek$("os")="windows" then
  lib$ = "msvcrt.dll"
else
  lib$ = "libm.so.6"
endif

print "cos(2): ",foreign_function_call(lib$,"double","cos","double",2)
</pre>
              <p>一行目はライブラリを選択します。これは Windows と Unix では異なります。The call to <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code> than just states the name of the library, the return type (<code class="literal">"double"</code>) of the function and then its name (<code class="literal">"cos"</code>), as well as type and value (<code class="literal">2</code>) of its argument. The final result <code class="computeroutput">-0.416147</code> then is the same as from the the internal <code class="function"><a class="link" href="#ref_cos" title="cos()">cos</a></code>-function, which is no surprise, because <span class="application">yabasic</span> is already statically linked to the standard <span class="application">C</span>-library and uses its function to compute the cosine.</p>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1663"></a>文字列内から別の文字列を検索するには</h4>
                  </div>
                </div>
              </div>
              <p>第二用例:</p>
              <pre class="programlisting">
if peek$("os")="windows" then
  lib$ = "msvcrt.dll"
else
  lib$ = "libm.so.6"
endif

print foreign_function_call$(lib$,"string","strstr","string","foobar","string","ob","options","copy_string_result")
</pre>
              <p>This example calls the <code class="function">strstr</code>-function from the standard <span class="application">C</span>-library; this function accepts two string arguments and returns a string, which is the first (if any) appearance of the second string within the first one (remark: this function makes more sense in <span class="application">C</span> than in <span class="application">yabasic</span>). Please note the option <code class="literal">"copy_string_result"</code>, which advices <span class="application">yabasic</span> to return a copy of the result of <code class="function">strstr</code>; otherwise your program might crash, because <code class="function">strstr</code> simply returns a pointer to a part of its first argument, a string that will later be freed by <span class="application">yabasic</span>.</p>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1677"></a>Windows 版でメッセージボックスを表示するには</h4>
                  </div>
                </div>
              </div>
              <p>この用例は Windows 専用です。指定されたタイトルとメッセージで標準メッセージボックスを表示します。</p>
              <pre class="programlisting">
message_box("Hello World !","Message from yabasic")

sub message_box(message$, title$)
  msgptr$ = foreign_buffer_alloc$(len(message$)+1)
  foreign_buffer_set msgptr$, 0, message$
  titleptr$ = foreign_buffer_alloc$(len(title$)+1)
  foreign_buffer_set titleptr$, 0, title$
  hwnd$ = foreign_function_call$("user32.dll", "buffer", "GetActiveWindow")
  ret = foreign_function_call("user32.dll", "int32", "MessageBoxA", "buffer", hwnd$, "buffer", msgptr$, "buffer", titleptr$, "uint32", 0)
  foreign_buffer_free msgptr$
  foreign_buffer_free titleptr$
  return ret
end sub
</pre>
              <p>The relevant Windows-function <code class="function">MessageBoxA</code> is found within the library <code class="filename">user32.dll</code>; most of the example deals with properly allocating, handling and freeing buffers to hold the supplied text-snippets. この用例に関して <span class="emphasis"><em>Jean-Marc Duro</em></span> へ感謝。</p>
            </div>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="steps_during_foreign_call"></a>外部関数呼び出し時の内部処理</h3>
                </div>
              </div>
            </div>
            <p>A remark on <a class="ulink" href="https://sourceware.org/libffi/" target="_top">libffi</a>: this is the library which allows <span class="application">yabasic</span> to call functions from other libraries <span class="application">libffi</span> is used by many other programming-languages for the same purpose; in <span class="application">yabasic</span> it is linked statically (rather than dynamically) so that its functionality is available right from the start. 略説: <span class="application">libffi</span> 本体の呼び出しは不要ですが、それ以外のライブラリから関数を呼び出す手助けとなります。</p>
            <p>こちらは外部関数呼び出し処理におけるイベントの流れです (<code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code> など)。</p>
            <div class="itemizedlist">
              <ul class="itemizedlist" style="list-style-type: disc; ">
                <li class="listitem">
                  <p><span class="application">Yabasic</span> parses the type specifications and argument values provided and collects the necessary information for <span class="application">libffi</span>.</p>
                </li>
                <li class="listitem">
                  <p>指名されたライブラリは適切に呼び出すことでロードされます (Windows と Unix では異なります)。この手順はライブラリの名前を打ち間違えたり、ライブラリがシステムに存在しないなどの理由で失敗しやすいです。</p>
                </li>
                <li class="listitem">
                  <p><span class="application">libffi</span> 機能を用いて指定された関数を呼び出します。</p>
                </li>
                <li class="listitem">
                  <p>オプション <code class="literal">unload_library</code> 指定時、ロードしたライブラリは再びアンロードされます。</p>
                </li>
                <li class="listitem">
                  <p>関数の返値は <span class="application">yabasic</span> に適した形式へ変換後にプログラムの実行を継続します。</p>
                </li>
              </ul>
            </div>
            <p>各ステップごとにエラーを報告します。</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1713"></a>長い名前の短縮</h3>
                </div>
              </div>
            </div>
            <p><span class="application">Yabasics</span> 関数である <code class="function">foreign_function</code> あるいは <code class="function">foreign_buffer</code> (例えば <code class="function"><a class="link" href="#ref_foreign_buffer_alloc" title="foreign_buffer_alloc$()">foreign_buffer_alloc</a></code>) で外部ライブラリの処理を開始します。To help in typing, these names can all be abbreviated by contracting <code class="literal">foreign_function</code> into <code class="literal">frnfn</code> and <code class="literal">foreign_buffer</code> into <code class="literal">frnbf</code>. 以下の用例で両方の書式を示します。</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="structures_and_buffers"></a>構造体とバッファ</h3>
                </div>
              </div>
            </div>
            <p>The <span class="application">C</span>-language provides a wide variety of simple datatypes (like numbers an strings) and allows to aggregate simple datatypes to <span class="emphasis"><em>structures</em></span> such a structure contains a set of simple types arranged without overlap (but sometimes with gaps). <span class="application">Yabasic</span> on itself does not know the internals of a structure but rather treats it as a uniform <span class="emphasis"><em>buffer</em></span>. 構造体とバッファにおいて <span class="application">C</span> または <span class="application">yabasic</span> から見える同一メモリ領域は裏面です。<span class="application">yabasic</span> のバッファは<span class="emphasis"><em>ハンドル</em></span>で表しますが、それは表示可能な文字列 (サイズとメモリアドレスから構成) です。</p>
            <p>The detailed knowledge about the simple types within a structure must be coded into your program, which uses the command (or function) <code class="function"><a class="link" href="#ref_foreign_buffer_set" title="foreign_buffer_set">foreign_buffer_set</a></code> and <code class="function"><a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get</a></code>. Both functions require type and offset (which needs to be looked up in documentation of the foreign library) of the simple type within the structure and a handle to the buffer, which contains the structure.</p>
            <p>Beeing essentially a memory area, a buffer is created with <code class="function"><a class="link" href="#ref_foreign_buffer_alloc" title="foreign_buffer_alloc$()">foreign_buffer_alloc</a></code> and destroyed with <code class="function"><a class="link" href="#ref_foreign_buffer_free" title="foreign_buffer_free">foreign_buffer_free</a></code> if needed no more.</p>
            <p>Besides representing a structure, a buffer can also provide room to store raw areas of memory for use by the foreign library; example might be image- or sound-content.</p>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1747"></a>より高度な用例二種</h3>
                </div>
              </div>
            </div>
            <div class="toc">
              <dl class="toc">
                <dt>
                  <span class="sect3">
                    <a href="#idm1749">時刻処理</a>
                  </span>
                </dt>
                <dt>
                  <span class="sect3">
                    <a href="#example_libcurl"><span class="application">libcurl</span> のバージョンを取得</a>
                  </span>
                </dt>
              </dl>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="idm1749"></a>時刻処理</h4>
                  </div>
                </div>
              </div>
              <p>The example below deals with the time functions from the standard <span class="application">C</span>-library; some of them deal with the <span class="emphasis"><em>tm</em></span> structure for keeping the segmented time; to understand the example it is good to have the tm-structure at hand; see below. In addition it might be helpful to consult the manpages of the various <span class="application">C</span>-functions (e.g. <code class="function">localtime</code>)involved.</p>
              <pre class="programlisting">
struct tm {
    int tm_sec;    /* 秒 (0-60) */
    int tm_min;    /* 分 (0-59) */
    int tm_hour;   /* 時 (0-23) */
    int tm_mday;   /* 今月の経過日数 (1-31) */
    int tm_mon;    /* 月 (0-11) */
    int tm_year;   /* 年 - 1900 */
    int tm_wday;   /* 今週の経過日数 (0-6, 日曜日 = 0) */
    int tm_yday;   /* 今年の経過日数 (0-365, 1 一月 = 0) */
    int tm_isdst;  /* 夏時間 */
};
    </pre>
              <p>The example plays with the two forms of keeping the time, either as unix-time (number of seconds since epoch) or as a segmented time (sec, min, etc.). The six steps are each introduced by comments, please see below.</p>
              <pre class="programlisting">
# 第一段階: オペレーティングシステムに従い適切なライブラリを選択します
#
if peek$("os")="windows" then
  lib$ = "msvcrt.dll"
else
  lib$ = "libm.so.6"
endif

# Second: Get the unix-time
#
# time() has a pointer argument to store the result (in addition to returning it)
# we pass NULL, so only the return value is relevant
#
null$ = foreign_buffer_alloc$(-1)
now = foreign_function_call(lib$,"int","time","buffer",null$)
print "Seconds since the epoch: ",now

# Third: Convert the unix-time to a segmented time
#
# localtime() does not accept the time-value as an argument, but rather requires a pointer
# to the time-value, so we construct a buffer for one int and put in our value
now$ = foreign_buffer_alloc$(foreign_function_size("int"))
foreign_buffer_set now$,0,"int",now
# Dump the buffer for educational purpose
print "Dump of buffer:          ",foreign_buffer_dump$(now$)
# localtime() returns a structure with the componentes (year, day, sec, etc.) as elements
local$ = foreign_function_call$(lib$,"buffer","localtime","buffer",now$)

# Fourth: Get the current year from the resulting buffer
#
# assuming, that year is the sixth element of the structure
# so offset is 5
offset = 5 * foreign_function_size("int")
year = foreign_buffer_get(local$,offset,"int")
print "Current year:            ", year + 1900


# Fifth: manipulate the segmented time
#
# set year to something else
foreign_buffer_set local$,offset,"int",year-50


# Sixth: convert time-structure from localtime into ascii
#
print "50 years back:           ", foreign_function_call$(lib$,"string","asctime","buffer",local$)
</pre>
              <p>このプログラムは、筆者のコンピュータでは以下の結果となります。:</p>
              <pre class="screen">
Seconds since the epoch: 1559014899
Dump of buffer:          F3ADEC5C
Current year:            2019
50 years back:           Tue May 28 05:41:39 1969
</pre>
            </div>
            <div class="sect3">
              <div class="titlepage">
                <div>
                  <div>
                    <h4 class="title"><a id="example_libcurl"></a><span class="application">libcurl</span> のバージョンを取得</h4>
                  </div>
                </div>
              </div>
              <p>この最後の用例では <span class="application">libcurl</span> を呼び出してバージョン情報を取得します。This is somewhat involved, because the matching function <code class="function">curl_version_info</code> (see its man-page) returns a structure, which contains a pointer to a string, as can be seen from the structures definition:</p>
              <pre class="programlisting">
typedef struct {
  CURLversion age;          /* 詳細は後述参照 */
  const char *version;      /* 人間が理解できる文字列 */
  unsigned int version_num; /* 数値形式 */
  const char *host;         /* 人間が理解できる文字列 */
  int features;             /* ビットマスク。後述参照 */
  char *ssl_version;        /* 人間が理解できる文字列 */
  long ssl_version_num;     /* 未使用。必ず 0 です */
  const char *libz_version; /* 人間が理解できる文字列 */
  const char * const *protocols; /* プロトコル */

  ...                       /* 以降の行は省略 */
  
} curl_version_info_data;
    </pre>
              <p>
    備考として、 <span class="application">yabasic</span> のコードでは以下の略式記法 (例えば <code class="function">foreign_function_call</code> の代わりに <code class="function">frnfn_call</code>) を使います。</p>
              <pre class="programlisting">
# バージョン情報の構造体を取得
info$ = frnfn_call$("libcurl.so.4","buffer","curl_version_info","int",1)
# 参照のダンプ
print frnbf_dump$(info$,32)
# バージョン文字列のポインタにおいてオフセットが 8 であるとみなす
sinfo$ = frnbf_get_buffer$(info$,8)
# 判読可能なバージョンを表示
print frnbf_get$(sinfo$,0,10)
</pre>
              <p>The printing of <code class="function"><a class="link" href="#ref_foreign_buffer_dump" title="foreign_buffer_dump$()">frnbf_dump</a></code> gives a hint on the internal offsets within the structure and helps to determine that offset of 8 for the next call.</p>
              <p>このプログラムは原作者のシステムにおいて curl のバージョンは <code class="computeroutput">7.61.1</code> となります。</p>
            </div>
          </div>
          <div class="sect2">
            <div class="titlepage">
              <div>
                <div>
                  <h3 class="title"><a id="idm1778"></a>関連</h3>
                </div>
              </div>
            </div>
            <p><code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>, <code class="function"><a class="link" href="#ref_foreign_function_call2" title="foreign_function_call$()">foreign_function_call2</a></code>, <code class="function"><a class="link" href="#ref_foreign_function_size" title="foreign_function_size()">foreign_function_size</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_alloc" title="foreign_buffer_alloc$()">foreign_buffer_alloc</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_free" title="foreign_buffer_free">foreign_buffer_free</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_size" title="foreign_buffer_size()">foreign_buffer_size</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_dump" title="foreign_buffer_dump$()">foreign_buffer_dump</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_set" title="foreign_buffer_set">foreign_buffer_set</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_set_buffer" title="foreign_buffer_set_buffer">foreign_buffer_set_buffer</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_get2" title="foreign_buffer_get$()">foreign_buffer_get2</a></code>, <code class="function"><a class="link" href="#ref_foreign_buffer_get_buffer" title="foreign_buffer_get_buffer$()">foreign_buffer_get_buffer</a></code>, <code class="function"><a class="link" href="#ref_system" title="system()">system</a></code></p>
          </div>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_ref_words"></a>Chapter&nbsp;7.&nbsp;<span class="application">yabasic</span> のコマンドと関数総覧 (英字順)</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#ref_a">A</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_b">B</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_c">C</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_d">D</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_e">E</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_f">F</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_g">G</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_h">H</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_i">I</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_l">L</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_m">M</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_n">N</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_o">O</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_p">P</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_r">R</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_s">S</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_t">T</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_u">U</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_v">V</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_w">W</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_x">X</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#ref_special_characters">シンボルと特殊記号</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_a"></a>A</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_abs">abs()</a> </span> <span class="refpurpose"> — 数値引数の絶対値を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_acos">acos()</a> </span> <span class="refpurpose"> — 数値単体の逆余弦を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_logical_and">and</a> </span> <span class="refpurpose"> — 分岐条件で用いる論理 and</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bitwise_and">and()</a> </span> <span class="refpurpose"> — ビット単位演算 <code class="function">and</code></span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_arraydim">arraydim()</a> </span> <span class="refpurpose"> — 配列の参照として渡される配列の次元を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_arraysize">arraysize()</a> </span> <span class="refpurpose"> — 配列における次元のサイズを返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_asc">asc()</a> </span> <span class="refpurpose"> — 文字列の取得後に  <acronym class="acronym">ASCII</acronym> 文字セットの範囲内で一文字目の位置を返します。</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_asin">asin()</a> </span> <span class="refpurpose"> — 数値引数の逆正弦を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_at">at()</a> </span> <span class="refpurpose"> — <code class="function">print</code> コマンドの指定位置への出力に使います</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_atan">atan()</a> </span> <span class="refpurpose"> — 数値引数の逆正接を求めます</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_abs"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>abs() — 数値引数の絶対値を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">y=abs(x)</pre>
            </div>
            <div class="refsect1">
              <a id="idm1820"></a>
              <h2>概要</h2>
              <p><code class="function">abs</code> 関数の引数が正数 (例えば 2) ならば変更せずに返し、引数が負数 (例えば -1) ならば正数値 (用えば 1) を返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm1824"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print abs(-2),abs(2)
          </pre>
                <p>この用例の結果は <code class="computeroutput">2 2</code> です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1830"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_sig" title="sig()">
                  <code class="function">sig</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_acos"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>acos() — 数値引数の逆余弦を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">x=acos(angle)</pre>
            </div>
            <div class="refsect1">
              <a id="idm1843"></a>
              <h2>概要</h2>
              <p><code class="function">acos</code> は逆余弦関数です。すなわち <a class="link" href="#ref_cos" title="cos()"><code class="function">cos</code></a> の逆関数です。Or, more elaborate: It Returns the angle (in radians, not degrees !), which, fed to the cosine-function will produce the argument passed to the <code class="function">acos</code>-function.</p>
            </div>
            <div class="refsect1">
              <a id="idm1850"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print acos(0.5),acos(cos(pi))
          </pre>
                <p>この用例では π/3 と π の結果として <code class="computeroutput">1.0472 3.14159</code> を表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1856"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_cos" title="cos()"><code class="function">cos</code></a>, <a class="link" href="#ref_asin" title="asin()"><code class="function">asin</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_logical_and"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>and — 分岐条件で用いる論理 and</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if a and b …
while a and b …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm1871"></a>
              <h2>概要</h2>
              <p>Used in conditions (e.g within <code class="function"><a class="link" href="#ref_if" title="if">if</a></code>, <code class="function"><a class="link" href="#ref_while" title="while">while</a></code> or <code class="function"><a class="link" href="#ref_until" title="until">until</a></code>) to join two expressions. Returns <code class="constant">true</code>, if and only if its left and right argument are both <code class="constant">true</code> and <code class="constant">false</code> otherwise.</p>
              <p>Note, that
	  <a class="link" href="#ref_logical_shortcuts" title="略式論理評価"><span class="emphasis"><em>logical shortcuts</em></span></a> may take place.</p>
            </div>
            <div class="refsect1">
              <a id="idm1886"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数値を入力してください" a
if (a&gt;=1 and a&lt;=9) print "入力は 1 から 9 までの値です"
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1890"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_logical_or" title="論理 or"><code class="function">or</code></a>,<a class="link" href="#ref_logical_not" title="not"><code class="function">not</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bitwise_and"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>and() — ビット単位演算 <code class="function">and</code></p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=and(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm1906"></a>
              <h2>概要</h2>
              <p>引数一組のビット単位 <code class="function">and</code> を求めるのに使います。Both arguments are treated as binary numbers (i.e. a sequence of digits 0 and 1); a bit of the resulting value will then be 1, if both arguments have a 1 at this position in their binary representation.</p>
              <p>双方の引数は暗黙的に整数値に変換されます。したがって、二進数形式の負数であるときに <code class="function">and</code> へ渡すと想定外の結果となる場合があります。</p>
            </div>
            <div class="refsect1">
              <a id="idm1912"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print and(6,3)
          </pre>
                <p>この結果は <code class="computeroutput">2</code> です。This result is clear, if you note, that the binary representation of 6 and 3 are 110 and 011 respectively; this will yield 010 in binary representation or 2 as decimal.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1918"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a> and <a class="link" href="#ref_bitnot" title="bitnot()"><code class="function">bitnot</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_arraydim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>arraydim() — <a class="link" href="#ref_array_references" title="配列の参照">配列の参照</a>として渡される配列の次元を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">a=arraydim(b())</pre>
            </div>
            <div class="refsect1">
              <a id="idm1936"></a>
              <h2>概要</h2>
              <p>If you apply the <code class="literal">arraydim()</code>-function on a one-dimensional array (i.e. a vector) it will return <code class="computeroutput">1</code>, on a two-dimensional array (i.e. a matrix) it will return 2, and so on.</p>
              <p>This is mostly used within subroutines, which expect an array among their parameters. Such subroutines tend to use the <code class="function">arraydim</code>-function to check, if the array which has been passed, has the right dimension. E.g. a subroutine to multiply two matrices may want to check, if it really is invoked with two 2-dimensional arrays.</p>
            </div>
            <div class="refsect1">
              <a id="idm1943"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
dim a(10,10),b(10)
print arraydim(a()),arraydim(b())
          </pre>
                <p>これは配列 <code class="literal">a()</code> と <code class="literal">b()</code> の次元として、 <code class="computeroutput">2 1</code>を表示します。完全な用例は <a class="link" href="#ref_arraysize" title="arraysize()"><code class="function">arraysize</code></a> 関数を確認してください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1953"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_arraysize" title="arraysize()"><code class="function">arraysize</code></a> と <a class="link" href="#ref_dim" title="dim"><code class="function">dim</code></a>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_arraysize"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>arraysize() — 配列における次元のサイズを返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">x=arraysize(a(),b)</pre>
            </div>
            <div class="refsect1">
              <a id="idm1968"></a>
              <h2>概要</h2>
              <p><code class="function">arraysize</code> 関数は与えられた配列で指定された次元におけるサイズを求めます。Here, <span class="emphasis"><em>size</em></span> stands for the maximum number, that may be used as an index for this array. The first argument to this function must be an <a class="link" href="#ref_array_references" title="配列の参照">reference to an array</a>, the second one specifies, which of the multiple dimensions of the array should be taken to calculate the size. Please note, that <code class="function">arraysize</code> returns the value that has been used in the actual <code class="function">dim</code>-statement, the real (internal) size of the array is allocated <span class="emphasis"><em>one larger</em></span> in each dimension to have a first element at index 0; however this is <span class="emphasis"><em>not</em></span> reflected by the output of <code class="function">arraysize</code>.</p>
              <p>An Example involving subroutines: Let's say, an array has been declared as <code class="literal">dim a(10,20)</code> (that is a two-dimensional array or a matrix). If this array is passed as an <a class="link" href="#ref_array_references" title="配列の参照">array reference</a> to a subroutine, this sub will not know, what sort of array has been passed. With the <code class="function">arraydim</code>-function the sub will be able to find the dimension of the array, with the <code class="function">arraysize</code>-function it will be able to find out the size of this array in its two dimensions, which will be 10 and 20 respectively.</p>
              <p>Our sample array is two dimensional; if you envision it as a matrix this matrix has 10 lines and 20 columns (see the <code class="function">dim</code>-statement above. To state it more formally: The first dimension (lines) has a size of 10, the second dimension (columns) has a size of 20; these numbers are those returned by <code class="literal">arraysize(a(),1)</code> and <code class="literal">arraysize(a(),2)</code> respectively. 典型的な用法は以下の用例を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm1988"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">

rem
rem  このプログラムは要素として行列同士を追加します。
rem

dim a(10,20),b(10,20),c(10,20)

rem  配列 a() と b() の初期化 
for y=1 to 10:for x=1 to 20
   a(y,x)=int(ran(4)):b(y,x)=int(ran(4))
next x:next y

matadd(a(),b(),c())

print "結果:"
for x=1 to 20
   for y=10 to 1 step -1
      print c(y,x)," ";
   next y
   print
next x

sub matadd(m1(),m2(),r())

   rem  This sub will add the matrices m1() and m2()
   rem  elementwise and store the result within r()
   rem  これは全く使い物にならない代わりに実装は簡単にできます。
   rem  However, this sub excels in checking its arguments
   rem  with arraydim() and arraysize()

   local x:local y
   
   if (arraydim(m1())&lt;&gt;2 or arraydim(m2())&lt;&gt;2 or arraydim(r())&lt;&gt;2) then
      error "二次元配列の入力が必要です"
   endif

   y=arraysize(m1(),1):x=arraysize(m1(),2)
   if (arraysize(m2(),1)&lt;&gt;y or arraysize(m2(),2)&lt;&gt;x) then
      error "行列同士は要素として追加できません"
   endif

   if (arraysize(r(),1)&lt;&gt;y or arraysize(r(),2)&lt;&gt;x) then
      error "結果は第三引数へ格納できません"
   endif

   local xx:local yy
   for xx=1 to x
      for yy=1 to y
         r(yy,xx)=m1(yy,xx)+m2(yy,xx)
      next yy
   next xx

 end sub

          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm1992"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_arraydim" title="arraydim()"><code class="function">arraydim</code></a> と <a class="link" href="#ref_dim" title="dim"><code class="function">dim</code></a>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_asc"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>asc() — 文字列の取得後に  <acronym class="acronym">ASCII</acronym> 文字セットの範囲内で一文字目の位置を返します。</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">a=asc(char$)</pre>
            </div>
            <div class="refsect1">
              <a id="idm2008"></a>
              <h2>概要</h2>
              <p>The <code class="function">asc</code>-function accepts a string, takes its first character and looks it up within the <acronym class="acronym">ascii</acronym>-charset; this position will be returned. <code class="function">asc</code> 関数は <code class="function"><a class="link" href="#ref_chr" title="chr$()">chr$</a></code> の逆関数です。There are valid uses for <code class="function">asc</code>, however, comparing strings (i.e. to bring them into alphabetical sequence) is <span class="emphasis"><em>not</em></span> among them; in such many cases you might consider to compare strings directly with <code class="literal">&lt;</code>, <code class="literal">=</code> and <code class="literal">&gt;</code> (rather than converting a string to a number and comparing this number).</p>
            </div>
            <div class="refsect1">
              <a id="idm2021"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input " 'a' から 'y' までの間にある文字を入力してください: " a$
if (a$&lt;"a" or a$&gt;"y") print a$," は適切な範囲ではありません":end
print "文字 ",a$," の後は ",chr$(asc(a$)+1)
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2025"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_chr" title="chr$()">
                  <code class="function">chr$</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_asin"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>asin() — 数値引数の逆正弦を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">angle=asin(x)</pre>
            </div>
            <div class="refsect1">
              <a id="idm2038"></a>
              <h2>概要</h2>
              <p><code class="function">acos</code> は逆正弦関数です。すなわち <a class="link" href="#ref_sin" title="sin()"><code class="function">sin</code></a> の逆関数です。Or, more elaborate: It Returns the angle (in radians, not degrees !), which, fed to the sine-function will produce the argument passed to the <code class="function">asin</code>-function.</p>
            </div>
            <div class="refsect1">
              <a id="idm2045"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print asin(0.5),asin(sin(pi))
          </pre>
                <p>この用例では π/3 と近接 0 の結果として <code class="computeroutput">0.523599 -2.06823e-13</code> を表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2051"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_sin" title="sin()"><code class="function">sin</code></a>, <a class="link" href="#ref_acos" title="acos()"><code class="function">acos</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_at"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>at() — <code class="function">print</code> コマンドの指定位置への出力に使います</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
…
print at(a,b)
print @(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2067"></a>
              <h2>概要</h2>
              <p>The <code class="function">at</code>-clause takes two numeric arguments (e.g. <code class="literal">at(2,3)</code>) and can be inserted after the <code class="literal">print</code>-keyword. <code class="literal">at()</code> can be used only if <a class="link" href="#ref_clear_screen" title="clear screen"><code class="function">clear screen</code></a> has been executed at least once within the program (otherwise you will get an error).</p>
              <p>The two numeric arguments of the <code class="function">at</code>-function may range from 0 to the width of your terminal minus 1, and from 0 to the height of your terminal minus 1; if any argument exceeds these values, it will be truncated accordingly. However, <span class="application">yabasic</span> has no influence on the size of your terminal (80x25 is a common, but not mandatory), the size of your terminal and the maximum values acceptable within the <code class="function">at</code>-clause may vary. To get the size of your terminal you may use the <a class="link" href="#ref_peek" title="peek"><code class="function">peek</code></a>-function: <code class="literal">peek("screenwidth")</code> returns the width of your terminal and <code class="literal">peek("screenheight")</code> its height.</p>
            </div>
            <div class="refsect1">
              <a id="idm2084"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
maxx=peek("screenwidth")-1:maxy=peek("screenheight")-1
for x=0 to maxx
  print at(x,maxy*(0.5+sin(2*pi*x/maxx)/2)) "*"
next x
          </pre>
                <p>This example plots a full period of the sine-function across the screen.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2089"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_print" title="print"><code class="function">print</code></a>, <a class="link" href="#ref_clear_screen" title="clear screen"><code class="function">clear screen</code></a>, <a class="link" href="#ref_print_color" title="print color"><code class="function">color</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_atan"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>atan() — 数値引数の逆正接を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
angle=atan(a,b)
angle=atan(a)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2106"></a>
              <h2>概要</h2>
              <p><code class="function">atan</code> は逆正接関数です。すなわち <a class="link" href="#ref_tan" title="tan()"><code class="function">tan</code></a> の逆関数です。Or, more elaborate: It Returns the angle (in radians, not degrees !), which, fed to the <code class="function">tan</code>-function will produce the argument passed to the <code class="function">atan</code>-function.</p>
              <p>The <code class="function">atan</code>-function has a second form, which accepts two arguments: <code class="function">atan(a,b)</code> which is (mostly) equivalent to <code class="function">atan(a/b)</code> <span class="emphasis"><em>except</em></span> for the fact, that the two-argument-form returns an angle in the range -π to π, whereas the one-argument-form returns an angle in the range -π/2 to π/2. To understand this you have to be good at math.</p>
            </div>
            <div class="refsect1">
              <a id="idm2119"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print atan(1),atan(tan(pi)),atan(-0,-1),atan(-0,1)
          </pre>
                <p>This will print <code class="computeroutput">0.463648 2.06823e-13 -3.14159 3.14159</code> which is π/4, almost 0, -π and π respectively.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2125"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_tan" title="tan()">tan</a></code>, <code class="function"><a class="link" href="#ref_sin" title="sin()">sin</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_b"></a>B</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_backcolor">backcolor</a> </span> <span class="refpurpose"> — グラフィックウィンドウの背景色を変更</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_beep">beep</a> </span> <span class="refpurpose"> — コンピュータに搭載されているブザーを鳴らします。これは <code class="function">bell</code> と同義語です。</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bell">bell</a> </span> <span class="refpurpose"> — コンピュータに搭載されているブザーを鳴らします (<code class="function">beep</code> と同じ)</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bin">bin$()</a> </span> <span class="refpurpose"> — 数値を二進数の数列へ変換</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bind">bind()</a> </span> <span class="refpurpose"> — <span class="application">yabasic</span> プログラムと <span class="application">yabasic</span> インタプリタを連結して<span class="emphasis"><em>実行可能</em></span>プログラムを作成</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bitnot">bitnot()</a> </span> <span class="refpurpose"> —  ビット単位演算 <code class="function">not</code></span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_box">box</a> </span> <span class="refpurpose"> — 長方形の描画。これは <code class="function">rectangle</code></span> と同義語です
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_break">break</a> </span> <span class="refpurpose"> — 一階層以上のループ、あるいは switch ステートメントから抜け出す</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_backcolor"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>backcolour — グラフィックウィンドウの背景色を変更</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
backcolour red,green,blue
backcolour "red,green,blue"
	  </pre>
            </div>
            <div class="refsect1">
              <a id="idm2142"></a>
              <h2>概要</h2>
              <p>Change the color, that becomes visible, if any portion of the window is erased, e.g. after <code class="function"><a class="link" href="#ref_clear_window" title="clear window">clear window</a></code> or <code class="function"><a class="link" href="#ref_clear" title="clear">clear line</a></code>. Note however, that parts of the window, that show the old background color will not change.</p>
              <p>As with the <code class="function"><a class="link" href="#ref_color" title="color">color</a></code>-command, the new background color can either be specified as a triple of three numbers or as a single string, that contains those three numbers separated by commas.</p>
              <p>備考として、 <code class="function">backcolor</code> コマンドは <code class="function">backcolour</code> やその逆としても記述可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm2155"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 255,255
for x=10 to 235 step 10:for y=10 to 235 step 10
  	backcolour x,y,0
	clear window
	sleep 1
next y:next x
            </pre>
                <p>This changes the background colour of the graphic window repeatedly and clears it every time, so that it is filled with the new background colour.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2160"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_color" title="color">color</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_beep"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>beep — コンピュータに搭載されているブザーを鳴らします。これは <code class="function">bell</code> と同義語です。</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">beep</pre>
            </div>
            <div class="refsect1">
              <a id="idm2184"></a>
              <h2>概要</h2>
              <p><code class="function">bell</code> コマンドはコンピュータに搭載されているブザーを一度鳴らします。このコマンドはサウンドインタフェース<span class="emphasis"><em>ではないため</em></span>、音の長さや高さを指定できません (技術上は、エスケープシーケンスの <code class="literal">\a</code> を出力するだけです)。<code class="function">bell</code> は <code class="function"><a class="link" href="#ref_beep" title="beep">beep</a></code> とまったく同じです。</p>
            </div>
            <div class="refsect1">
              <a id="idm2193"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
beep:print "これは問題だ ..."
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2197"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_beep" title="beep">beep</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bell"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>bell — コンピュータに搭載されているブザーを鳴らします (<code class="function">beep</code> と同じ)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">bell</pre>
            </div>
            <div class="refsect1">
              <a id="idm2211"></a>
              <h2>概要</h2>
              <p><code class="function">beep</code> コマンドはコンピュータに搭載されているブザーを一度鳴らします。<code class="function">beep</code> は <code class="function"><a class="link" href="#ref_bell" title="bell">bell</a></code> と同義語です。</p>
            </div>
            <div class="refsect1">
              <a id="idm2218"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "これは問題だ ...":beep
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2222"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_bell" title="bell">bell</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bin"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>bin$() — 数値を二進数の数列へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">hexadecimal$=bin$(十進数)</pre>
            </div>
            <div class="refsect1">
              <a id="idm2235"></a>
              <h2>概要</h2>
              <p><code class="function">bin$</code> 関数は数値引数の取得後に二進数形式 (すなわち 0 と 1) の文字列へ変換します。<code class="function">bin$</code> に負数を渡した場合、その結果の文字列には先頭に '-' が付加されます。</p>
              <p>ほかの基数 (すなわち、二進数から十進数へ) で変換したい場合は <code class="function"><a class="link" href="#ref_dec" title="dec()">dec</a></code> 関数をお使いください。</p>
            </div>
            <div class="refsect1">
              <a id="idm2243"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 100
  print bin$(a)
next a
          </pre>
                <p>この用例では 1 ～ 100 までの数値を二進数形式で表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2248"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_hex" title="hex$()">hex$</a></code>, <code class="function"><a class="link" href="#ref_dec" title="dec()">dec</a></code>, <a class="link" href="#top_numbers_with_base_2_or_16" title="二進数・十六進数の数値">二進数・十六進数の数値</a>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bind"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>bind() — <span class="application">yabasic</span> プログラムと <span class="application">yabasic</span> インタプリタを連結して<span class="emphasis"><em>実行可能</em></span>プログラムを作成</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">bind("foo.exe")</pre>
            </div>
            <div class="refsect1">
              <a id="idm2267"></a>
              <h2>概要</h2>
              <p>The <code class="function">bind</code>-command combines your own <span class="application">yabasic</span>-program (plus all the libraries it does <code class="function">import</code>) and the interpreter by copying them into a new file, whose name is passed as an argument. この形式のプログラムは <span class="application">yabasic</span> がインストールされていなくても、すべてのコンピュータで実行できます。</p>
              <p>詳細は「<a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには">yabasic プログラムから<span class="emphasis"><em>実行可能</em></span>プログラムを作成するには</a>」を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm2277"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
if (!peek("isbound")) then
  bind "foo"
  print "実行可能ファイル 'foo' の作成が正常に完了しました！"
  exit
endif

print "Hello World !"
          </pre>
                <p>この用例は本体から実行可能プログラム <code class="filename">foo</code> を作成します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2283"></a>
              <h2>関連</h2>
              <p>このセクションでは<a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには">実行可能<span class="emphasis"><em>プログラム</em></span>の作成方法</a>、 <a class="link" href="#ref_peek" title="peek"><code class="function">peek</code></a> 関数とコマンドライン<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプション</a>について解説します。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bitnot"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>bitnot() — ビット単位演算 <code class="function">not</code></p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=bitnot(a)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2300"></a>
              <h2>概要</h2>
              <p>この関数は単一引数の<span class="emphasis"><em>ビット単位 not</em></span> を求めます。The argument is treated as binary number (i.e. a sequence of digits 0 and 1); a bit of the resulting value will be 1, if the argument has a 0 at this position in its binary representation; if the bit in the argument is 1, the bit in the result will be 0.</p>
              <p>Note, that its argument is silently converted to a positive integer value and that negative numbers have their own binary representation and may lead to unexpected results when passed to <code class="function">bitnot</code>.</p>
              <p>A note on naming: This one-argument-function is named <code class="function">bitnot</code> to distinguish it from the one-argument-function <a class="link" href="#ref_logical_not" title="not"><code class="function">not</code></a>, which operates on <span class="emphasis"><em>logical</em></span> expressions. For the similar functions <code class="function">and</code> and <code class="function">or</code> this distinction between <span class="emphasis"><em>logical</em></span> and <span class="emphasis"><em>bitwise</em></span> function is done implicitly through the number of arguments (1 and 2, respectively).</p>
            </div>
            <div class="refsect1">
              <a id="idm2315"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print bin$(not(17))
          </pre>
                <p>この結果は <code class="computeroutput">11111111111111111111111111101110</code> です。This result is clear, if you note, that the binary representation of 17 is 10001, which inverted will give the long binary number given before.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2321"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a> および <a class="link" href="#ref_bitwise_and" title="and()"><code class="function">and</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_box"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>box — 長方形の描画。これは <code class="function">rectangle</code> と同義語です</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
<code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code> コマンドを参照してください。
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2341"></a>
              <h2>概要</h2>
              <p><code class="function">box</code> コマンドは <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code> コマンドと全く同じです (<span class="emphasis"><em>同義語</em></span>)。そのため、詳しい情報は <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code> コマンドのエントリを参照してください。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_break"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>break — 一階層以上のループ、あるいは switch ステートメントから抜け出す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">break</pre>
              <pre class="synopsis">break 2</pre>
            </div>
            <div class="refsect1">
              <a id="idm2359"></a>
              <h2>概要</h2>
              <p><code class="function">break</code> transfers control immediately outside the enclosing loop or switch statement. This is the preferred way of leaving a such a statement (rather than <code class="function">goto</code>, which is still possible in most cases). An optional digit allows one to break out of multiple levels, e.g. to leave a loop from within a switch statement. 注意点として、この位置ではリテラル (例えば 2) のみ使用可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm2364"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10
  break
  print "Hi"
next a

while 1
  break
  print "Hi"
wend

repeat
  break
  print "Hi"
until 0

switch 1
case 1:break
case 2:case 3:print "Hi"
end switch
          </pre>
                <p>This example prints nothing at all, because each of the loops (and the <code class="function">switch</code>-statement) does an immediate <code class="function">break</code> (before it could print any "Hi").</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2371"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_for" title="for">for</a></code>, <code class="function"><a class="link" href="#ref_while" title="while">while</a></code>, <code class="function"><a class="link" href="#ref_repeat" title="repeat">repeat</a></code> および <code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code>.</p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_c"></a>C</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_case">case</a> </span> <span class="refpurpose"> — switch ステートメントの各種分岐点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_ceil">ceil()</a> </span> <span class="refpurpose"> — (浮動小数点) 引数の上限を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_chomp">chomp$()</a> </span> <span class="refpurpose"> — 文字列引数から末尾の改行を除去します。文字列の末尾が改行でなければ、無変更の文字列を返します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_chr">chr$()</a> </span> <span class="refpurpose"> — 数値の取得後に <acronym class="acronym">ASCII</acronym> 文字セットの指定位置にある文字を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_circle">circle</a> </span> <span class="refpurpose"> — グラフィックスウィンドウに円を描画</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_clear">clear</a> </span> <span class="refpurpose"> — <code class="function">円</code>、<code class="function">長方形</code>、または<code class="function">三角形</code>の消去</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_clear_screen">clear screen</a> </span> <span class="refpurpose"> — テキストウィンドウを消去</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_clear_window">clear window</a> </span> <span class="refpurpose"> — グラフィックウインドウの消去します。消去中に表示処理が行われている場合は新規ページが描画先となります</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_close">close</a> </span> <span class="refpurpose"> —  以前開いたファイルを閉じる</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_close_curve">close curve</a> </span> <span class="refpurpose"> — <code class="function">line</code>-コマンドで描画される曲線の終点です</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_close_printer">close printer</a> </span> <span class="refpurpose"> — グラフィックスの出力を停止</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_close_window">close window</a> </span> <span class="refpurpose"> — グラフィックスウィンドウを閉じます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_color">color</a> </span> <span class="refpurpose"> — 次回の描画コマンドから使う色を変更</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_compile">compile</a> </span> <span class="refpurpose"> — <acronym class="acronym">yabasic</acronym> コードの文字列を<span class="emphasis"><em>即時</em></span>コンパイルします。</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_continue">continue</a> </span> <span class="refpurpose"> — <code class="function">for</code>-, <code class="function">do</code>-, <code class="function">repeat</code>- または <code class="function">while</code> ループにおいて以降の反復処理を開始</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_cos">cos()</a> </span> <span class="refpurpose"> — 単一引数の余弦を求めます</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_case"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>case — <code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code> ステートメントの各種分岐点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
switch a
  case 1
  case 2
  …
end switch

…

switch a$
  case "a"
  case "b"
  …
end switch
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2394"></a>
              <h2>概要</h2>
              <p><code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code> ステートメントを参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm2399"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input a
switch(a)
  case 1:print "one":break
  case 2:print "two":break
  default:print "以上"
end switch
          </pre>
                <p>Depending on your input (a number is expected) this code will print <code class="computeroutput">one</code> or <code class="computeroutput">two</code> or otherwise <code class="computeroutput">more</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2407"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_switch" title="switch">switch</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_ceil"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>ceil() — (浮動小数点) 引数の上限を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print ceil(x)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2420"></a>
              <h2>概要</h2>
              <p>The <code class="function">ceil</code>-function returns the smallest integer number, that is larger or equal than its argument.</p>
            </div>
            <div class="refsect1">
              <a id="idm2424"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print ceil(1.5),floor(1.5)
print ceil(2),floor(2)
          </pre>
                <p>Comparing functions <code class="function">ceil</code> and <code class="function">floor</code>, gives a first line of output (<code class="computeroutput">1 2</code>), showing that <code class="function">ceil</code> is less or equal than <code class="function">floor</code>; but as the second line of output (<code class="computeroutput">2 2</code>) shows, the two functions give equal results for integer arguments.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2435"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_floor" title="floor()">floor</a></code>, <code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code>, <code class="function"><a class="link" href="#ref_round" title="round()">round</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_chomp"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>chomp$() — 文字列引数から末尾の改行を除去します。文字列の末尾が改行でなければ、無変更の文字列を返します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print chomp$("Hallo !\n")</pre>
            </div>
            <div class="refsect1">
              <a id="idm2454"></a>
              <h2>概要</h2>
              <p>The <code class="function">chomp$</code>-function checks, if its string-argument ends in a newline and removes it eventually; for this purpose <code class="function">chomp$</code> can replace an <code class="function">if</code>-statement. This can be especially useful, when you deal with input from external sources like <code class="function"><a class="link" href="#ref_system2" title="system$()">system$</a></code>.</p>
              <p>You may apply <code class="function">chomp$</code> freely, as it only acts, if there is a newline to remove; note however, that user-input, that comes from the normal <code class="function"><a class="link" href="#ref_input" title="input">input</a></code>-statement, does not need such a treatment, because it already comes without a newline.</p>
            </div>
            <div class="refsect1">
              <a id="idm2466"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <p>以下の <span class="application">yabasic</span> プログラムは個人的に現在のユーザを歓迎する目的でユーザ名を得るために Unix コマンド <span class="command"><strong>whoami</strong></span> を使います。This is done twice: First with the <code class="function">chomp$</code>-function and then again with with an equivalent <code class="function">if</code>-statement:</p>
                <pre class="programlisting">
print "Hello " + chomp$(system$("whoami")) + " !"

user$ = system$("whoami")
if (right$(user$,1)="\n") user$=left$(user$,len(user$)-1)
print "Hello again " + user$ + " !"
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2475"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_system2" title="system$()">system$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_chr"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>chr$() — 数値の取得後に <acronym class="acronym">ASCII</acronym> 文字セットの指定位置にある文字を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">character$=chr$(ascii)</pre>
            </div>
            <div class="refsect1">
              <a id="idm2489"></a>
              <h2>概要</h2>
              <p><code class="function">chr$</code> 関数は  <code class="function"><a class="link" href="#ref_asc" title="asc()">asc</a></code> の逆関数です。It looks up and returns the character at the given position within the <acronym class="acronym">ascii</acronym>-charset. It's typical use is to construct <span class="emphasis"><em>nonprintable</em></span> characters which do not occur on your keyboard.</p>
              <p>Nevertheless you won't use <code class="function">chr$</code> as often as you might think, because the most important nonprintable characters can be constructed using <span class="emphasis"><em><a class="link" href="#ref_escape_sequences" title="エスケープシーケンス">escape-sequences</a></em></span> using the \-character (e.g. you might use \n instead of <code class="function">chr$(10)</code> wherever you want to use the newline-character).</p>
            </div>
            <div class="refsect1">
              <a id="idm2502"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "a",chr$(10),"b"
          </pre>
                <p>This will print the letters 'a' and 'b' in different lines because of the intervening newline-character, which is returned by <code class="function">chr$(10)</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2508"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_asc" title="asc()">asc</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_circle"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>circle — グラフィックスウィンドウに円を描画します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
circle x,y,r
clear circle x,y,r
fill circle x,y,r
clear fill circle x,y,r
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2521"></a>
              <h2>概要</h2>
              <p>The <code class="function">circle</code>-command accepts three parameters: The x- and y-coordinates of the center and the radius of the circle.</p>
              <p>Some more observations related with the <code class="function">circle</code>-command:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>事前にグラフィックウインドウを開いておいてください。</p>
                  </li>
                  <li class="listitem">
                    <p>The circle may well extend over the boundaries of the window.</p>
                  </li>
                  <li class="listitem">
                    <p>If you have issued <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code> before, the circle
will finally appear in the printed hard copy of the window.</p>
                  </li>
                  <li class="listitem">
                    <p><code class="function">fill circle</code> は塗りつぶした円 (黒色の顔料) を描画します。</p>
                  </li>
                  <li class="listitem">
                    <p><code class="function">clear circle</code> は円の輪郭を消去 (または片付け) します。</p>
                  </li>
                  <li class="listitem">
                    <p><code class="function">clear fill circle</code> or <code class="function">fill clear circle</code> will erase the full area of the circle.</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2546"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200

for n=1 to 2000
  x=ran(200)
  y=ran(200)
  fill circle x,y,10
  clear fill circle x,y,8
next n
          </pre>
                <p>This code will open a window and draw 2000 overlapping circles within. Each circle is drawn in two steps: First it is filled with black ink (<code class="function">fill circle x,y,10</code>), then most of this circle is erased again (<code class="function">clear fill circle x,y,8</code>). As a result each circle is drawn with an opaque white interior and a 2-pixel outline (2-pixel, because the radii differ by two).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2553"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_clear"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>clear — <code class="function">円</code>、<code class="function">長方形</code>、または<code class="function">三角形</code>の消去</code></p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear rectangle 10,10,90,90
clear fill circle 50,50,20
clear triangle 10,10,20,20,50,30
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2577"></a>
              <h2>概要</h2>
              <p>May be used within the <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code> or <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code> command and causes these shapes to be erased (i.e. be drawn in the colour of the background).</p>
              <p><code class="function">fill</code> can be used in conjunction with and wherever the <code class="function"><a class="link" href="#ref_fill" title="fill">fill</a></code>-clause may appear. Used alone, <code class="function">clear</code> will erase the outline (not the interior) of the shape (circle, rectangle or triangle); together with <code class="function">fill</code> the whole shape (including its interior) is erased.</p>
            </div>
            <div class="refsect1">
              <a id="idm2592"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
fill circle 100,100,50
clear fill rectangle 10,10,90,90
          </pre>
                <p>ウィンドウを開いた後にパックマン風の図形を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2597"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_clear" title="clear">clear</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_clear_screen"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>clear screen — テキストウィンドウを消去</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2616"></a>
              <h2>概要</h2>
              <p><code class="function">clear screen</code> はテキストウィンドウ ( <code class="function">print</code> の出力が表示されるウィンドウ) を消去します。</p>
              <p>It must be issued at least once, before some advanced screen-commands (e.g. <code class="function">print at</code> or <code class="function">inkey$</code>) may be called; this requirement is due to some limitations of the <code class="systemitem">curses</code>-library, which is used by <span class="application">yabasic</span> under <acronym class="acronym">Unix</acronym> for some commands.</p>
            </div>
            <div class="refsect1">
              <a id="idm2627"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
print "なにかキーを押してください : ";
a$=inkey$
print a$
          </pre>
                <p>The <code class="function">clear screen</code> command is essential here; if it would be omitted, <span class="application">yabasic</span> would issue an error ("<code class="computeroutput">need to call 'clear screen' first</code>") while trying to execute the <code class="function">inkey$</code>-function.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2636"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_inkey" title="inkey$">inkey$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_clear_window"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>clear window — グラフィックウインドウの消去します。消去中に表示処理が行われている場合は新規ページが描画先となります</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">clear window</pre>
            </div>
            <div class="refsect1">
              <a id="idm2649"></a>
              <h2>概要</h2>
              <p><code class="function">clear window</code> グラフィックウィンドウを消去If you have started printing the graphic via <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code>, the <code class="function">clear window</code>-command starts a new page as well.</p>
            </div>
            <div class="refsect1">
              <a id="idm2656"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
open printer "t.ps"

for a=1 to 10
if (a&gt;1) clear window
text 100,100,"Hallo "+str$(a)
next a

close printer
close window
          </pre>
                <p>この用例は 10 ページ目に "Hello 1", "Hello 2", … などのテキストを表示します。<code class="function">clear screen</code> コマンドはグラフィックスウインドウの消去語に新しいページを開きます。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2662"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_close"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>close — 以前開いたファイルを閉じます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
close filenum
close # filenum
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2677"></a>
              <h2>概要</h2>
              <p><code class="function">close</code> コマンドは開いているファイルを閉じます。このコマンドはファイルから読み取り、または書き込み完了直後に必ず呼び出してください。</p>
              <p></p>
            </div>
            <div class="refsect1">
              <a id="idm2682"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open "my.data" for reading as 1
input #1 a
print a
close 1
          </pre>
                <p>このプログラムはファイル <code class="systemitem">"my.data"</code> を開いた後に数値を読み取ります。その後、この数値を表示してからファイルを再び閉じます。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2688"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_open" title="open">open</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_close_curve"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>close curve — <code class="function">line</code> コマンドで描画される曲線の終点です</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
new curve
line to x1,y1
…
close curve
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2702"></a>
              <h2>概要</h2>
              <p>The <code class="function">close curve</code>-command closes a sequence of lines, that has been drawn by repeated <code class="function">line to</code>-commands.</p>
            </div>
            <div class="refsect1">
              <a id="idm2707"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
new curve
line to 100,50
line to 150,150
line to 50,150
close curve
          </pre>
                <p>This example draws a triangle: The three <code class="function">line to</code>-commands draw two lines; the final line is however not drawn explicitly, but drawn by the <code class="function">close curve</code>-command.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2714"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_new_curve" title="new curve">new curve</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_close_printer"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>close printer — グラフィックスの出力を停止</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">close printer</pre>
            </div>
            <div class="refsect1">
              <a id="idm2729"></a>
              <h2>概要</h2>
              <p><code class="function">close printer</code> コマンドはグラフィックスの出力を停止します。Between <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code> and <code class="function">close printer</code> everything you draw (e.g. circles, lines …) is sent to your printer. <code class="function">close printer</code> puts an end to printing and will make your printer eject the page.</p>
            </div>
            <div class="refsect1">
              <a id="idm2737"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
open printer
circle 100,100,50
close printer
close window
          </pre>
                <p>As soon as <code class="function">close printer</code> is executed, your printer will eject a page with a circle on it.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2743"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_open_printer" title="open printer">open printer</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_close_window"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>close window — グラフィックスウィンドウを閉じます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">close window</pre>
            </div>
            <div class="refsect1">
              <a id="idm2756"></a>
              <h2>概要</h2>
              <p><code class="function">close window</code> コマンドはグラフィックス・ウィンドウを閉じます。すなわち、画面から表示されなくなります。It includes an implicit <code class="function">close printer</code>, if a printer has been opened previously.</p>
            </div>
            <div class="refsect1">
              <a id="idm2761"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
circle 100,100,50
close window
          </pre>
                <p>This example will open a window, draw a circle and close the window again; all this without any pause or delay, so the window will be closed before you may regard the circle..</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2766"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_open_printer" title="open printer">open window</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_color"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>color — 次回の描画コマンドから使う色を変更</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
colour red,green,blue
colour "red,green,blue"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2779"></a>
              <h2>概要</h2>
              <p>Change the color, in which lines, dots, circles, rectangles or triangles are drawn. The <code class="function">color</code>-command accepts three numbers in the range 0 … 255 (as in the first line of the synopsis above). Those numbers specify the intensity for the primary colors red, green and blue respectively. 例えば <code class="function">255,0,0</code> は赤色であり <code class="function">255,255,0</code> は黄色です。</p>
              <p>Alternatively you may specify the color with a single string (as in the second line of the synopsis above); this string should contain three numbers, separated by commas. 例えば <code class="function">"255,0,255"</code> は菫色です。Using this variant of the <code class="function">colour</code>-command, you may use symbolic names for colours:</p>
              <pre class="programlisting">
open window 100,100
yellow$="255,255,0"
color yellow$
text 50,50,"Hallo"
	  </pre>
              <p>は、より明瞭になるため読みやすくなります。</p>
            </div>
            <div class="refsect1">
              <a id="idm2790"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 255,255
for x=10 to 235 step 10:for y=10 to 235 step 10
  	colour x,y,0
  	fill rectangle x,y,x+10,y+10
next y:next x
            </pre>
                <p>これは色付きの長方形を用いてウィンドウを塗りつぶします。However, none of the used colours contains any shade of blue, because the <code class="function">color</code>-command has always 0 as a third argument.</p>
              </div>
              <p>Note, that the command <code class="function">color</code> can be written as <code class="function">colour</code> too and vice versa.</p>
            </div>
            <div class="refsect1">
              <a id="idm2799"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_backcolor" title="backcolor">backcolor</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_compile"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>compile — <acronym class="acronym">yabasic</acronym> コードの文字列を<span class="emphasis"><em>即時</em></span>コンパイルします。</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">compile(code$)</pre>
            </div>
            <div class="refsect1">
              <a id="idm2824"></a>
              <h2>概要</h2>
              <p>これは高度なコマンドです (<code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code> と密接な関係があります)。これにより yabasic コードの文字列をコンパイル可能にします。コンパイル後のコードはプログラムの通常部品となります。</p>
              <p>注意点として、コンパイル後のコードを<span class="emphasis"><em>除去</em></span>する方法はありません。</p>
            </div>
            <div class="refsect1">
              <a id="idm2831"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
compile("sub mysub(a):print a:end sub")
mysub(2)
          </pre>
                <p>この用例は <code class="function">mysub</code> の名前で関数を作成後、単一引数を表示するだけのものです。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2837"></a>
              <h2>その他の用例:</h2>
              <p>以下の用例は <code class="function">compile</code> と <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code> 関数の併用です:</p>
              <div class="informalexample">
                <pre class="programlisting">
count = 1	      
subname$ = "foo" + str$(count)
compile("sub "+ subname$ + "(a):print a:end sub")
execute(subname$,2)
          </pre>
                <p>This example creates and executes a function, whose name (<code class="function">foo1</code>) is stored within the variable <code class="varname">subname$</code>; the newly created function simply prints its single argument. This example could be executed multiple times within a single <span class="application">yabasic</span>-program, simply by incrementing the variable <code class="varname">count</code>; by doing that, multiple subroutines (<code class="function">foo1</code>, <code class="function">foo2</code>, …) could be created and executed in succession.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2852"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>, <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code>, <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code>, <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>, <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_continue"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>continue — <code class="function">for</code>-, <code class="function">do</code>-, <code class="function">repeat</code>- または <code class="function">while</code> ループにおいて以降の反復処理を開始</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">continue</pre>
            </div>
            <div class="refsect1">
              <a id="idm2876"></a>
              <h2>概要</h2>
              <p>You may use <code class="function">continue</code> within any loop to start the next iteration immediately. Depending on the type of the loop, the loop-condition will or will not be checked. Especially: <code class="function">for</code>- and <code class="function">while</code>-loops will evaluate their respective conditions, <code class="function">do</code>- and <code class="function">repeat</code>-loops will not.</p>
              <p class="remark">
                <em>
                  <span class="remark">Remark: Another way to change the flow of execution within a loop, is the <code class="function">break</code>-command.</span>
                </em>
              </p>
            </div>
            <div class="refsect1">
              <a id="idm2886"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 100
  if mod(a,2)=0 continue
  print a
next a
          </pre>
                <p>この用例は 1 ～ 101 までの奇数を表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2891"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_for" title="for">for</a></code>, <code class="function"><a class="link" href="#ref_do" title="do">do</a></code>, <code class="function"><a class="link" href="#ref_repeat" title="repeat">repeat</a></code>, <code class="function"><a class="link" href="#ref_while" title="while">while</a></code>, <code class="function"><a class="link" href="#ref_break" title="break">break</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_cos"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>cos() — 単一引数の余弦を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=cos(angle)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2912"></a>
              <h2>概要</h2>
              <p>The <code class="function">cos</code>-function expects an angle (in radians) and returns its cosine.</p>
            </div>
            <div class="refsect1">
              <a id="idm2916"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print cos(pi)
          </pre>
                <p>この用例の結果は <code class="computeroutput">-1</code> です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2922"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_acos" title="acos()">acos</a></code>, <code class="function"><a class="link" href="#ref_sin" title="sin()">sin</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_d"></a>D</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_data">data</a> </span> <span class="refpurpose"> — data アイテムのリストを導入します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_date">date$</a> </span> <span class="refpurpose"> — 現在時刻の各種構成要素を文字列で返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_dec">dec()</a> </span> <span class="refpurpose"> — 二進数や十六進数の数値を十進数形式へ変換</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_default">default</a> </span> <span class="refpurpose"> — switch ステートメントの<span class="emphasis"><em>デフォルト</em></span>分岐点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_dim">dim</a> </span> <span class="refpurpose"> — 初回使用前に配列を作成</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_do">do</a> </span> <span class="refpurpose"> — <code class="function">do ループ</code> (条件無指定) の起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_doc">doc</a> </span> <span class="refpurpose"> — プログラム本体で取得できる特別コメント</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_docu">docu$</a> </span> <span class="refpurpose"> — プログラムに存在する全 docu ステートメントの内容を収録した特別な配列</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_dot">dot</a> </span> <span class="refpurpose"> — グラフィックウィンドウにドットを描画</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_data"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>data — data アイテムのリストを導入します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
data 9,"world"
…
read b,a$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm2939"></a>
              <h2>概要</h2>
              <p>The <code class="function">data</code>-keyword introduces a list of comma-separated list of strings or numbers, which may be retrieved with the <code class="function"><a class="link" href="#ref_read" title="read">read</a></code>-command.</p>
              <p><code class="function">data</code> コマンド本体では処理を行いません。データを格納するだけです。A single <code class="function">data</code>-command may precede an arbitrarily long list of values, in which strings or numbers may be mixed at will.</p>
              <p><span class="application">yabasic</span> internally uses a <code class="systemitem">data-pointer</code> to keep track of the current location within the <code class="function">data</code>-list; this pointer may be reset with the <code class="function"><a class="link" href="#ref_restore" title="restore">restore</a></code>-command.</p>
            </div>
            <div class="refsect1">
              <a id="idm2954"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  restore
  for a=1 to 4
    read num$,num
    print num$,"=",num
  next a
loop
data "eleven",11,"twelve",12,"thirteen",13,"fourteen",14
          </pre>
                <p>This example just prints a series of lines <code class="computeroutput">eleven=11</code> up to <code class="computeroutput">fourteen=14</code> and so on without end.</p>
                <p>The <code class="function">restore</code>-command ensures that the list of <code class="function">data</code>-items is read from the start with every iteration.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm2964"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_read" title="read">read</a></code>, <code class="function"><a class="link" href="#ref_restore" title="restore">restore</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_date"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>date$ — 現在時刻の各種構成要素を文字列で返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">a$=date$</pre>
            </div>
            <div class="refsect1">
              <a id="idm2979"></a>
              <h2>概要</h2>
              <p>The <code class="function">date$</code>-function (which <span class="emphasis"><em>must</em></span> be called without parentheses; i.e. <code class="function">date$()</code> would be an error) returns a string containing various components of a date; an example would be <code class="computeroutput">4-05-27-2004-Thu-May</code>. この文字列の構成はフィールドごとにハイフン ("<code class="computeroutput">-</code>") で区切られたものです:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>The day within the week as a number in the range 0 (=Sunday) to 6 (=Saturday) (in the example above: <code class="computeroutput">4</code>, i.e. Thursday).</p>
                  </li>
                  <li class="listitem">
                    <p>The month as a number in the range 1 (=January) to 12 (=December) (in the example: <code class="computeroutput">5</code> which stands for May).</p>
                  </li>
                  <li class="listitem">
                    <p>The day within the month as a number in the range 1 to 31 (in the example: <code class="computeroutput">27</code>).</p>
                  </li>
                  <li class="listitem">
                    <p>The full, 4-digit  year (in the example: <code class="computeroutput">2004</code>, which reminds me that I should adjust the clock within my computer …).</p>
                  </li>
                  <li class="listitem">
                    <p>The abbreviated name of the day within the week (<code class="computeroutput">Mon</code> to <code class="computeroutput">Sun</code>).</p>
                  </li>
                  <li class="listitem">
                    <p>月の略式名称 (<code class="computeroutput">Jan</code> から <code class="computeroutput">Dec</code> まで)。</p>
                  </li>
                </ul>
              </div>
              <p>Therefore the whole example above (<code class="computeroutput">4-05-27-2004-Thu-May</code>) would read: day 4 in the week (counting from 0), May 27 in the year 2004, which is a Thursday in May.</p>
              <p>Note, that all fields within the string returned by <code class="function">date$</code> have a fixed with (numbers are padded with zeroes); therefore it is easy to extract the various fields of a date format with <code class="function">mid$</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm3013"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
rem   いずれも同じ方法で表示します ...

print mid$(date$,3,10)

dim fields$(6)
a=split(date$,fields$(),"-")
print fields$(2),"-",fields$(3),"-",fields$(4)
          </pre>
                <p>This example shows two different techniques to extract components from the value returned by <code class="function">date$</code>. The <code class="function">mid$</code>-function is the preferred way, but you could just as well <code class="function">split</code> the return-value of <code class="function">date$</code> at every "-" and store the result within an array of strings.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3022"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_time" title="time$">time$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_dec"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>dec() — 二進数や十六進数の数値を十進数形式へ変換します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a=dec(number$)
a=dec(number$,base)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3035"></a>
              <h2>概要</h2>
              <p>The <code class="function">dec</code>-function takes the string-representation of a base-2 or base-16 (which is the default) number and converts it into a decimal number. オプションの第二引数 (<code class="varname">base</code>) は十六進数以外の基数指定で使います。しかしながら、今のところ二進数か十六進数のみ対応しています。Please note, that for base 16 and 2 you may write literals in the usual way, by preceding them with <code class="literal">0x</code> or <code class="literal">0b</code> respectively, e.g. like </p>
              <pre class="programlisting">print 0xff + 0b11</pre>
              <p>; this may save you from applying the <code class="function">dec</code> altogether.</p>
            </div>
            <div class="refsect1">
              <a id="idm3044"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "二進数を入力してください: " a$
print a$," is ",dec(a$)
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3048"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_bin" title="bin$()"><code class="function">bin$</code></a>, <a class="link" href="#ref_hex" title="hex$()"><code class="function">hex$</code></a>, <a class="link" href="#top_numbers_with_base_2_or_16" title="二進数・十六進数の数値">二進数・十六進数の数値</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_default"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>default — <code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code> ステートメントの<span class="emphasis"><em>デフォルト</em></span>分岐点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
switch a+3
case 1
  …
case 2
  …
default
  …
end switch
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3067"></a>
              <h2>概要</h2>
              <p><code class="function">default</code> 文節は <code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code> ステートメント (詳細は前述参照) のオプション部分です。It introduces a series of statements, that should be executed, if none of the cases matches, that have been specified before (each with its own <code class="function"><a class="link" href="#ref_case" title="case">case</a></code>-clause).</p>
              <p>So <code class="function">default</code> specifies a default to be executed, if none of the explicitly named cases matches; hence its name.</p>
            </div>
            <div class="refsect1">
              <a id="idm3077"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print " 0 から 6 までの数値を入力してください"
print "これは曜日の指定です。"
input d
switch d
case 0:print "Monday":break
case 1:print "Tuesday":break
case 2:print "Wednesday":break
case 3:print "Thursday":break
case 4:print "Friday":break
case 5:print "Saturday":break
case 6:print "Sunday":break
default:print "おっと無効な入力です！"
end switch
          </pre>
                <p>This program translates a number between 0 and 6 into the name of a weekday; the <code class="function">default</code>-case is used to detect (and complain about) invalid input.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3083"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_sub" title="sub"><code class="function">sub</code></a>, <a class="link" href="#ref_case" title="case"><code class="function">case</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_dim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>dim — 初回使用前に配列を作成</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
dim array(x,y)
dim array$(x,y)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3098"></a>
              <h2>概要</h2>
              <p>The <code class="function">dim</code>-command prepares one or more arrays (of either strings or numbers) for later use. This command can also be used to enlarges an existing array.</p>
              <p>When an array is created with the <code class="function">dim</code>-statement, memory is allocated and all elements are initialized with either 0 (for numerical arrays) or "" (for string arrays). Please be aware, that the <code class="function">dim</code> reserves room for one element <span class="emphasis"><em>more</em></span> than actually specified, e.g. <code class="code">dim(10)</code> reserves memory for <span class="emphasis"><em>11</em></span> elements. This makes it possible to access element 0 as well as element 10, which serves the conventions of <span class="application">C</span> as well as <acronym class="acronym">basic</acronym>.</p>
              <p>If the array already existed, and the <code class="function">dim</code>-statement specifies a larger size than the current size, the array is enlarged and any old content is preserved. But note, that <code class="function">dim</code> cannot be used to shrink an array: If you specify a size, that is smaller than the current size, the <code class="function">dim</code>-command does nothing.</p>
              <p>Finally: To create an array, that is only known within a single subroutine, you should use the command <code class="function"><a class="link" href="#ref_local" title="local">local</a></code>, which creates local variables as well as local arrays.</p>
            </div>
            <div class="refsect1">
              <a id="idm3117"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
dim a(5,5)

for x=1 to 5:for y=1 to 5
  a(x,y)=int(ran(100))
next y:next x

printmatrix(a())

dim a(7,7)

printmatrix(a())

sub printmatrix(ar())
  local x,y,p,q
  x=arraysize(ar(),1)
  y=arraysize(ar(),2)
  for q=1 to y
    for p=1 to y
      print ar(p,q),"\t";
    next p
    print
  next q
end sub
          </pre>
                <p>This example creates a 2-dimensional array (i.e. a <span class="emphasis"><em>matrix</em></span>) with the <code class="function">dim</code>-statement and fills it with random numbers. The second <code class="function">dim</code>-statement enlarges the array, all new elements are filled with 0.</p>
                <p>The subroutine <code class="function">printmatrix</code> just does, what its name says.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3127"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_arraysize" title="arraysize()"><code class="function">arraysize</code></a>, <a class="link" href="#ref_arraydim" title="arraydim()"><code class="function">arraydim</code></a>, <code class="function"><a class="link" href="#ref_local" title="local">local</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_do"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>do — <code class="function">do ループ</code> (条件無指定) の起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
do 
… 
loop</pre>
            </div>
            <div class="refsect1">
              <a id="idm3145"></a>
              <h2>概要</h2>
              <p>Starts a loop, which is terminated by <code class="function">loop</code>; everything between <code class="function">do</code> and <code class="function">loop</code> will be repeated forever. This loop has no condition, so it is an infinite loop; note however, that a <code class="function"><a class="link" href="#ref_break" title="break">break</a></code>- or <code class="function"><a class="link" href="#ref_goto" title="goto">goto</a></code>-statement might be used to leave this loop anytime.</p>
            </div>
            <div class="refsect1">
              <a id="idm3155"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  a=a+1
  print a
  if (a&gt;100) break
loop
          </pre>
                <p>この用例は 1 ～ 101 までの数値を表示します。<code class="function">break</code> ステートメントでループから抜けます。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3161"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_loop" title="loop"><code class="function">loop</code></a>, <a class="link" href="#ref_repeat" title="repeat"><code class="function">repeat</code></a>, <a class="link" href="#ref_while" title="while"><code class="function">while</code></a>, <a class="link" href="#ref_break" title="break"><code class="function">break</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_doc"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>doc — プログラム本体で取得できる特別コメント</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
doc   これはコメント
docu  これは別のコメント
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3180"></a>
              <h2>概要</h2>
              <p>Introduces a comment, which spans up to the end of the line. But other than the <a class="link" href="#ref_rem" title="rem"><code class="function">rem</code></a>-comment, any <code class="function">docu</code>-comment is collected within the special <code class="function"><a class="link" href="#ref_docu" title="docu$">docu$</a></code>-array and might be retrieved later on. Moreover you might invoke <span class="application">yabasic -docu foo.yab</span> on the <span class="emphasis"><em>command line</em></span> to retrieve the embedded documentation within the program <code class="literal">foo.yab</code>.</p>
              <p>Instead of <code class="function">doc</code> you may just as well write <code class="function">docu</code> or even <code class="function">documentation</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm3195"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
rem   Hi, this has been written by me
rem
doc   This program asks for a number and
doc   prints this number multiplied with 2
rem
rem   Print out the above message
rem
for a=1 to arraysize(docu$(),1):print docu$(a):next a

rem   Read and print the number
input "Please input a number: " x
print x*2
          </pre>
                <p>This program uses the comments within its code to print out a help message for the user; if you run this program, you get this output:</p>
                <pre class="screen">
  This program asks for a number and
  prints this number multiplied with 2
Please input a number: 2
4
</pre>
                <p>The contents of the <code class="function">doc</code>-lines are retrieved from the <code class="function">docu$</code>-array; if you do not want a comment to be collected within this array, use the <code class="function">rem</code>-statement instead.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3205"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_docu" title="docu$"><code class="function">docu$</code></a>, <a class="link" href="#ref_rem" title="rem"><code class="function">rem</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_docu"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>docu$ — プログラムに存在する全 docu ステートメントの内容を収録した特別な配列</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">a$=docu$(1)</pre>
            </div>
            <div class="refsect1">
              <a id="idm3220"></a>
              <h2>概要</h2>
              <p>Before your program is executed, <span class="application">yabasic</span> collects the content of all the <code class="function">doc</code>-statements within your program within this 1-dimensional array (well only those within the main-program, libraries are skipped).</p>
              <p>You may use the <code class="function">arraysize</code> function to find out, how many lines it contains.</p>
            </div>
            <div class="refsect1">
              <a id="idm3227"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
docu
docu  このプログラムは数値同士の読み取り後に
docu  加算します。
docu

rem 埋め込みドキュメンテーションの取得と表示
for a=1 to arraysize(docu$(),1)
  print docu$(a)
next a

input "最初の数値: " b
input "次の数値: " c

print " ",b," と ",c," の和は ",b+c
          </pre>
                <p>このプログラムは使用方法のメッセージの表示で組み込みドキュメンテーションを使います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3232"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_arraysize" title="arraysize()"><code class="function">arraydim</code></a>, <a class="link" href="#ref_rem" title="rem"><code class="function">rem</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_dot"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>dot — グラフィックウィンドウにドットを描画します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
dot x,y
clear dot x,y
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3247"></a>
              <h2>概要</h2>
              <p>グラフィックスウィンドウの指定座標にドットを描画します。If <a class="link" href="#ref_open_printer" title="open printer">printing</a> is in effect, the dot appears on your printout too.</p>
              <p>Use the functions <a class="link" href="#ref_peek" title="peek"><code class="function">peek("winheight")</code></a> or <a class="link" href="#ref_peek" title="peek"><code class="function">peek("winwidth")</code></a> to get the size of your window and hence the boundaries of the coordinates specified for the <code class="function">dot</code>-command.</p>
            </div>
            <div class="refsect1">
              <a id="idm3257"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
circle 100,100,100
do
  x=ran(200):y=ran(200)
  dot x,y
  total=total+1
  if (sqrt((x-100)^2+(y-100)^2)&lt;100) in=in+1
  print 4*in/total
loop
          </pre>
                <p>このプログラムは π を求めるのによく知られているアルゴリズムを採用しています。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3262"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_line" title="line"><code class="function">line</code></a>, <a class="link" href="#ref_open_window" title="open window"><code class="function">open window</code></a></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_e"></a>E</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_else">else</a> </span> <span class="refpurpose"> — <code class="function">if</code> ステートメントの分岐点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_elsif">elsif</a> </span> <span class="refpurpose"> — <code class="function">if</code> ステートメントの追加分岐点における起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_end">end</a> </span> <span class="refpurpose"> — プログラムの終了</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_endif">endif</a> </span> <span class="refpurpose"> — <code class="function">if</code> ステートメントの終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_end_sub">end sub</a> </span> <span class="refpurpose"> — サブルーチン定義の終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_eof">eof</a> </span> <span class="refpurpose"> — 開いているファイルのデータが存在するか確認</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_eor">eor()</a> </span> <span class="refpurpose"> — 引数一組のビット単位<span class="emphasis"><em>排他的 or </em></span> を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_error">error</a> </span> <span class="refpurpose"> — エラーを起こしてプログラムを強制終了</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_euler">euler</a> </span> <span class="refpurpose"> — <code class="function">2.71828182864</code> の別名</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_eval">eval()</a> </span> <span class="refpurpose"> — 単体数値式のコンパイルと実行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_eval2">eval$()</a> </span> <span class="refpurpose"> — 単体文字列式のコンパイルと実行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_execute">execute()</a> </span> <span class="refpurpose"> — 数値を返すユーザー定義のサブルーチンを実行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_execute2">execute$()</a> </span> <span class="refpurpose"> — 文字列を返すユーザー定義のサブルーチンを実行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_exit">exit</a> </span> <span class="refpurpose"> — プログラムの終了</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_exp">exp()</a> </span> <span class="refpurpose"> — 単一引数の指数関数を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_export">export</a> </span> <span class="refpurpose"> — 関数はグローバルで参照可能であることを指定</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_else"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>else — <code class="function">if</code> ステートメントの分岐点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (…) then
  … 
else
  … 
endif
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3280"></a>
              <h2>概要</h2>
              <p>The <code class="function">else</code>-statement introduces the alternate branch of an <code class="function">if</code>-statement. I.e. it starts the sequence of statements, which is executed, if the condition of the <code class="function">if</code>-statement is <span class="emphasis"><em>not</em></span> true.</p>
            </div>
            <div class="refsect1">
              <a id="idm3287"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数値を入力してください: " a
if (mod(a,2)=1) then
  print a," は奇数です。"
else
  print a," は偶数です。"
endif
          </pre>
                <p>このプログラムは入力された数値が奇数か偶数であるかを検出します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3292"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_if" title="if">
                  <code class="function">if</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_elsif"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>elsif — <code class="function">if</code> ステートメントの追加分岐点における起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (…) then
  …
elseif (…)
  …
elsif (…) then
  …
else
  …
endif
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3306"></a>
              <h2>概要</h2>
              <p>The <code class="function">elsif</code>-statement is used to select a single alternative among a series of choices.</p>
              <p>With each <code class="function">elsif</code>-statement you may specify a condition, which is tested, if the main condition (specified with the <code class="function">if</code>-statement) has failed. 備考として、<code class="function">elsif</code> は <code class="function">elseif</code> としても記述可能です。</p>
              <p>Within the example below, two variables <code class="function">a</code> and <code class="function">b</code> are tested against a range of values. 変数 <code class="varname">a</code> は <code class="function">elsif</code> ステートメントでテストされます。The very same tests are performed for the variable <code class="varname">b</code> too; but here an involved series of <code class="function">if</code>-<code class="function">else</code>-statements is employed, making the tests much more obscure.</p>
            </div>
            <div class="refsect1">
              <a id="idm3323"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数値を入力してください: " a
if (a&lt;0) then
  print "0 以下"
elseif (a&lt;=10) then
  print "0 から 10 までの間"
elsif (a&lt;=20)
  print "11 から 20 までの間"
else
  print "20 以上"
endif

input "ほかの数値を続けて入力してください: " b
if (b&lt;0) then
  print "0 以下"
else
  if (b&lt;=10) then
    print "0 から 10 までの間"
  else
    if (b&lt;=20) then
      print "11 から 20 までの間"
    else
      print "20 以上"
    endif
  endif
endif
          </pre>
                <p>Note, that the very same tests are performed for the variables <code class="function">a</code> and <code class="function">b</code>, but can be stated much more clearly with the <code class="function">elsif</code>-statement.</p>
                <p>Note, that <code class="function">elsif</code> might be written as <code class="function">elseif</code> too, and that the keyword <code class="function">then</code> is optional.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3335"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_if" title="if"><code class="function">if</code></a>, <a class="link" href="#ref_else" title="else"><code class="function">else</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_end"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>end — プログラムの終了</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
end
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3350"></a>
              <h2>概要</h2>
              <p>プログラムの終了。<code class="function"><a class="link" href="#ref_exit" title="exit">exit</a></code> コマンドと酷似しています (しかし完全に同じではない)。</p>
              <p>Note, that <code class="function">end</code> may not end your program immediately; if you have opened a window or called <code class="function">clear screen</code>, <span class="application">yabasic</span> assumes, that your user wants to study the output of your program after it has ended; therefore it issues the line <code class="computeroutput">---Program done, press RETURN---</code> and waits for a key to be pressed. この動作に不満があれば、 <code class="function"><a class="link" href="#ref_exit" title="exit">exit</a></code> をご検討ください。</p>
            </div>
            <div class="refsect1">
              <a id="idm3362"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "続けますか？"
input "y(es) か n(o) で答えてください: " a$
if (lower$(left$(a$,1))="n") then
  print "またね"
  end
fi
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3366"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_exit" title="exit">exit</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_endif"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>endif — <code class="function">if</code> ステートメントの終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (…) then
  …
endif
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3380"></a>
              <h2>概要</h2>
              <p><code class="function">endif</code> ステートメントは <code class="function">if</code> ステートメントを閉じます (または終点)。</p>
              <p>備考として、 <code class="function">endif</code> の記法は色々あります: <code class="function">end if</code>, <code class="function">end-if</code> または <code class="function">fi</code> も可能です。</p>
              <p>The <code class="function">endif</code>-statement must be omitted, if the <code class="function">if</code>-statement does not contain the keyword <code class="function">then</code> (see the example below). Such an <a class="link" href="#ref_if" title="if"><code class="function">if</code></a>-statement without <code class="function">endif</code> extends only over a single line.</p>
            </div>
            <div class="refsect1">
              <a id="idm3397"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数字を入力してください: " a
if (a&lt;10) then
  print "10以下の数値を入力してください: "
endif

REM  そして endif は使いません。

input "数値を入力してください: " a
if (a&lt;10) print "入力は 10 以下の数値です。"
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3401"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_if" title="if">
                  <code class="function">if</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_end_sub"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>end sub — サブルーチン定義の終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
sub foo(…)
  …
end sub
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3414"></a>
              <h2>概要</h2>
              <p>サブルーチン定義の終点 (起点は <code class="function">sub</code> キーワード)。サブルーチンの全体概念は <a class="link" href="#ref_sub" title="sub"><code class="function">sub</code></a> のエントリで解説してあります。
</p>
            </div>
            <div class="refsect1">
              <a id="idm3420"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print foo(3)

sub foo(a)
  return a*2
end sub
          </pre>
                <p>このプログラムの結果は <code class="computeroutput">6</code> です。サブルーチン <code class="function">foo</code> は引数を二倍して返すだけです。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3427"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_sub" title="sub">
                  <code class="function">sub</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_eof"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>開いているファイルのデータが存在するか確認</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open 1,"foo.bar"
if (eof(1)) then
   …
end if
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3440"></a>
              <h2>概要</h2>
              <p><code class="function">eof</code> 関数は開いているファイルにデータが未だ残されているか確認します。As an argument it expects the file-number as returned by (or used within) the <code class="function">open</code>-function (or statement).</p>
              <p>引数がゼロであるときの特例: stdin からの入力が利用可能であるかのテストとなります。</p>
            </div>
            <div class="refsect1">
              <a id="idm3446"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
a=open("foo.bar")
while not eof(a)
  input #a,a$
  print a$
end while
          </pre>
                <p>この用例ではファイル "foo.bar" の内容を表示します。それ以降のデータがファイルにない場合、 <code class="function">eof</code> 関数はループを終了します。 </p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3452"></a>
              <h2>関連</h2>
              <p>
                <a class="link" href="#ref_open" title="open">
                  <code class="function">open</code>
                </a>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_eor"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>eor() — 引数一組のビット単位<span class="emphasis"><em>排他的 or </em></span> を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print eor(a,b)</pre>
            </div>
            <div class="refsect1">
              <a id="idm3466"></a>
              <h2>概要</h2>
              <p>The <code class="function">eor</code>-function takes two arguments and computes their bitwise <span class="emphasis"><em>exclusive or</em></span>. I.e. treat each arguments as a sequence of bits and compare theses two sequences bit by bit to produce the result. If the bits from the arguments are equal, the resulting bit will be <code class="literal">0</code>, otherwise <code class="literal">1</code>.</p>
              <p>The <code class="function">xor</code>-function is the same as the <code class="function">eor</code> function; both are synonymous; however they have each their own description, so you may check out the entry of <code class="function"><a class="link" href="#ref_xor" title="xor()">xor</a></code> for a slightly different view.</p>
            </div>
            <div class="refsect1">
              <a id="idm3478"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=0 to 3
  for b=0 to 3
    print fill$(bin$(a))," eor ",fill$(bin$(b))," = ",fill$(bin$(eor(a,b)))
  next b
next a

sub fill$(a$)
  return right$("0"+a$,2)
end sub
          </pre>
                <p>This example prints a table, from which you may figure, how the <code class="function">eor</code>-function is computed.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3484"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_bitwise_and" title="and()"><code class="function">and</code></a>, <a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_error"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>error — エラーを起こしてプログラムを終了</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">error "ダメ、ダメ。ダメだってば！！"</pre>
            </div>
            <div class="refsect1">
              <a id="idm3499"></a>
              <h2>概要</h2>
              <p>Produces the same kind or error messages, that yabasic itself produces (e.g. in case of a syntax-error). The single argument is issued along with the current line-number.</p>
            </div>
            <div class="refsect1">
              <a id="idm3502"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "1 から 10 までの数字を入力してください: " a
if (a&lt;1 or a&gt;10) error "なんてこったぁ ..."
          </pre>
                <p>This program is very harsh in checking the users input; instead of just asking again, the program terminates with an error, if the user enters something wrong.</p>
                <p>このようなエラーメッセージが表示されます:</p>
                <pre class="programlisting">
---Error in t.yab, line 2: Oh no ...
---Error: Program stopped due to an error
</pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3509"></a>
              <h2>関連</h2>
              <p>Well, there <span class="emphasis"><em>should</em></span> be a corresponding called <code class="function">warning</code>; unfortunately ther is none yet.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_euler"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>euler — 定数 <code class="function">2.71828182864</code> の別名</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">foo=euler</pre>
            </div>
            <div class="refsect1">
              <a id="idm3523"></a>
              <h2>概要</h2>
              <p><code class="function">euler</code> は <span class="emphasis"><em>Leonard Euler</em></span> (レオナルド・オイラー) の名前にちなんで命名された有名な定数です。その値は <code class="function">2.71828182864</code> です。<code class="function">euler</code> は関数<span class="emphasis"><em>ではない</em></span>ため、丸括弧は使えません (すなわち <code class="function">euler()</code> はエラーになります)。最後に <code class="function">euler</code> は定数であり、エラーの検出は行わないため代入はしないでください。</p>
            </div>
            <div class="refsect1">
              <a id="idm3533"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print euler
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3537"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_pi" title="pi">pi</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_eval"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>eval() — 単体数値式のコンパイルと実行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print eval("1+2")</pre>
            </div>
            <div class="refsect1">
              <a id="idm3550"></a>
              <h2>概要</h2>
              <p><code class="function">eval</code> accepts a string, which should be the text of a single numeric expression; it processes the expression and returns the result. <span class="application">yabasic</span> の数値関数と算術演算子は周知の変数と同様に使えます。</p>
              <p><code class="function">eval</code> へ渡された文字列は真っ先にコンパイルと<span class="emphasis"><em>即時実行</em></span>します。The compilation happens just before the execution and may cause compilation errors, if you pass an invalid expression. <code class="function">eval</code> might come handy, if you want to calculate an expression, that is not known at the start of your program, e.g. because it is read from the user; see the example below.</p>
            </div>
            <div class="refsect1">
              <a id="idm3559"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "変数 x に関する数式を入力してください: " expr$
first = true
for x=0 to 100 step 0.01
  result = eval(expr$)
  if (first or result &gt; maximum) maximum = result: xmaximum = x
  first = false
next x
print "In the range 0 to 100, expression " + expr$ + " has its maximum of " + str$(maximum) + " at " + str$(xmaximum) + " (approximately)"
          </pre>
                <p>The example above reads an arithmetic expression from the user and steps through the range 0 … 100 to find its maximum. If the user types e.g. <strong class="userinput"><code>-(x-50)**2</code></strong>, the program would find a maximum of around zero (e.g. <code class="computeroutput">-1.90013e-24</code>) at 50.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3566"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>, <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code>, <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>, <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code>, <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_eval2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>eval$() — 単体文字列式のコンパイルと実行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print eval$("a$ + b$")</pre>
            </div>
            <div class="refsect1">
              <a id="idm3586"></a>
              <h2>概要</h2>
              <p><code class="function">eval$</code> accepts a string, which should be the text of a single string-expression; it processes the expression and returns the result. All string-functions and string-operators of <span class="application">yabasic</span> can be used as well as any variables known.</p>
              <p><code class="function">eval$</code> へ渡された文字列は真っ先にコンパイルと<span class="emphasis"><em>即時実行</em></span>します。The compilation happens right before the execution and may cause compilation errors, if you pass an invalid expression. See the example below for two interesting use-cases.</p>
            </div>
            <div class="refsect1">
              <a id="idm3594"></a>
              <h2>短くても有用な用例</h2>
              <div class="informalexample">
                <p>後述の用例は yabasic のクォート処理規則をユーザ入力へ適用します:</p>
                <pre class="programlisting">
input "Please enter a string with some excape-sequences (e.g. \\r,\\n,\\t): " a$
print eval$("\"" + a$ + "\"")
            </pre>
                <p>ユーザ型 <strong class="userinput"><code>abc\ndef</code></strong> のプロンプトの場合は、このようにテキストはエコーされます:</p>
                <pre class="screen">
	      <code class="computeroutput">
		abc
		def
	      </code>
	    </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3603"></a>
              <h2>長めの用例</h2>
              <div class="informalexample">
                <p>The next example shows the subroutine <code class="function">evemex$</code> (for <span class="emphasis"><em>eval embedded expression</em></span>) that allows to embed expressions into a string, simply by enclosing them with <code class="literal">{{</code> and <code class="literal">}}</code>:</p>
                <pre class="programlisting">

input "Please enter your name: " name$
print evemex$("Hello {{name$}}, your name has {{len(name$)}} characters.")


sub evemex$(evemex_str$)

  local evemex_pos1, evemex_pos2, evemex_res$

  evemex_pos1 = 1
  evemex_pos2 = 1
  evemex_res$ = ""
  	
  while (evemex_pos1 &lt; len(evemex_str$))
    if (mid$(evemex_str$, evemex_pos1, 2) = "{{") then
      evemex_res$ = evemex_res$ + mid$(evemex_str$, evemex_pos2, evemex_pos1 - evemex_pos2)
      evemex_pos1 = evemex_pos1 + 2
      evemex_pos2 = evemex_pos1
      while (evemex_pos2 &lt; len(evemex_str$))
        if (mid$(evemex_str$, evemex_pos2, 2) = "}}") then
           rem
           rem  以下の行で eval の用法をご確認ください
           rem
	   evemex_res$ = evemex_res$ + eval$("str$(" + mid$(evemex_str$, evemex_pos1, evemex_pos2 - evemex_pos1) + ")")
	   evemex_pos2 = evemex_pos2 + 2
	   evemex_pos1 = evemex_pos2
	   break
	else
	  evemex_pos2 = evemex_pos2 + 1
	endif
      wend
    else
      evemex_pos1 = evemex_pos1 + 1
    endif
  wend

  evemex_res$ = evemex_res$ + mid$(evemex_str$, evemex_pos2, evemex_pos1 - evemex_pos2 + 1)	
  return evemex_res$

end sub
            </pre>
                <p>If the user when prompted types <strong class="userinput"><code>Marc</code></strong>, he is greeted with <code class="computeroutput">Hello Marc, your name has 4 characters.</code> The program uses <code class="function">eval$</code> only once, and it adds <code class="function"><a class="link" href="#ref_str" title="str$()">str$</a></code> around the embedded expression to ensure, that the result is always a string and can be concatenated with the other strings.</p>
                <p>Please note, that the subroutine prefixes its local variables with <code class="function">evemex</code> (for <span class="emphasis"><em>eval embedded expression</em></span>) to avoid name clashes with any variable that might be used in expressions within the string passed.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3621"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>, <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>, <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>, <code class="function"><a class="link" href="#ref_execute" title="execute()">execute</a></code>, <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_execute"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>execute() — 数値を返すユーザー定義のサブルーチンを実行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print execute("bar","arg1","arg2")</pre>
            </div>
            <div class="refsect1">
              <a id="idm3641"></a>
              <h2>概要</h2>
              <p><code class="function">execute</code> コマンドは <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code> 関数とは正反対です (警告事項を参照)。<code class="function">execute</code> はサブルーチンを実行して数値を返すのに使います。</p>
            </div>
            <div class="refsect1">
              <a id="idm3648"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print execute("bar",2,3)
sub bar(a,b)
  return a+b
end sub
            </pre>
                <p>この用例の結果は <code class="computeroutput">5</code> です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3654"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>, <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>, <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code>, <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>, <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_execute2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>execute$() — 文字列を返すユーザー定義のサブルーチンを実行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">print execute$("foo$","arg1","arg2")</pre>
            </div>
            <div class="refsect1">
              <a id="idm3674"></a>
              <h2>概要</h2>
              <p><code class="function">execute$</code> は名前を文字列式で指定したユーザ定義サブルーチンの実行で使います。</p>
              <p>This function allows to execute a subroutine, whose name is not known by the time you write your program. This might happen, if you want to execute a subroutine, which is compiled (using the <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code> command) as late as of execution of your program.</p>
              <p>Note however, that the <code class="function">execute$</code>-function is <span class="emphasis"><em>not</em></span> the preferred method to execute a user defined subroutine; in almost all cases you should just execute a subroutine by writing down its name within your yabasic program (see the example below).</p>
            </div>
            <div class="refsect1">
              <a id="idm3684"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print execute$("foo$","Hello","world !")
sub foo$(a$,b$)
  return a$+" "+b$
end sub
          </pre>
                <p>この用例はユーザー定義サブルーチン <code class="function">foo$</code> の返値 <code class="computeroutput">Hello world !</code> を表示するだけです。こちらを実行しても同じ処理になります:</p>
                <pre class="programlisting">
print foo$(a$,b$)
	    </pre>
                <p>実際のところ、この用例で <code class="function">execute$</code> 関数は<span class="emphasis"><em>不要</em></span>です。<span class="emphasis"><em>詳しくは</em></span> <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code> の用例を参照してください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3698"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_add_code" title="実行中のプログラムにコードを追加するには">実行中にコードを追加するには</a>, <code class="function"><a class="link" href="#ref_compile" title="compile">compile</a></code>, <code class="function"><a class="link" href="#ref_execute2" title="execute$()">execute$</a></code>, <code class="function"><a class="link" href="#ref_eval" title="eval()">eval</a></code>, <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_exit"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>exit — プログラムの終了</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
exit
exit 1
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3718"></a>
              <h2>概要</h2>
              <p>プログラムの終了後に指定された値をオペレーティングシステムへ返します。<code class="function">exit</code> は<code class="function"><a class="link" href="#ref_end" title="end">end</a></code> と似ていますが、是が非でもプログラムを即時終了します。</p>
            </div>
            <div class="refsect1">
              <a id="idm3724"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "続けますか？"
input "y(es) か n(o) で答えてください: " a$
if (lower$(left$(a$,1))="n") exit 1
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3728"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_end" title="end">end</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_exp"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>exp() — 単一引数の指数関数を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foo=exp(bar)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3741"></a>
              <h2>概要</h2>
              <p>この関数は引数における<span class="emphasis"><em>e</em></span> の二乗を求めます。つまり、 <span class="emphasis"><em>e</em></span>  は  <code class="function">2.71828182864</code> でありオイラー定数として知られています。</p>
              <p><code class="function">exp</code> 関数は <code class="function">log</code> の逆関数です。</p>
            </div>
            <div class="refsect1">
              <a id="idm3750"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 100,100
for x=0 to 100
   dot x,100-100*exp(x/100)/euler
next x
          </pre>
                <p>This program plots part of the <code class="function">exp</code>-function, however the range is rather small, so that you may not recognize the function from this plot.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3756"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_log" title="log()">log</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_export"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>export — 関数はグローバルで参照可能であることを指定</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
export sub foo(bar)
…
end sub
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3769"></a>
              <h2>概要</h2>
              <p>The <code class="function">export</code>-statement is used within libraries to mark a user defined subroutine as visible outside the library wherein it is defined. Subroutines, which are not exported, must be qualified with the name of the library, e.g. <code class="function">foo.baz</code> (where <code class="function">foo</code> is the name of the library and <code class="function">baz</code> the name of the subroutine); <span class="emphasis"><em>exported</em></span> subroutines may be used without specifying the name of the library, e.g. <code class="function">bar</code>.</p>
              <p>Therefore <code class="function">export</code> may only be useful within libraries.</p>
            </div>
            <div class="refsect1">
              <a id="idm3780"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <p>The library <code class="filename">foo.bar</code> (which is listed below) defines two functions <code class="function">bar</code> and <code class="function">baz</code>, however only the function <code class="function">bar</code> is <span class="emphasis"><em>exported</em></span> and therefore visible even outside the library; <code class="function">baz</code> is <span class="emphasis"><em>not</em></span> exported and may only be used within the library <code class="computeroutput">foo.yab</code>:</p>
                <pre class="programlisting">
export sub bar()
  print "Hello"
end sub

sub baz()
  print "World"
end sub
          </pre>
                <p>Now within your main program <code class="filename">cux.yab</code> (which <code class="function"><a class="link" href="#ref_import" title="import">import</a></code>s the library foo.yab); note that this program produces an error:</p>
                <pre class="programlisting">
import foo

print "サブルーチン foo.bar の呼び出し (正常) ..."
foo.bar()
print "完了。"

print "サブルーチン foo の呼び出し (正常) ..."
bar()
print "完了。"

print "サブルーチン foo.baz の呼び出し (正常) ..."
foo.baz()
print "完了。"

print "サブルーチン baz の呼び出し(誤り) ..."
baz()
print "完了。"

</pre>
                <p><span class="command"><strong>yabasic foo.yab</strong></span> を実行すると結果はこうなります:</p>
                <pre class="programlisting">
サブルーチン foo.bar の呼び出し  (正常) ...
Hello
完了。
サブルーチン foo の呼び出し  (正常) ...
Hello
完了。
サブルーチン foo.baz の呼び出し  (正常) ...
World
完了。
サブルーチン baz の呼び出し(誤り) ...
---Error in main.yab, line 16: can't find subroutine 'baz'
---Dump: sub baz() called in main.yab,16
---Error: Program stopped due to an error
</pre>
                <p>As the error message above shows, the subroutine <code class="function">baz</code> must be qualified with the name of the library, if used outside the library, wherein it is defined (e.g. <code class="function">foo.baz</code>). すなわち、ライブラリ <code class="filename">foo.yab</code> の外部にあるため <code class="filename">foo.baz</code> と書く必要があります。<code class="function">baz</code> だけではエラーになります。</p>
                <p>The subroutine <code class="function">bar</code> (without adding the name of the library) however may (and probably should) be used in any program, which imports the library <code class="filename">foo.yab</code>.</p>
              </div>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p>In some sense the set of exported subroutines constitutes the <span class="emphasis"><em>interface</em></span> of a library.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3813"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sub" title="sub">sub</a></code>, <code class="function"><a class="link" href="#ref_import" title="import">import</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_f"></a>F</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_false">false</a> </span> <span class="refpurpose"> — 値 0 の定数</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_fi">fi</a> </span> <span class="refpurpose"> — endif の別名</span>
              </dt>
              <dt>
                <span class="refentrytitle">
                  <a href="#ref_fill">fill</a>
                </span>
                <span class="refpurpose"> — draw a filled <code class="function">circle</code>s, <code class="function">rectangle</code>s or <code class="function">triangle</code>s</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_floor">floor()</a> </span> <span class="refpurpose"> — (浮動小数点) 引数の下限を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_for">for</a> </span> <span class="refpurpose"> — <code class="function">for</code> ループの起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_alloc">foreign_buffer_alloc$()</a> </span> <span class="refpurpose"> — 外部関数の呼び出しで用いるバッファの新規作成</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_dump">foreign_buffer_dump$()</a> </span> <span class="refpurpose"> — 十六進数でエンコードした文字列をバッファの内容として返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_free">foreign_buffer_free</a> </span> <span class="refpurpose"> — 外部バッファの解放</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_get">foreign_buffer_get()</a> </span> <span class="refpurpose"> — 外部バッファから数値を取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_get2">foreign_buffer_get$()</a> </span> <span class="refpurpose"> — 外部バッファから文字列を取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_get_buffer">foreign_buffer_get_buffer$()</a> </span> <span class="refpurpose"> — バッファの処理と内容から第バッファのハンドルを作成</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_set">foreign_buffer_set</a> </span> <span class="refpurpose"> — 指定された値をバッファへ格納</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_set_buffer">foreign_buffer_set_buffer</a> </span> <span class="refpurpose"> — あるバッファのポインタを別のバッファへ格納</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_buffer_size">foreign_buffer_size()</a> </span> <span class="refpurpose"> — 外部バッファの容量を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_function_call">foreign_function_call()</a> </span> <span class="refpurpose"> — 非 <span class="application">yabasic</span> ライブラリまたは DLL 関数 (数値を返す) の呼び出し</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_function_call2">foreign_function_call$()</a> </span> <span class="refpurpose"> — 非 <span class="application">yabasic</span> ライブラリまたは DLL 関数 (文字列またはバッファを返す) の呼び出し</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_foreign_function_size">foreign_function_size()</a> </span> <span class="refpurpose"> — 外部関数の呼び出しで利用可能な型の容量を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_frn">frnbf_ と frnfn_</a> </span> <span class="refpurpose"> — <code class="literal">foreign_buffer_</code> と <code class="literal">foreign_function_</code> の短縮形</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_frac">frac()</a> </span> <span class="refpurpose"> — 数値引数の小数部を返す</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_false"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>false — 値 0 の定数</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
okay=false
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3830"></a>
              <h2>概要</h2>
              <p>定数 <code class="function">false</code> は以降の分岐条件 (例えば <code class="function">if</code> ステートメント) で用いる変数へ代入可能です。</p>
              <p><code class="function">false</code> は <code class="function">FALSE</code> または <code class="function">FaLsE</code> としても記述可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm3839"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "1 から 10 までの数字を入力してください: " a
if (check_input(a)) print "Okay"

sub check_input(x)
  if (x&gt;10 or x&lt;1) return false
  return true
end sub
          </pre>
                <p>サブルーチン <code class="function">check_input</code> は引数を検査後、検査結果に従い <code class="function">true</code> または <code class="function">false</code> を返します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3847"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_true" title="true">true</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_fi"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>fi — <code class="function"><a class="link" href="#ref_endif" title="endif">endif</a></code> の別名</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (…)
…
fi
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3862"></a>
              <h2>概要</h2>
              <p><code class="function">fi</code> は <code class="function">if</code> の終点であり <code class="function"><a class="link" href="#ref_endif" title="endif">endif</a></code> とは完全に同等です。追加情報は後述を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm3869"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数字を入力してください: " a
if (a&lt;10) then
  print "10 以下の数値です"
fi
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3873"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_endif" title="endif">endif</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_fill"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>fill — draw a filled <code class="function">circle</code>s, <code class="function">rectangle</code>s or <code class="function">triangle</code>s</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
fill rectangle 10,10,90,90
fill circle 50,50,20
fill triangle 10,20,20,10,20,20
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3889"></a>
              <h2>概要</h2>
              <p>The keyword <code class="function">fill</code> may be used within the <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code> or <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code> command and causes these shapes to be filled.</p>
              <p><code class="function">fill</code> can be used in conjunction with and wherever the <code class="function"><a class="link" href="#ref_clear" title="clear">clear</a></code>-clause may appear. Used alone, <code class="function">fill</code> will fill the interior of the shape (circle, rectangle or triangle); together with <code class="function">clear</code> the whole shape (including its interior) is erased.</p>
            </div>
            <div class="refsect1">
              <a id="idm3905"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
fill circle 100,100,50
clear fill rectangle 10,10,90,90
          </pre>
                <p>ウィンドウを開いた後にパックマン風の図形を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3910"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_clear" title="clear">clear</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_floor"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>floor() — (浮動小数点) 引数の下限を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print floor(x)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3929"></a>
              <h2>概要</h2>
              <p>The <code class="function">floor</code>-function returns the largest integer number, that is smaller or equal than its argument. For positive numbers <code class="literal">x</code>, <code class="literal">floor(x)</code> is the same as <code class="function">int(x)</code>; for negaive numbers it can be different (see the example below).</p>
            </div>
            <div class="refsect1">
              <a id="idm3936"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print int(-1.5),floor(-1.5)
print int(-1),floor(-1)
print int(1.5),floor(1.5)
          </pre>
                <p>This example compares the functions <code class="function">int</code> and <code class="function">floor</code>, starting with <code class="computeroutput">-1 -2</code>, then <code class="computeroutput">-1 -1</code> and ending with <code class="computeroutput">1 1</code>, which shows the different behaviour of both functions.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3946"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_ceil" title="ceil()">ceil</a></code>, <code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code>, <code class="function"><a class="link" href="#ref_round" title="round()">round</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_for"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>for — <code class="function">for</code> ループの起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
for a=1 to 100 step 2
  …
next a
</pre>
            </div>
            <div class="refsect1">
              <a id="idm3966"></a>
              <h2>概要</h2>
              <p>The <code class="function">for</code>-loop lets its numerical variable (<code class="function">a</code> in the synopsis) assume all values within the given range. The optional <code class="function">step</code>-clause may specify a value (default: 1) by which the variable will be incremented (or decremented, if <code class="function">step</code> is negative).</p>
              <p>Any <code class="function">for</code>-statement can be replaced by a set of <code class="function">if</code>s and <code class="function">goto</code>s; as you may infer from the example below this is normally not feasible. However if you want to know in detail how the <code class="function">for</code>-statement works, you should study this example, which presents a <code class="function">for</code>-statement and an <span class="emphasis"><em>exactly equivalent</em></span> series of <code class="function">if</code>s and <code class="function">goto</code>s.</p>
            </div>
            <div class="refsect1">
              <a id="idm3982"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10 step 2:print a:next 

a=1
label check
if (a&gt;10) goto done
  print a
  a=a+2
goto check
label done
          </pre>
                <p>この用例は番号 1, 3, 5, 7 と 9 を出力するだけです。It does this twice: First with a simple <code class="function">for</code>-statement and then with <code class="function">if</code>s and <code class="function">goto</code>s.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm3990"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_step" title="step">step</a></code>, <code class="function"><a class="link" href="#ref_next" title="next">next</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_alloc"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_alloc$() — 外部関数の呼び出しで用いるバッファの新規作成</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
handle$=foreign_buffer_alloc$(10)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4005"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_alloc$()</code> 容量を指定してバッファを新規作成します (<span class="application">C</span> 関数の <code class="function">malloc</code> を使用)。This buffer can then be populated by <code class="function"><a class="link" href="#ref_foreign_buffer_set" title="foreign_buffer_set">foreign_buffer_set</a></code> or <code class="function"><a class="link" href="#ref_foreign_buffer_set_buffer" title="foreign_buffer_set_buffer">foreign_buffer_set_buffer</a></code>, passed to <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code> and finally freed with <code class="function"><a class="link" href="#ref_foreign_buffer_free" title="foreign_buffer_free">foreign_buffer_free</a></code>.</p>
              <p>The special value of <code class="literal">-1</code> can be passed to create the equivalent of a <span class="emphasis"><em>null-pointer</em></span> in C: when your <span class="application">yabasic</span>-program passes such a buffer to an external function, it is replaced by a null-pointer.</p>
            </div>
            <div class="refsect1">
              <a id="idm4023"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_dump"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_dump$() — 十六進数でエンコードした文字列をバッファの内容として返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
	    print foreign_buffer_dump(handle$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4036"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_dump$()</code> is mostly used during development of your <span class="application">yabasic</span> program and helps to investigate the content of a buffer; this can be helpful to find out, how a structure for a foreign function call is aggregated. To actually retrieve elements from the structure rather use <code class="function"><a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get</a></code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm4043"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_free"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_free — 外部バッファの解放</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foreign_buffer_free handle$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4056"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_free()</code> expects a handle for a buffer and frees this buffer (using the <span class="application">C</span>-function <code class="function">free</code>), i.e. gives this memory area back to the operating system. Any subsequent attempt to access part of this buffer (e.g. via <code class="function"><a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get</a></code>) will probably lead to an error (as will a second call to <code class="function">foreign_buffer_free()</code>). The handle-argument must have been returned previously by <code class="function"><a class="link" href="#ref_foreign_buffer_alloc" title="foreign_buffer_alloc$()">foreign_buffer_alloc</a></code> or <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm4069"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_get"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_get() — 外部バッファから数値を取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print foreign_buffer_get(handle$,10,"int")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4082"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_get()</code> retrieves a simple type from a buffer, that is assumed to contain a structure (see the <a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">overview-section</a> for the necessary background). For this it needs three arguments:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>バッファのハンドルは、例えば外部関数の呼び出しで事前に補填されます。</p>
                  </li>
                  <li class="listitem">
                    <p>An offset, counted in bytes from the start of the buffer, which specifies where the value can be found within the structure.</p>
                  </li>
                  <li class="listitem">
                    <p>A string, specifying the type of the value that should be retrieved, which for this function is always an integer type like <code class="literal">"int"</code>, <code class="literal">"short"</code> or <code class="literal">"long"</code>.</p>
                  </li>
                </ul>
              </div>
              <p>この関数を正しく使うにはバッファに存在する各構造体の詳細を熟知することが求められます。</p>
            </div>
            <div class="refsect1">
              <a id="idm4098"></a>
              <h2>関連</h2>
              <p>The <a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">overview-section on foreign functions</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">list of related functions and commands</a>, the neighbouring functions for retrieving other values from the buffer.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_get2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_get$() — 外部バッファから文字列を取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print foreign_buffer_get$(handle$,0,12)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4111"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_get$()</code> は外部バッファから文字列を取得します。引数として、</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>バッファのハンドルは、例えば外部関数の呼び出しで事前に補填されます。</p>
                  </li>
                  <li class="listitem">
                    <p>このバッファのオフセットは文字列の先頭です。In the common case, where the buffer can be assumed to contain a string <span class="emphasis"><em>only</em></span>, this offset should be 0.</p>
                  </li>
                  <li class="listitem">
                    <p>文字列の最大長を想定しています。This is a value not necessarily known but if the string is null-terminated (as usual) you may just specify a much larger number here.</p>
                  </li>
                </ul>
              </div>
              <p>この関数を正しく使うにはバッファに存在する各構造体の詳細を熟知することが求められます。</p>
            </div>
            <div class="refsect1">
              <a id="idm4124"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_get_buffer"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_get_buffer() — バッファの処理と内容から第バッファのハンドルを作成</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
handle2$ = foreign_buffer_get_buffer(handle$,8)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4137"></a>
              <h2>概要</h2>
              <p>バッファ (すなわち構造体が存在する) に文字列や別の構造体の<span class="emphasis"><em>ポインタ</em></span>がある場合は<code class="function">foreign_buffer_get_buffer()</code> を必ずお使いください。<code class="function">foreign_buffer_get_buffer()</code> then reads this pointer and transforms it into a handle, that can then be used by other functions from the <code class="function">foreign_buffer_get</code>-family. これらの引数は:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>バッファのハンドルは、例えば外部関数の呼び出しで事前に補填されます。</p>
                  </li>
                  <li class="listitem">
                    <p>バッファのオフセットはバッファの先頭です。一般にプラットホーム上において、ポインタはすべて長さは同じであるため、 (第三の) length 引数は不要です。</p>
                  </li>
                </ul>
              </div>
              <p>概要にある用例集の <span class="application">libcurl</span> の用例を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm4151"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_set"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_set — 指定された値をバッファへ格納</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foreign_buffer_set handle$,4,"Hello World"
foreign_buffer_set handle$,6,"long",42
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4164"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_set</code> 外部バッファの構造体へ代入するために使います。It accepts strings (first line in synopsis) and numbers (second line in synopsis) and stores them at the given offset. 引数は:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>バッファのハンドルは、外部関数呼び出しから返されたか割り当てられることがあります。</p>
                  </li>
                  <li class="listitem">
                    <p>An offset, specifying the first byte where the given data will be stored.</p>
                  </li>
                  <li class="listitem">
                    <p>The third argument: If you want to store a string, specify it just here; if you want to store a number, specify its type (e.g. <code class="literal">int</code>).</p>
                  </li>
                  <li class="listitem">
                    <p>A fourth argument is only needed, when you want to store a number; this number needs then to be given here.</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4178"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_set_buffer"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_set_buffer — あるバッファのポインタを別のバッファへ格納</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foreign_buffer_set handle1$,16,handle2$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4191"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_buffer_set_buffer</code> stores a pointer (as in <span class="application">C</span>) to a buffer within another buffer. It accepts a handle to a buffer (<code class="literal">handle2$</code> in the synopsis) and stores it as a pointer at the given offset within the buffer given first (<code class="literal">handle1$</code>). 引数は:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>バッファのハンドルは、外部関数呼び出しから返されたか割り当てられることがあります。</p>
                  </li>
                  <li class="listitem">
                    <p>An offset, specifying the first byte where the pointer to the given buffer will be stored.</p>
                  </li>
                  <li class="listitem">
                    <p>A handle to a buffer whose address (pointer) will be stored within the first buffer.</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4205"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_buffer_size"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_buffer_size() — 外部バッファの容量を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
size = foreign_buffer_size(handle$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4218"></a>
              <h2>概要</h2>
              <p>Return the size of the given buffer; if your handle just encapsulates a null-pointer, this will return 0; if the size is not known (standard for buffers returned from a foreign function call), the size will be -1.</p>
            </div>
            <div class="refsect1">
              <a id="idm4221"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_function_call"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_function_call() — 非 <span class="application">yabasic</span> ライブラリまたは DLL 関数 (数値を返す) の呼び出し</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print foreign_function_call("libtimestwo","int","timestwo","int",3)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4235"></a>
              <h2>概要</h2>
              <p><code class="function">foreign_function_call</code> は外部ライブラリから関数を呼び出します。</p>
              <p>一般に、このようなライブラリの開発や習得で本機能は便利なものです。If you have an external command, that can be called interactively (i.e. from the commandline), you might try the <code class="function"><a class="link" href="#ref_system" title="system()">system</a></code>-function.</p>
              <p>解説は<a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>、背景事情と用例を参照してください。機能と引数の詳細は後述参照。</p>
              <p>この用例では <code class="function">foreign_function_call</code> を用いて標準 <span class="application">C</span> ライブラリから <code class="function">cos</code> 関数を呼び出しています (Unix は <code class="filename">libm.so.6</code>、 Windows は<code class="filename">msvcrt.dll</code>)。</p>
            </div>
            <div class="refsect1">
              <a id="idm4250"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
if peek$("os") = "unix" then
  lib$ = "libm.so.6"
else
  lib$ = "msvcrt.dll"
fi
print foreign_function_call(lib$,"double","cos","double",2)	      
          </pre>
              </div>
              <p>The <code class="function">foreign_function_call</code>-function accepts a variable number of arguments; 3 at minimum, 5 in the example above:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>文字列としてライブラリの名前が入ります。例えば <code class="literal">"libm.so.6"</code>.</p>
                  </li>
                  <li class="listitem">
                    <p>A string describing the type, that the function (specified with the next argument) returns (in the example: <code class="literal">"double"</code>). See below for a list of all such types.</p>
                  </li>
                  <li class="listitem">
                    <p>The name of the function, that should be called (in the example above: <code class="literal">"cos"</code>)</p>
                  </li>
                </ul>
              </div>
              <p>If the external function does not require arguments itself, the three arguments above are everything needed for <code class="function">foreign_function_call</code>. However (as for  <code class="function">cos</code>), if the external function itself requires arguments, than for each of its arguments, two more arguments are needed <code class="function">foreign_function_call</code>:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>A string describing the <span class="emphasis"><em>type</em></span> of the parameter to the external function (in the example: <code class="literal">"double"</code>). See the <a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">overview-section on foreign functions</a> for a list of all such types.</p>
                  </li>
                  <li class="listitem">
                    <p>A value, that can be converted to the specified type (in the example: <code class="literal">2</code>).</p>
                  </li>
                </ul>
              </div>
              <p>With all these arguments specified, <span class="application">yabasic</span> will call the foreign function (in the example: <code class="literal">cos</code>) and return its result; this process can be influenced by specifying <span class="emphasis"><em>options</em></span> (see below).</p>
            </div>
            <div class="refsect1">
              <a id="idm4283"></a>
              <h2>オプション</h2>
              <p>Options can be appended in any number after the string <code class="literal">"options"</code>, e.g. like:</p>
              <div class="informalexample">
                <pre class="programlisting">
	      foreign_function_call(lib$,"double","cos","double",2,"options","error")
	    </pre>
              </div>
              <p>Each option can be preceded with the string <code class="literal">no_</code> to invert its meaning. As given below (i.e. with or without <code class="literal">no_</code>) the values represent the respective default.</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="literal">error</code>
                    </span>
                  </dt>
                  <dd>
                    <p>エラーの場合は (例えば、ライブラリが見つからない)、関数は積極的に報告を行うか (<span class="application">yabasic</span> プログラムを終了するか)？Or should the error silently stored away for later retrieval by <code class="function"><a class="link" href="#ref_peek" title="peek">peek("last_foreign_function_call_okay")</a></code> and <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("last_foreign_function_call_error_text")</a></code> ?</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">no_copy_string_result</code>
                    </span>
                  </dt>
                  <dd>
                    <p>外部関数で文字列値  (<code class="literal">strstr</code> など) を返す場合は、必ず文字列を返す <code class="function"><a class="link" href="#ref_foreign_function_call2" title="foreign_function_call$()">foreign_function_call$</a></code> を呼び出してお使いください。Now, depending on the foreign function invoked, it might be necessary to make a copy of its result before returning it to <span class="application">yabasic</span>. In the case of <code class="literal">strstr</code> this is needed, because it returns just a pointer to part of its input string which will <span class="application">yabasic</span> happily free later on, probably leading to a segfault after.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">no_unload_library</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Normally, after making a call to a foreign function, the named library is kept in memory for further use (see <a class="link" href="#background_ffi" title="背景事情">background</a>). However, sometimes you might want to dismiss the library right after the call; then you may specify this option.</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4320"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a>, <code class="function"><a class="link" href="#ref_system" title="system()">system</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_function_call2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_function_call$() — 非 <span class="application">yabasic</span> ライブラリまたは DLL 関数 (文字列またはバッファを返す) の呼び出し</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=foreign_function_call$("libupper","string","toupper","string","hello world")	    
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4336"></a>
              <h2>概要</h2>
              <p>この関数は <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code> (大部分は解説を参照) などにより外部ライブラリから関数を呼び出します。The only difference is that <code class="function">foreign_function_call$</code> should be used when the foreign function returns a string or a structure (which itself is contained in a buffer, which is represented by a handle, which is a string).</p>
              <p>The arguments are just the same as in <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>, only the second argument (<code class="literal">"string"</code> in the example above) can only be <code class="literal">"string"</code> or <code class="literal">"buffer"</code> in accord to the nature of <code class="function">foreign_function_call$</code>, which itself must return a string.</p>
              <p>Among the options described at <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>, the option <code class="literal">"copy_string_result"</code> can really only be applied here.</p>
            </div>
            <div class="refsect1">
              <a id="idm4353"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_foreign_function_size"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>foreign_function_size() — 外部関数の呼び出しで利用可能な型の容量を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
offset=foreign_function_size("short")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4366"></a>
              <h2>概要</h2>
              <p>この関数は外部関数呼び出しで利用可能な型のサイズを返します (完全なリストは<a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">概要セクション</a>を参照してください)。これは <code class="function"><a class="link" href="#ref_foreign_buffer_set" title="foreign_buffer_set">foreign_buffer_set</a></code> や <code class="function"><a class="link" href="#ref_foreign_buffer_get" title="foreign_buffer_get()">foreign_buffer_get</a></code> でオフセットの計算が必要な時に便利です。</p>
            </div>
            <div class="refsect1">
              <a id="idm4374"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_frn"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>frnbf_ and frnfn_ — <code class="literal">foreign_buffer_</code> と <code class="literal">foreign_function_</code> の短縮形</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print frnfn_size("short")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4389"></a>
              <h2>概要</h2>
              <p>The abbreviations <code class="literal">frnbf_</code> and <code class="literal">frnfn_</code> are just short for <code class="literal">foreign_buffer_</code> and <code class="literal">foreign_function_</code>; you might prefer one over the other; in any case a good editor should make it easy to replace the short form with the long one.</p>
            </div>
            <div class="refsect1">
              <a id="idm4396"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ffi" title="非 yabasic ライブラリまたは DLL 関数との連携">外部関数の概要</a>, <a class="link" href="#top_ffi" title="外部関数インタフェース">関数とコマンド関連の総覧</a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_frac"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>frac() — 数値引数の小数部を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=frac(y)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4409"></a>
              <h2>概要</h2>
              <p>The <code class="function">frac</code>-function takes its argument, removes all the digits to the left of the comma and just returns the digits right of the comma, i.e. the fractional part.</p>
              <p>Refer to the example to learn how to rewrite <code class="function">frac</code> by employing the <code class="function">int</code>-function (which is not suggested anyway).</p>
            </div>
            <div class="refsect1">
              <a id="idm4416"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10
  print frac(sqr(a))
  print sqr(a)-int(sqr(a))
next a
          </pre>
                <p>The example prints the fractional part of the square root of the numbers between 1 and 10. Each result is computed (and printed) twice: Once by employing the <code class="function">frac</code>-function and once by employing the <code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>-function.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4424"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_floor" title="floor()">floor</a></code>, <code class="function"><a class="link" href="#ref_ceil" title="ceil()">ceil</a></code>, <code class="function"><a class="link" href="#ref_round" title="round()">round</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_g"></a>G</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_getbit">getbit$()</a> </span> <span class="refpurpose"> — グラフィックスウィンドウにおいて長方形領域のビットパターンを文字列形式を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_getscreen">getscreen$()</a> </span> <span class="refpurpose"> — テキストターミナルにおいて長方形領域の文字列形式を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_glob">glob()</a> </span> <span class="refpurpose"> — 文字列と単純なパターンが一致するか判定</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_gosub">gosub</a> </span> <span class="refpurpose"> — プログラムの別地点に直行して実行を継続 (後で復帰可能)</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_goto">goto</a> </span> <span class="refpurpose"> — プログラムの別地点に直行して実行を継続 (復帰不可)</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_getbit"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>getbit$() — グラフィックスウィンドウにおいて長方形領域のビットパターンを文字列形式を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=getbit$(10,10,20,20)
a$=getbit$(10,10 to 20,20)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4445"></a>
              <h2>概要</h2>
              <p>The function <code class="function">getbit</code> returns a string, which contains the encoded bit-pattern of a rectangle within graphic window; the four arguments specify two opposite corners of the rectangle. The string returned might later be fed to the <code class="function"><a class="link" href="#ref_putbit" title="putbit">putbit</a></code>-command.  </p>
              <p>The <code class="function">getbit$</code>-function might be used for simple animations (as in the example below).</p>
            </div>
            <div class="refsect1">
              <a id="idm4453"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 40,40
fill circle 20,20,18
circle$=getbit$(0,0,40,40)
close window

open window 200,200
for x=1 to 200
  putbit circle$,x,80
next x
          </pre>
                <p>この用例の主役はウィンドウの左から右へ移動する円です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4458"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_putbit" title="putbit">putbit</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_getscreen"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>getscreen$() — テキストターミナルにおいて長方形領域の文字列形式を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=getscreen$(2,2,20,20)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4471"></a>
              <h2>概要</h2>
              <p>The <code class="function">getscreen$</code> function returns a string representing the area of the screen as specified by its four arguments (which specify two opposite corners). I.e. everything you have printed within this rectangle will be encoded in the string returned (including any colour-information).</p>
              <p>Like most other commands dealing with advanced text output, <code class="function">getscreen$</code> requires, that you have called <code class="function">clear screen</code> before.</p>
            </div>
            <div class="refsect1">
              <a id="idm4478"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen

for a=1 to 1000:
	print color("red") "1";
	print color("green") "2";
	print color("blue") "3";
next a  
screen$=getscreen$(10,10,40,10)
print at(10,10) " 'y' または 'n' を押してください！"
a$=inkey$
putscreen screen$,10,10
          </pre>
                <p>This program fills the screen with colored digits and afterwards asks the user for a choice (<code class="computeroutput"> Please press 'y' or 'n' ! </code>). Afterwards the area of the screen, which has been overwritten by the question will be restored with its previous contents, whhch had been saved via <code class="function">getscreen$</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4485"></a>
              <h2>関連</h2>
              <p>
                <code class="function">putscreen$</code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_glob"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>glob() — 文字列と単純なパターンが一致するか判定</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (glob(string$,pattern$)) …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4497"></a>
              <h2>概要</h2>
              <p><code class="function">glob</code> 関数は文字列と(グロブ・)パターンを引数として得た後に、文字列とパターンと一致するか判定します。However <code class="function">glob</code> does <span class="emphasis"><em>not</em></span> employ the powerful rules of regular expressions; rather it has only two <span class="emphasis"><em>special</em></span> characters: <code class="computeroutput">*</code> (which matches any number (even zero) of characters) and <code class="computeroutput">?</code> (which matches exactly a single character).</p>
            </div>
            <div class="refsect1">
              <a id="idm4506"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10
  read string$,pattern$
  if (glob(string$,pattern$)) then
    print string$," 一致 ",pattern$
  else
    print string$," 不一致 ",pattern$
  endif
next a

data "abc","a*"
data "abc","a?"
data "abc","a??"
data "abc","*b*"
data "abc","*"
data "abc","???"
data "abc","?"
data "abc","*c"
data "abc","A*"
data "abc","????"
          </pre>
                <p>このプログラムは文字列 <code class="computeroutput">abc</code> に対する各種パターンの確認と結果を表示します。結果は:</p>
                <pre class="screen">
abc 一致 a*
abc 不一致 a?
abc 一致 a??
abc 一致 *b*
abc 一致 *
abc 一致 ???
abc 不一致 ?
abc 一致 *c
abc 不一致 A*
abc 不一致 ????
</pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4513"></a>
              <h2>関連</h2>
              <p>関連コマンドはありません。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_gosub"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>gosub — プログラムの別地点に直行して実行を継続 (後で復帰可能)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
gosub foo

…

label foo
…
return
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4524"></a>
              <h2>概要</h2>
              <p><code class="function">gosub</code> remembers the current position within your program and then passes the flow of execution to another point (which is normally marked with a <code class="function"><a class="link" href="#ref_label" title="label">label</a></code>). Later, when a <code class="function">return</code>-statement is encountered, the execution is resumed at the previous location.</p>
              <p><code class="function">gosub</code> はコードの呼び出しで使う古典コマンドであり、プログラムの各場所で実行する必要があります。yabasic には<span class="emphasis"><em>サブルーチン</em></span>が実装されています。これを使うと非常に柔軟な方法で目的を達成できます。故に <code class="function">gosub</code> は時代遅れの遺物であると考えるべきです。</p>
            </div>
            <div class="refsect1">
              <a id="idm4535"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "終了しますか？"
gosub ask
if (r$="y") exit

label ask
input " 'y' または 'n' を押して yes か no で答えてください: ",r$
return
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4539"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_return" title="return">return</a></code>, <code class="function"><a class="link" href="#ref_goto" title="goto">goto</a></code>, <code class="function"><a class="link" href="#ref_sub" title="sub">sub</a></code>, <code class="function"><a class="link" href="#ref_label" title="label">label</a></code>, <code class="function"><a class="link" href="#ref_on_gosub" title="on gosub">on gosub</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_goto"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>goto — プログラムの別地点に直行して実行を継続 (復帰不可)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
goto foo

…

label foo
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4560"></a>
              <h2>概要</h2>
              <p>The <code class="function">goto</code>-statement passes the flow of execution to another point within your program (which is normally marked with a <code class="function"><a class="link" href="#ref_label" title="label">label</a></code>).</p>
              <p>通常、 <code class="function">goto</code>  時代遅れで有害なものであると認識してください。とはいえ yabasic ではループ  (例えば<code class="function">while</code> や <code class="function">for</code>)  の早期脱出で使うことは良い使い方であると考えられます。しかし、<code class="function">goto</code> ステートメントではサブルーチンから<span class="emphasis"><em>抜け出せないこと</em></span>に注意してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm4572"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "なにかキーを押すと続行します。"
print "(プログラムは 10 秒以内であれば続行します)"
for a=1 to 10
  if (inkey$(1)&lt;&gt;"") then goto done
next a
label done
print "Hello World !"
          </pre>
                <p>ここでは <code class="function">for</code> ループから早期奪取するために <code class="function">goto</code> ステートメントを使います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4579"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_gosub" title="gosub">gosub</a></code>, <code class="function"><a class="link" href="#ref_on_goto" title="on goto">on goto</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_h"></a>H</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_hex">hex$()</a> </span> <span class="refpurpose"> — 数値を十六進数へ変換</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_hex"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>hex$() — 数値を十六進数へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print hex$(foo)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4596"></a>
              <h2>概要</h2>
              <p><code class="function">hex$</code> 関数は数値から十六進数形式の文字列へ変換します。<code class="function">hex$</code> は <code class="function">dec</code> の逆関数です。</p>
            </div>
            <div class="refsect1">
              <a id="idm4602"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open 1,"foo"
while !eof(1)
  print right$("0"+hex$(peek(1)),2)," ";
  i=i+1
  if (mod(i,10)=0) print
end while
print
          </pre>
                <p>このプログラムはファイル <code class="computeroutput">foo</code> を読み取り後に、その内容を <code class="function">hex</code> 関数により <span class="emphasis"><em>十六進数</em></span>ダンプで表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4610"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_dec" title="dec()">dec</a></code><code class="function"><a class="link" href="#ref_bin" title="bin$()">bin</a></code>, <a class="link" href="#top_numbers_with_base_2_or_16" title="二進数・十六進数の数値">二進数・十六進数の数値</a></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_i"></a>I</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_if">if</a> </span> <span class="refpurpose"> — 結果に従い、条件の評価とステートメントの実行するか否かを判定</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_import">import</a> </span> <span class="refpurpose"> — ライブラリのインポート</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_inkey">inkey$</a> </span> <span class="refpurpose"> — キーが押されるまで待機</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_input">input</a> </span> <span class="refpurpose"> — ユーザ (またはファイル) からの入力を読み取り後に変数へ代入</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_instr">instr()</a> </span> <span class="refpurpose"> — 第二引数で指定されたものを第一引数から検索します。発見時は位置を返します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_int">int()</a> </span> <span class="refpurpose"> — 単一引数の整数部を求めます</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_if"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>if — 結果に従い、条件の評価とステートメントの実行するか否かを判定</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (…) then
  …
endif

if (…) …

if (…) then
  …
else
  …
endif

if (…) then
  …
elsif (…)
  …
elsif (…) then
  …
else
  …
endif
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4628"></a>
              <h2>概要</h2>
              <p>The <code class="function">if</code>-statement is used to evaluate a conditions and take actions accordingly. (As an aside, please note that there is no real difference between <a class="link" href="#ref_conditions_and_expressions" title="分岐条件と式">conditions and expressions</a>.)</p>
              <p><code class="function">if</code> ステートメントの主な書式は二通りです:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p><code class="function">then</code> キーワードを<span class="emphasis"><em>使わない</em></span><span class="emphasis"><em>一行</em></span>形式: </p>
                    <pre class="programlisting">if (…) …</pre>
                    <p>  This form evaluates the condition and if the result is <code class="constant">true</code> executes all commands (separated by colons) upt to the end of the line. There is neither an <code class="function">endif</code> keyword nor an <code class="function">else</code>-branch.</p>
                  </li>
                  <li class="listitem">
                    <p><code class="function">then</code> キーワードを<span class="emphasis"><em>使う</em></span><span class="emphasis"><em>複数行</em></span>形式: </p>
                    <pre class="programlisting">if (…) then … elsif (…) … else … endif</pre>
                    <p>  (where <code class="function">elsif</code> and <code class="function">else</code> are optional, whereas <code class="function">endif</code> is not.</p>
                    <p>プログラムの必要条件により、指定しても構いません:</p>
                    <div class="itemizedlist">
                      <ul class="itemizedlist" style="list-style-type: circle; ">
                        <li class="listitem">
                          <p><code class="function">elsif(…)</code>, which specifies a condition, that will be evaluated only if the condition(s) within <code class="function">if</code> or any preceding <code class="function">elsif</code> did not match.</p>
                        </li>
                        <li class="listitem">
                          <p><code class="function">else</code>, which introduces a sequence of commands, that will be executed, if none of the conditions above did match.  </p>
                        </li>
                        <li class="listitem">
                          <p><code class="function">if</code> ステートメントの終点には <code class="function">endif</code> が必要です。</p>
                        </li>
                      </ul>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4668"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "1 から 4 までの数字を入力してください: " a
if (a&lt;=1 or a&gt;=4) error "ダメ、間違いです！"
if (a=1) then
  print "one"
elsif (a=2)
  print "two"
elsif (a=3)
  print "three"
else
  print "four"
endif
          </pre>
                <p>1 ～ 4 までの入力値はテキストとして表示するだけです  (<code class="computeroutput">one</code>, <code class="computeroutput">two</code>, …)。The example demonstrates both forms (<span class="emphasis"><em>short</em></span> and <span class="emphasis"><em>long</em></span>) of the <code class="function">if</code>-statement (Note however, that the same thing can be done, probably somewhat more elegant, with the <code class="function">switch</code>-statement).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4679"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_else" title="else">else</a></code>, <code class="function"><a class="link" href="#ref_elsif" title="elsif">elsif</a></code>, <code class="function"><a class="link" href="#ref_endif" title="endif">endif</a></code>, <code class="function"><a class="link" href="#ref_conditions_and_expressions" title="分岐条件と式">分岐条件と式</a></code>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_import"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>import — ライブラリのインポート</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
import foo
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4698"></a>
              <h2>概要</h2>
              <p><code class="function">import</code> ステートメントはライブラリをインポートします。It expects a single argument, which must be the name of a library (without the trailing <code class="computeroutput">.yab</code>). This library will then be read and parsed and its subroutines (and variables) will be made available within the importing program. Most of the time this will be the main program, but libraries my also import and use other libraries.</p>
              <p>最初に以下の順序でライブラリがある場所を検索します:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>現在のディレクトリ。すなわち、 <span class="application">yabasic</span> を起動したディレクトリ。</p>
                  </li>
                  <li class="listitem">
                    <p>メインプログラムが存在するディレクトリ。メインプログラムのパスを指定する場合、これは最初のディレクトリとは異なります。例えば、 <code class="literal">yabasic foo/bar.yab</code> です。</p>
                  </li>
                  <li class="listitem">
                    <p>Finally, libraries are searched within a special directory, whose exact location depends on your system or options when invoking <span class="application">yabasic</span>. 一般的な値として Unix は <code class="filename">/usr/lib</code> であり、 Windows は <code class="filename">C:\yabasic\lib</code>です。<strong class="userinput"><code>yabasic --help</code></strong> を起動すると正しいディレクトリが表示されます。このディレクトリの所在は <code class="literal">--librarypath</code> オプションで変更します (<a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">オプション</a>を参照)。</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4719"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <p>Lets say you have a <span class="application">yabasic</span>-program <code class="computeroutput">foo.yab</code>, which imports a library <code class="computeroutput">lib.yab</code>. <code class="computeroutput">foo.yab</code>; this would read:</p>
                <pre class="programlisting">
import lib

rem  これは動く
lib.x(0)

rem  これも動く
x(1)

rem  さらにこれも動く
lib.y(2)

rem  ですが、これは動きません！
y(3)
          </pre>
                <p>さて、ライブラリ <code class="computeroutput">lib.yab</code> で読み取るものは:</p>
                <pre class="programlisting">
rem  このライブラリの範囲外にあるサブルーチン x を手軽に使えるようにします
export sub x(a)
  print a
  return
end sub

rem  このライブラリの外部にある
rem  フルネームを sub y で参照します
sub y(a)
  print a
  return
end sub
</pre>
                <p>このプログラムはエラーになります:</p>
                <p>
</p>
                <pre class="programlisting">
0
1
2
---Error in foo.yab, line 13: can't find subroutine 'y'
---Dump: sub y() called in foo.yab,13
---Error: Program stopped due to an error
</pre>
                <p>

As you may see from the error message, <span class="application">yabasic</span> is unable to find the subroutine <code class="function">y</code> without specifying the name of the library (i.e. <code class="function">lib.y</code>). The reason for this is, that <code class="function">y</code>, other than <code class="function">x</code>, is <span class="emphasis"><em>not</em></span> exported from the library <code class="filename">lib.yab</code> (using the <code class="function">export</code>-statement).

</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4742"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_export" title="export">export</a></code>, <code class="function"><a class="link" href="#ref_sub" title="sub">sub</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_inkey"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>inkey$ — キーが押されるまで待機</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
foo$=inkey$
inkey$
foo$=inkey$(bar)
inkey$(bar)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4757"></a>
              <h2>概要</h2>
              <p><code class="function">inkeys$</code> 関数はユーザがキーボードにあるキー、またはマウスのボタンが押されるまで待機後に、押されたキーを返します。オプションの引数は待機秒数を指定します。省略時、 <code class="function">inkey$</code> は常時待機となります。</p>
              <p>必ず一度でも <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code> を呼び出した後に限り、 <code class="function">inkey$</code> は使用可能です。</p>
              <p>通常のキーにおいて <span class="application">yabasic</span> はキーを返すだけです。例えば e.g. <code class="computeroutput">a</code>, <code class="computeroutput">1</code> または <code class="computeroutput">!</code>. ファンクションキーでは <code class="computeroutput">f1</code>, <code class="computeroutput">f2</code> などを取得します。Other special keys will return these strings respectively: <code class="computeroutput">enter</code>, <code class="computeroutput">backspace</code>, <code class="computeroutput">del</code>, <code class="computeroutput">esc</code>, <code class="computeroutput">scrnup</code> (for <span class="emphasis"><em>screen up</em></span>), <code class="computeroutput">scrndown</code> and <code class="computeroutput">tab</code>. Modifier keys (e.g. <code class="computeroutput">ctrl</code>, <code class="computeroutput">alt</code> or <code class="computeroutput">shift</code>) by themselves can <span class="emphasis"><em>not</em></span> be detected (e.g. if you simultaneously press <code class="computeroutput">shift</code> and '<code class="computeroutput">a</code>', <code class="function">inkey$</code> will return the letter '<code class="computeroutput">A</code>' instead of '<code class="computeroutput">a</code>' of course).</p>
              <p>If a graphical window has been opened (via <code class="function">open window</code>) any mouseclick within this window will be returned by <code class="function">inkey$</code> too. 返された文字列 (例えば <code class="computeroutput">MB1d+0:0028,0061</code>, <code class="computeroutput">MB2u+0:0028,0061</code> または <code class="computeroutput">MB1d+1:0028,0061</code>) は以下の通りに構成されます: </p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>Every string associated with a mouseclick will start with the fixed string <code class="computeroutput">MB</code></p>
                  </li>
                  <li class="listitem">
                    <p>次の数字 (<code class="computeroutput">1</code>, <code class="computeroutput">2</code> あるいは <code class="computeroutput">3</code>) は押されたマウスボタンを指定します。</p>
                  </li>
                  <li class="listitem">
                    <p>A single letter, <code class="computeroutput">d</code> or <code class="computeroutput">u</code>, specifies, if the mousebutton has been pressed or released: <code class="computeroutput">d</code> stands for <span class="emphasis"><em>down</em></span>, i.e. the mousebutton has been pressed; <code class="computeroutput">u</code> means <span class="emphasis"><em>up</em></span>, i.e. the mousebutton has been released.</p>
                  </li>
                  <li class="listitem">
                    <p>The plus-sign ('<code class="computeroutput">+</code>'), which follows is always fixed.</p>
                  </li>
                  <li class="listitem">
                    <p>The next digit (in the range 0 to 7) encodes the modifier keys pressed, where <code class="computeroutput">1</code> stands for <code class="computeroutput">shift</code>, <code class="computeroutput">2</code> stands for <code class="computeroutput">alt</code> and <code class="computeroutput">4</code> stands for <code class="computeroutput">ctrl</code>.</p>
                  </li>
                  <li class="listitem">
                    <p>The next four digits (e.g. <code class="computeroutput">0028</code>) contain the x-position, where the mousebutton has been pressed.</p>
                  </li>
                  <li class="listitem">
                    <p>後続のカンマは必ず不定となります。</p>
                  </li>
                  <li class="listitem">
                    <p>The last four digits (e.g. <code class="computeroutput">0061</code>) contain the y-position, where the mousebutton has been pressed.</p>
                  </li>
                </ul>
              </div>
              <p>All those fields are of fixed length, so you may use functions like <code class="function">mid$</code> to extract certain fields. However, note that with <code class="function">mousex</code>, <code class="function">mousey</code>, <code class="function">mouseb</code> and <code class="function">mousemod</code> there are specialized functions to return detailed information about the mouseclick. Finally it should be noted, that <code class="function">inkey$</code> will only register mouseclicks within the graphic-window; mouseclicks in the text-window cannot be detected.</p>
              <p><code class="function">inkey$</code> のオプション引数としてタイムアウト秒数を指定可能です。指定秒数内にキーが押されない場合は空文字列が返されます。タイムアウト引数の省略時は <code class="function">inkey$</code> で常時待機となります。</p>
            </div>
            <div class="refsect1">
              <a id="idm4842"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
open window 100,100
print "任意のキー、または 'q' を押すと終了します。"
repeat
  a$=inkey$
  print a$
until a$="q"
          </pre>
                <p>このプログラムは押されたキーを返すだけです。You may use it, to learn, which strings are returned for the special keys on your keyboard (e.g. function-keys).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4847"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code>,<code class="function"><a class="link" href="#ref_mousex" title="mousex">mousex</a></code>, <code class="function"><a class="link" href="#ref_mousey" title="mousey">mousey</a></code>, <code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code>, <code class="function"><a class="link" href="#ref_mousemod" title="mousemod">mousemod</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_input"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>input — ユーザ (またはファイル) からの入力を読み取り後に変数へ代入</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
input a
input a,b,c
input a$
input "Hello" a
input #1 a$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4868"></a>
              <h2>概要</h2>
              <p><code class="function">input</code> reads the new contents of one or many (numeric- or string-) variables, either from the keyboard (i.e. from <span class="emphasis"><em>you</em></span>) or from a file. An optional first string-argument specifies a prompt, which will be issued before reading any contents.</p>
              <p>If you want to read from an open file, you need to specify a hash ('#'), followed by the number, under which the file has been opened.</p>
              <p>Note, that the input is split at spaces, i.e. if you enter a whole line consisting of many space-separated word, the first <code class="function">input</code>-statement will only return the first word; the other words will only be returned on subsequent calls to <code class="function">input</code>; the same applies, if a single <code class="function">input</code> reads multiple variables: The first variable gets only the first word, the second one the second word, and so on. If you don't like this behaviour, you may use <code class="function">line input</code>, which returns a whole line (including embedded spaces) at once.</p>
            </div>
            <div class="refsect1">
              <a id="idm4879"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "Please enter the name of a file to read: " a$
open 1,a$
while !eof(1)
  input #1 b$
  print b$
wend
          </pre>
                <p>If this program is stored within a file <code class="filename">test.yab</code> and you enter this name when prompted for a file to read, you will see this output:</p>
                <pre class="screen">Please enter the name of a file to read: t.yab
input
"Please
enter
the
name
of
a
file
to
read:
"
a$
open
1,a$
while
!eof(1)
input
#1
b$
print
b$
wend
</pre>
                <p>
</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4887"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_line_input" title="line input">line input</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_instr"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>instr() — 第二引数で指定されたものを第一引数から検索します。発見時は位置を返します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print instr(a$,b$)
if (instr(a$,b$)) …
pos=instr(a$,b$,x)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4900"></a>
              <h2>概要</h2>
              <p>The <code class="function">instr</code>-functions requires two string arguments and searches the second argument within the first. 第二引数で指定されたものが第一引数の文字列に存在すれば、その位置を返します (1 からカウント)。If it can not be found, the <code class="function">instr</code>-function returns 0; this makes this function usable within the condition of an <code class="function">if</code>-statement (see the example below).</p>
              <p>If you supply a third, numeric argument to the <code class="function">instr</code>-function, it will be used as a starting point for the search. Therefore <code class="function">instr("abcdeabcdeabcde","e",8)</code> will return 10, because the search for an "<code class="literal">e</code>" starts at position 8 and finds the "<code class="literal">e</code>" at position 10 (and not the one at position 5).</p>
            </div>
            <div class="refsect1">
              <a id="idm4911"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "文字列 'cat' があるテキストを入力してください: " a$
if (instr(a$,"cat")) then
  print "よくできました！"
else
  print "入力に cat はいない ..."
endif
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4915"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_rinstr" title="rinstr()">rinstr</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_int"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>int() — 単一引数の整数部を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print int(a)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4928"></a>
              <h2>概要</h2>
              <p><code class="function">int</code> 関数はカンマ以前の数字だけを返します。 <code class="function">int(2.5)</code> は <code class="computeroutput">2</code> を返します。また、 <code class="function">int(-2.3)</code> は <code class="computeroutput">-2</code> を返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm4936"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "1 から 10 までの数値を入力してください: " a
if (a=int(a) and a&gt;=1 and a&lt;=10) then
  print "ありがとう !"
else
  print "お気になさらず ..."
endif
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4940"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code>, <code class="function"><a class="link" href="#ref_floor" title="floor()">floor</a></code>, <code class="function"><a class="link" href="#ref_ceil" title="ceil()">ceil</a></code>, <code class="function"><a class="link" href="#ref_round" title="round()">round</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_l"></a>L</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_label">label</a> </span> <span class="refpurpose"> — <code class="function">goto</code>, <code class="function">gosub</code> または <code class="function">restore</code></span> で使うプログラムの移動位置を指定
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_left">left$()</a> </span> <span class="refpurpose"> — 文字列の左端を返す (<span class="emphasis"><em>または変更</em></span>)</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_len">len()</a> </span> <span class="refpurpose"> — 文字列の長さを返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_line">line</a> </span> <span class="refpurpose"> — 線の描画</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_line_input">line input</a> </span> <span class="refpurpose"> — テキストを一行全体の読み取り後に変数へ代入</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_local">local</a> </span> <span class="refpurpose"> — サブルーチンにおいて変数はローカルであることを指定</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_log">log()</a> </span> <span class="refpurpose"> — 自然対数を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_loop">loop</a> </span> <span class="refpurpose"> — 無限ループの終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_lower">lower$()</a> </span> <span class="refpurpose"> — 文字列を英字小文字へ変換</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_ltrim">ltrim$()</a> </span> <span class="refpurpose"> — 文字列の左端から空白文字を除去</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_label"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>label — <code class="function">goto</code>, <code class="function">gosub</code> または <code class="function">restore</code> で使うプログラムの移動位置を指定</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
label foo

…

goto foo
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4964"></a>
              <h2>概要</h2>
              <p><code class="function">label</code> コマンドはプログラムに特定位置に名前を付けるために使えます。この位置は次のコマンドのどれかで指名します: <code class="function">goto</code>, <code class="function">gosub</code> および <code class="function">restore</code>.</p>
              <p>You may use labels safely within libraries, because a label (e.g. <code class="computeroutput">foo</code>) does not collide with a label with the same name within the main program or within another library; <span class="application">yabasic</span> will not mix them up.</p>
              <p>As an aside, please note, that line numbers are a special (however deprecated) case of labels; see the second example below.</p>
            </div>
            <div class="refsect1">
              <a id="idm4975"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 100
  if (ran(10)&gt;5) goto done
next a
label done

10 for a=1 to 100
20   if (ran(10)&gt;5) goto 40
30 next a
40
          </pre>
                <p>Within this example, the <code class="function">for</code>-loop will probably be left prematurely with a <code class="function">goto</code>-statement. This task is done <span class="emphasis"><em>twice</em></span>: First with labels and then again with line numbers.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm4983"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_gosub" title="gosub">gosub</a></code>, <code class="function"><a class="link" href="#ref_goto" title="goto">goto</a></code>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_left"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>left$() — 文字列の左端を返す (<span class="emphasis"><em>または変更</em></span>)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print left$(a$,2)
left$(b$,3)="foobar"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm4999"></a>
              <h2>概要</h2>
              <p>The <code class="function">left$</code>-function accepts two arguments (a string and a number) and returns the part from the left end of the string, whose length is specified by its second argument. Loosely spoken, it simply returns the requested number of chars from the left end of the given string.</p>
              <p>注意点として、 <code class="function">left$</code> 関数は代入可能です。すなわち、それは代入の左側に表記します。このように <code class="function">left$</code> 関数を用いることで変数の一部を変更することは可能です。注意点として、この方法では文字列の <em>length</em></span> (長さ) は変化しません。すなわち、文字を追加するのではなく、上書きします。用例は後述します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5007"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "yes か no で答えてください: " a$
l=len(a$):a$=lower$(a$):print "あたの答えは ";
if (left$("yes",l)=a$ and l&gt;=1) then
  print "yes"
elsif (left$("no",l)=a$ and l&gt;=1) then
  print "no"
else
  print "?"
endif
          </pre>
                <p>This example asks a simple yes/no question and goes some way to accept even incomplete input, while still being able to reject invalid input.</p>
                <p>This second example demonstrates the capability to <span class="emphasis"><em>assign</em></span> to the <code class="function">left$</code>-function.</p>
                <pre class="programlisting">
a$="Heiho World !"
print a$
left$(a$,5)="Hello"
print a$
</pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5016"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_right" title="right$()">right$</a></code>, <code class="function"><a class="link" href="#ref_mid" title="mid$()">mid$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_len"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>len() — 文字列の長さを返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=len(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5031"></a>
              <h2>概要</h2>
              <p><code class="function">len</code> 関数は単一文字列引数の長さを返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5035"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "パスワードを入力してください: " a$
if (len(a$)&lt;6) error "パスワードが短すぎます！"
          </pre>
                <p>この用例はユーザが入力したパスワードの長さを確認します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5040"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_left" title="left$()">left$</a></code>, <code class="function"><a class="link" href="#ref_right" title="right$()">right$</a></code> and <code class="function"><a class="link" href="#ref_mid" title="mid$()">mid$</a></code>,  </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_line"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>line — 線の描画</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window 100,100
line 0,0,100,100
line 0,0 to 100,100
new curve
line 100,100
line to 100,100

open window 100,100
clear line 0,0,100,100
clear line 0,0 to 100,100
new curve
clear line 100,100
clear line to 100,100
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5057"></a>
              <h2>概要</h2>
              <p><code class="function">line</code> コマンドは線を描画します。Simple as this is, the <code class="function">line</code>-command has a large variety of forms as they are listed in the synopsis above. Lets look at them a little closer:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>A line has a starting and an end point; therefore the <code class="function">line</code>-command (normally) needs four numbers as arguments, representing these two points. This is the first form appearing within the synopsis.  </p>
                  </li>
                  <li class="listitem">
                    <p>You may separate the two points with either '<code class="computeroutput">,</code>' or <code class="function">to</code>, which accounts for the second form of the <code class="function">line</code>-command.</p>
                  </li>
                  <li class="listitem">
                    <p>The <code class="function">line</code>-command may be used to draw a connected sequence of lines with a sequence of commands like <code class="function">line x,y</code>; Each command will draw a line from the point where the last <code class="function">line</code>-command left off, to the point specified in the arguments. Note, that you need to use the command <code class="function">new curve</code> before you may issue such a <code class="function">line</code>-command. 後述の用例を参照してください。</p>
                  </li>
                  <li class="listitem">
                    <p>You may insert the word <code class="function">to</code> for beauty: <code class="function">line to x,y</code>, which does exactly the same as <code class="function">line x,y</code></p>
                  </li>
                  <li class="listitem">
                    <p>Finally, you may choose not to draw, but to erase the lines; this can be done by prepending the phrase <code class="function">clear</code>. This account for all the other forms of the <code class="function">line</code>-command.</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5087"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
line 10,10 to 10,190
line 10,190 to 190,190
new curve
for a=0 to 360
  line to 10+a*180/360,100+60*sin(a*pi/180)
next a
          </pre>
                <p>この用例は正弦曲線を描画します (x と y 軸のオフセットで)。Note, that the first <code class="function">line</code>-command after <code class="function">new curve</code> does not draw anything. 座標のみ保存します。The second iteration of the loop then uses these coordinates as a starting point for the first line.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5094"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_new_curve" title="new curve">new curve</a></code>, <code class="function"><a class="link" href="#ref_close_curve" title="close curve">close curve</a></code>, <code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_line_input"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>line input — テキストを一行全体の読み取り後に変数へ代入</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
line input a
line input a$
line input "Hello" a
line input #1 a$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5111"></a>
              <h2>概要</h2>
              <p>In most respects <code class="function">line input</code> is like the <code class="function"><a class="link" href="#ref_input" title="input">input</a></code>-command: It reads the new contents of a variable, either from keyboard or from a file. However, <code class="function">line input</code> always reads a complete line and assigns it to its variable. <code class="function">line input</code> does not stop reading at spaces and is therefore the best way to read in a string which might contain whitespace. Note, that the final newline is stripped of.</p>
            </div>
            <div class="refsect1">
              <a id="idm5119"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
line input "名前を入力してください (例えば Frodo Beutelin): " a$
print "Hello ",a$
          </pre>
                <p>Note that the usage of <code class="function">line input</code> is essential in this example; a simple <code class="function">input</code>-statement would only return the string up to the first space, e.g. <code class="computeroutput">Frodo</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5127"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_input" title="input">input</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_local"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>local — サブルーチンにおいて変数はローカルであることを指定</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
sub foo()

  local a,b,c$,d(10),e$(5,5)

  …

end sub 
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5140"></a>
              <h2>概要</h2>
              <p>The <code class="function">local</code>-command can (and should be) used to mark a variable (or array) as <span class="emphasis"><em>local</em></span> to the containing subroutine. This means, that a local variable in your subroutine is totally different from a variable with the same name within your main program. Variables which are known everywhere within your program are called <span class="emphasis"><em>global</em></span> in contrast.</p>
              <p>Declaring variables within the subroutine as <span class="emphasis"><em>local</em></span> helps to avoid hard to find bugs; therefore local variables should be used whenever possible.</p>
              <p>注意点として、サブルーチンのパラメータは暗黙的にローカルになります。</p>
              <p>As you may see from the example, local arrays may be created without using the keyword <code class="function">dim</code> (which is required only for global arrays).</p>
            </div>
            <div class="refsect1">
              <a id="idm5151"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
a=1
b=1
print a,b
foo()
print a,b

sub foo()
  local a
  a=2
  b=2
end sub
          </pre>
                <p>This example demonstrates the difference between <code class="function">local</code> and global variables; it produces this output:</p>
                <p>
</p>
                <pre class="screen">1 1
1 2
</pre>
                <p>
</p>
                <p>As you may see, the content of the global variable <code class="varname">a</code> is unchanged after the subroutine <code class="function">foo</code>; this is because the assignment <code class="computeroutput">a=2</code> within the subroutine affects the <span class="emphasis"><em>local</em></span> variable <code class="computeroutput">a</code> only and not the global one. However, the variable <code class="computeroutput">b</code> is never declared local and therefore the subroutine changes the global variable, which is reflected in the output of the second print-statement.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5166"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sub" title="sub">sub</a></code>, <code class="function"><a class="link" href="#ref_static" title="static">static</a></code>, <code class="function"><a class="link" href="#ref_dim" title="dim">dim</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_log"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>log() — 自然対数を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a=log(x)
a=log(x,base)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5183"></a>
              <h2>概要</h2>
              <p><code class="function">log</code> 関数は第一引数の対数を求めます。オプションの第二引数には対数の底値を指定します。第二引数省略時は、底は <span class="emphasis"><em>オイラー</em></span>定数 2.71828… であると見なされます。</p>
            </div>
            <div class="refsect1">
              <a id="idm5188"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
for x=10 to 190 step 10:for y=10 to 190 step 10
  r=3*log(1+x,1+y)
  if (r&gt;10) r=10
  if (r&lt;1) r=1
  fill circle x,y,r
next y:next x
          </pre>
                <p>これとは別にいい感じのプロットを描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5193"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_exp" title="exp()">exp</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_loop"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>loop — 無限ループの終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
do
  …
loop
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5206"></a>
              <h2>概要</h2>
              <p>The <code class="function">loop</code>-command marks the ends of a loop (which is started by <code class="function">do</code>), wherein all statements within the loop are repeated forever. In this respect the <code class="function">do loop</code>-loop is infinite, however, you may leave it anytime via <code class="function">break</code> or <code class="function">goto</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm5214"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "こんにちわ、 2 が出るまでサイコロを振り続けます…"
do
  r=int(ran(6))+1
  print r
  if (r=2) break
loop
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5218"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_do" title="do">do</a></code>, <code class="function"><a class="link" href="#ref_for" title="for">for</a></code>, <code class="function"><a class="link" href="#ref_repeat" title="repeat">repeat</a></code>, <code class="function"><a class="link" href="#ref_while" title="while">while</a></code>, <code class="function"><a class="link" href="#ref_break" title="break">break</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_lower"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>lower$() — 文字列を英字小文字へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
l$=lower$(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5239"></a>
              <h2>概要</h2>
              <p><code class="function">lower$</code> 関数は引数として単体文字列の取得後に全体を小文字へ変換します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5243"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "パスワードを入力してください: " a$
if (a$=lower$(a$)) error "パスワードに大文字・小文字は併用できません！"
          </pre>
                <p>この用例はパスワードの問い合わせを行い、得た文字列が本当に小文字であるか確認します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5248"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_upper" title="upper$()">upper$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_ltrim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>ltrim$() — 文字列の左端から空白文字を除去</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=ltrim$(b$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5261"></a>
              <h2>概要</h2>
              <p><code class="function">ltrim$</code> 関数は文字列の左端にある空白文字をすべて除去したものを返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5265"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "'yes' か 'no' で答えてください : " a$
a$=lower$(ltrim$(rtrim$(a$)))
if (len(a$)&gt;0 and a$=left$("yes",len(a$))) then
  print "Yes ..."
else
  print "No ..."
endif
          </pre>
                <p>This example prompts for an answer and removes any spaces, which might precede the input; therefore it is even prepared for the (albeit somewhat pathological case, that the user first hits <span class="emphasis"><em>space</em></span> before entering his answer.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5271"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_rtrim" title="rtrim$()">rtrim$</a></code>, <code class="function"><a class="link" href="#ref_trim" title="trim$()">trim$</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_m"></a>M</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_max">max()</a> </span> <span class="refpurpose"> — 引数一組のうち大きいほうを返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mid">mid$()</a> </span> <span class="refpurpose"> — 文字列に存在する文字を返す (<span class="emphasis"><em>または変更</em></span>) </span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_min">min()</a> </span> <span class="refpurpose"> — 引数一組のうち小さいほうを返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mod">mod</a> </span> <span class="refpurpose"> — 除算の剰余を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mouseb">mouseb</a> </span> <span class="refpurpose"> — <code class="function">inkey$</code> で返された文字列からマウスボタンの状態を取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mousemod">mousemod</a> </span> <span class="refpurpose"> — マウスがクリックされた時の修飾キーの状態を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mousex">mousex</a> </span> <span class="refpurpose"> — マウスがクリックされた場所の X 座標を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_mousey">mousey</a> </span> <span class="refpurpose"> — マウスがクリックされた場所の Y 座標を返す</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_max"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>max() — 引数一組のうち大きいほうを返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print max(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5288"></a>
              <h2>概要</h2>
              <p>引数一組のうち<span class="emphasis"><em>大きい</em></span>ほうを返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5292"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
dim m(10)
for a=1 to 1000
  m=0
  For b=1 to 10
    m=max(m,ran(10))
  next b
  m(m)=m(m)+1
next a

for a=1 to 9
  print a,": ",m(a)
next a
          </pre>
                <p>Within the inner <code class="function">for</code>-loop (the one with the loop-variable <code class="varname">b</code>), the example computes the maximum of 10 random numbers. The outer loop (with the loop variable <code class="varname">a</code>) now repeats this process 1000 times and counts, how often each maximum appears. The last loop finally reports the result.</p>
                <p>Now, the interesting question would be, which will be approached, when we increase the number of iterations from thousand to infinity. Well, maybe someone could just tell me <code class="computeroutput">:-)</code></p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5302"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_min" title="min()">min</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mid"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mid$() — 文字列に存在する文字を返す (<span class="emphasis"><em>または変更</em></span>)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print mid$(a$,2,1)
print mid$(a$,2)
mid$(a$,5,3)="foo"
mid$(a$,5)="foo"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5316"></a>
              <h2>概要</h2>
              <p>The <code class="function">mid$</code>-function requires three arguments: a string and two numbers, where the first number specifies a position within the string and the second one gives the number of characters to be returned; if you omit the third argument, the <code class="function">mid$</code>-function returns all characters up to the end of the string.</p>
              <p>Note, that you may assign to the <code class="function">mid$</code>-function, i.e. <code class="function">mid$</code> may appear on the left hand side of an assignment. In this way it is possible to change a part of the variable used within the <code class="function">mid$</code>-function. Note, that that way the <span class="emphasis"><em>length</em></span> of the string cannot be changed, i.e. characters might be overwritten, but not added. 用例は後述します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5326"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "文字列を入力してください: " a$
for a=1 to len(a$)
  if (instr("aeiou",lower$(mid$(a$,a,1)))) mid$(a$,a,1)="e"
next a
print "When you turn everything to lower case and"
print "replace every vowel with 'e', your input reads:"
print
print a$
          </pre>
                <p>This example transforms the input string a bit, using the <code class="function">mid$</code>-function to retrieve a character from within the string as well as to change it.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5332"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_left" title="left$()">left$</a></code> と <code class="function"><a class="link" href="#ref_right" title="right$()">right$</a></code>.</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_min"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>min() — 引数一組のうち小さいほうを返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print min(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5347"></a>
              <h2>概要</h2>
              <p>引数一組のうち<span class="emphasis"><em>小さい</em></span>ほうを返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5351"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
dim m(10)
for a=1 to 1000
  m=min(ran(10),ran(10))
  m(m)=m(m)+1
next a

for a=1 to 9
  print a,": ",m(a)
next a
          </pre>
                <p>For each iteration of the loop, the lower of two random number is recorded. 結果を表示後に終了します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5356"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_max" title="max()">max</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mod"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mod — 除算の剰余を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print mod(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5369"></a>
              <h2>概要</h2>
              <p><code class="function">mod</code> 関数は引数同士を除算後に剰余を求めます。備考として、 <code class="literal">a/b-int(a/b)</code> と <code class="literal">mod(a,b)</code> は必ず等価になります。</p>
            </div>
            <div class="refsect1">
              <a id="idm5375"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
print at(10,10) "しばらくお待ちください ";
p$="-\|/"
for a=1 to 100
  rem  ... do something lengthy here, or simply sleep :-)
  pause(1)
  print at(22,10) mid$(p$,1+mod(a,4))
next a
          </pre>
                <p>This example executes some time consuming action within a loop (in fact, it simply sleeps) and gives the user some indication of progress by displaying a rotating bar (that's where the <code class="function">mod</code>-function comes into play).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5381"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code>, <code class="function"><a class="link" href="#ref_round" title="round()">round</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mouseb"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mouseb — <code class="function">inkey$</code> で返された文字列からマウスボタンの状態を取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
inkey$
print mouseb()
print mouseb
a$=inkey$
print mouseb(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5399"></a>
              <h2>概要</h2>
              <p>The <code class="function">mouseb</code>-function is a helper function for decoding part of the (rather complicated) strings, which are returned by the <code class="function">inkey$</code>-function. If a mousebutton has been pressed, the <code class="function">mouseb</code>-function returns the number (1,2 or 3) of the mousebutton, when it is pressed and returns its negative (-1,-2 or -3), when it is released.</p>
              <p>The <code class="function">mouseb</code>-function accepts zero or one arguments. A single argument should be a string returned by the <code class="function">inkey$</code>-function; if <code class="function">mouseb</code> is called without any arguments, it returns the values from the last call to <code class="function">inkey$</code>, which are stored implicitly and internally by <span class="application">yabasic</span>.</p>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p>Note however, that the value returned by the <code class="function">mouseb</code>-function does <span class="emphasis"><em>not</em></span> reflect the <span class="emphasis"><em>current</em></span> state of the mousebuttons. It rather extracts the information from the string passed as an argument (or from the last call to the <code class="function">inkey$</code>-function, if no argument is passed). So the value returned by <code class="function">mouseb</code> reflects the state of the mousebuttons at the time the <code class="function">inkey$</code>-function has been called; as opposed to the time the <code class="function">mouseb</code>-function is called.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5420"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
clear screen
print "線を描いてください。" 
print "始点で左マウスボタンを押したまま、"
print "終点でマウスボタンを話してください"
do
  if (mouseb(release$)=1) press$=release$
  release$=inkey$
  if (mouseb(release$)=-1) then
    line mousex(press$),mousey(press$) to mousex(release$),mousey(release$)
  endif
loop
          </pre>
                <p>This is a maybe the most simplistic line-drawing program possible, catching presses as well as releases of the first mousebutton.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5425"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_inkey" title="inkey$">inkey$</a></code>, <code class="function"><a class="link" href="#ref_mousex" title="mousex">mousex</a></code>, <code class="function"><a class="link" href="#ref_mousey" title="mousey">mousey</a></code> および <code class="function"><a class="link" href="#ref_mousemod" title="mousemod">mousemod</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mousemod"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mousemod — マウスがクリックされた時の修飾キーの状態を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
inkey$
print mousemod()
print mousemod
a$=inkey$
print mousemod(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5444"></a>
              <h2>概要</h2>
              <p>The <code class="function">mousemod</code>-function is a helper function for decoding part of the (rather complicated) strings, which are returned by the <code class="function">inkey$</code>-function if a mousebutton has been pressed. It returns the state of the keyboard modifiers (<code class="literal">shift</code>, <code class="literal">ctrl</code> or <code class="literal">alt</code>): If the <code class="literal">shift</code>-key is pressed, <code class="function">mousemod</code> returns 1, for the <code class="literal">alt</code>-key 2 and for the <code class="literal">ctrl</code>-key 4. If more than one key is pressed, the sum of these values is returned, e.g. <code class="function">mousemod</code> returns 5, if <code class="literal">shift</code> and <code class="literal">ctrl</code> are pressed simultaneously.</p>
              <p>The <code class="function">mousemod</code>-function accepts zero or one arguments. A single argument should be a string returned by the <code class="function">inkey$</code>-function; if <code class="function">mousemod</code> is called without any arguments, it returns the values from the last call to <code class="function">inkey$</code> (which are stored implicitly and internally by yabasic).</p>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p><code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code> 関数の備考欄もご確認ください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5468"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
clear screen
do
  a$=inkey$
  if (left$(a$,2)="MB") then
    x=mousex(a$)
    y=mousey(a$)
    if (mousemod(a$)=0) then
      circle x,y,20
    else
      fill circle x,y,20
    endif
  endif
loop
          </pre>
                <p>This program draws a circle, whenever a mousebutton is pressed; the circles are filled, when any modifier is pressed, and empty if not.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5473"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_inkey" title="inkey$">inkey$</a></code>, <code class="function"><a class="link" href="#ref_mousex" title="mousex">mousex</a></code>, <code class="function"><a class="link" href="#ref_mousey" title="mousey">mousey</a></code> および <code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mousex"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mousex — マウスがクリックされた場所の X 座標を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
inkey$
print mousex()
print mousex
a$=inkey$
print mousex(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5492"></a>
              <h2>概要</h2>
              <p>The <code class="function">mousex</code>-function is a helper function for decoding part of the (rather complicated) strings, which are returned by the <code class="function">inkey$</code>-function; It returns the x-position of the mouse as encoded within its argument.</p>
              <p>The <code class="function">mousex</code>-function accepts zero or one arguments. A single argument should be a string returned by the <code class="function">inkey$</code>-function; if <code class="function">mousex</code> is called without any arguments, it returns the values from the last call to <code class="function">inkey$</code> (which are stored implicitly and internally by yabasic).</p>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p><code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code> 関数の備考欄もご確認ください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5506"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
clear screen
do
  a$=inkey$
  if (left$(a$,2)="MB") then
    line mousex,0 to mousex,200
  endif
loop
          </pre>
                <p>この用例ではマウスのボタンが押された座標に垂直線を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5511"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_inkey" title="inkey$">inkey$</a></code>, <code class="function"><a class="link" href="#ref_mousemod" title="mousemod">mousemod</a></code>, <code class="function"><a class="link" href="#ref_mousey" title="mousey">mousey</a></code> および <code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_mousey"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>mousey — マウスがクリックされた場所の Y 座標を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
inkey$
print mousey()
print mousey
a$=inkey$
print mousey(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5530"></a>
              <h2>概要</h2>
              <p>The <code class="function">mousey</code>-function is a helper function for decoding part of the (rather complicated) strings, which are returned by the <code class="function">inkey$</code>-function. <code class="function">mousey</code> returns the y-position of the mouse as encoded within its argument.</p>
              <p>The <code class="function">mousey</code>-function accepts zero or one arguments. A single argument should be a string returned by the <code class="function">inkey$</code>-function; if <code class="function">mousey</code> is called without any arguments, it returns the values from the last call to <code class="function">inkey$</code> (which are stored implicitly and internally by yabasic).</p>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p><code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code> 関数の備考欄もご確認ください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5545"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
clear screen
do
  a$=inkey$
  if (left$(a$,2)="MB") then
    line 0,mousey to 200,mousey
  endif
loop
          </pre>
                <p>This example draws horizontal lines at the position, where the mousebutton has been pressed.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5550"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_inkey" title="inkey$">inkey$</a></code>, <code class="function"><a class="link" href="#ref_mousemod" title="mousemod">mousemod</a></code>, <code class="function"><a class="link" href="#ref_mousey" title="mousey">mousex</a></code> および <code class="function"><a class="link" href="#ref_mouseb" title="mouseb">mouseb</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_n"></a>N</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_new_curve">new curve</a> </span> <span class="refpurpose"> — <code class="function">line</code> コマンドで描画される曲線の始点です</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_next">next</a> </span> <span class="refpurpose"> —  for ループの終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_logical_not">not</a> </span> <span class="refpurpose"> — 論理評価式の否定。 <code class="function">!</code> として記述可能</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_numparams">numparams</a> </span> <span class="refpurpose"> — サブルーチンに渡されたパラメータ数を返す</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_new_curve"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>new curve — <code class="function">line</code> コマンドで描画される曲線の始点です</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
new curve
line to x,y
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5572"></a>
              <h2>概要</h2>
              <p>The <code class="function">new curve</code>-function starts a new sequence of lines, that will be drawn by repeated <code class="function">line to</code>-commands.</p>
            </div>
            <div class="refsect1">
              <a id="idm5577"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
ellipse(100,50,30,60)
ellipse(150,100,60,30)
sub ellipse(x,y,xr,yr)
  new curve
  for a=0 to 2*pi step 0.2
    line to x+xr*cos(a),y+yr*sin(a)
  next a
  close curve
end sub
  
          </pre>
                <p>この用例は楕円を描画するサブルーチンとして <code class="function">ellipse</code> を定義します。Within this subroutine, the ellipse is drawn as a sequence of lines started with the <code class="function">new curve</code> command and closed with <code class="function">close curve</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5585"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_close_curve" title="close curve">close curve</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_next"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>next — for ループの終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
for a=1 to 10
next a
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5600"></a>
              <h2>概要</h2>
              <p><code class="function">next</code> キーワードは <code class="function">for</code> ループの終点です。All statements up to the <code class="function">next</code>-keyword will be repeated as specified with the <code class="function">for</code>-clause. Note, that the name of the variable is optional; so instead of <code class="literal">next a</code> you may write <code class="literal">next</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm5609"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 300000
  for b=1 to 21+20*sin(pi*a/20)
    print "*";
  next b
  print
  sleep 0.1
next a
          </pre>
                <p>この用例は居眠りしたくなるまで正弦曲線を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5614"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_for" title="for">for</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_logical_not"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>not — 論理評価式の否定。 <code class="function">!</code> として記述可能</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if not a&lt;b then …
bad=!okay
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5628"></a>
              <h2>概要</h2>
              <p>The keyword <code class="function">not</code> (or <code class="function">!</code> for short) is mostly used within conditions (e.g. within <code class="function">if</code>- or <code class="function">while</code>-statements). There it is employed to negate the condition or expression (i.e. turn <code class="literal">TRUE</code> into <code class="literal">FALSE</code> and vice versa)</p>
              <p>However <code class="function">not</code> can be used within arithmetic calculations too., simply because there is no difference between arithmetic and logical expressions.</p>
            </div>
            <div class="refsect1">
              <a id="idm5639"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "Please enter three ascending numbers: " a,b,c
if (not (a&lt;b and b&lt;c)) error " the numbers you have entered are not ascending ..."
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5643"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_logical_and" title="and"><code class="function">and</code></a>,<a class="link" href="#ref_logical_or" title="論理 or"><code class="function">or</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_numparams"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>numparams — サブルーチンに渡されたパラメータ数を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
sub foo(a,b,c)
  if (numparams=1) …
  …
end sub
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5658"></a>
              <h2>概要</h2>
              <p>Within a subroutine the local variable <code class="varname">numparam</code> or <code class="varname">numparams</code> contains the number of parameters, that have been passed to the subroutine. This information can be useful, because the subroutine may have been called with fewer parameters than actually declared. The number of values that actually have been passed while calling the subroutine, can be found in <code class="function">numparams</code>.</p>
              <p>Note, that arguments which are used in the definition of a subroutine but are left out during a call to it (thereby reducing the value of <code class="function">numparams</code>) receive a value of <code class="literal">0</code> or <code class="literal">""</code> (empty string) respectively.</p>
            </div>
            <div class="refsect1">
              <a id="idm5668"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
a$="123456789"
print part$(a$,4)
print part$(a$,3,7)

sub part$(a$,f,t)
  if (numparams=2) then
    return mid$(a$,f)
  else
    return mid$(a$,f,t-f+1)
  end if
end sub
          </pre>
                <p>この用例を実行すると、 <code class="computeroutput">456789</code> と <code class="computeroutput">34567</code> を表示します。Take a look at the subroutine <code class="function">part$</code>, which returns part of the string which has been passed as an argument. If (besides the string) two numbers are passed, they define the starting and end position of the substring, that will be returned. However, if only one number is passed, the rest of the string, starting from this position will be returned. Each of these cases is recognized with the help of the <code class="function">numparams</code> variable.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5677"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_sub" title="sub">sub</a>
                </code>
              </p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_o"></a>O</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_on_gosub">on gosub</a> </span> <span class="refpurpose"> — 複数存在する <code class="function">gosub</code> の移動先をひとつ選んで直行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_on_goto">on goto</a> </span> <span class="refpurpose"> — 複数存在する <code class="function">goto</code> の移動先をひとつ選んで直行</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_on_interrupt">on interrupt</a> </span> <span class="refpurpose"> — キーボード割り込みの反応を変更</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_open">open</a> </span> <span class="refpurpose"> — ファイルを開く</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_open_printer">open printer</a> </span> <span class="refpurpose"> — グラフィックスを印刷するためにプリンタを開く</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_open_window">open window</a> </span> <span class="refpurpose"> — グラフィックウィンドウを開く</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_logical_or">logical or</a> </span> <span class="refpurpose"> — 分岐条件で用いる論理 or</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_bitwise_or">or()</a> </span> <span class="refpurpose"> — ビット演算で用いる算術 or</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_on_gosub"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>on goto — 複数存在する <code class="function">gosub</code> の移動先をひとつ選んで直行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
on a gosub foo,bar,baz
  …
label foo
  …
return

label bar
  …
return

label baz
  …
return
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5693"></a>
              <h2>概要</h2>
              <p>The <code class="function">on gosub</code> statement uses its numeric argument (the one between <code class="function">on</code> and <code class="function">gosub</code>) to select an element from the list of labels, which follows after the <code class="function">gosub</code>-keyword: If the number is 1, the program does a <code class="function">gosub</code> to the first label; if the number is 2, to the second and, so on. 0 以下の数値ならば、プログラムは最初のラベル位置から実行継続します。数値がラベルの総数よりも大きいならば、最後のラベル位置から実行継続します。すなわち、ある意味で最初と最後のラベルは代替スロットに相当します。</p>
              <p>Note, that the <code class="function">on gosub</code>-command can no longer be considered <span class="emphasis"><em>state of the art</em></span>; people (not me !) may even start to mock you, if you use it.</p>
            </div>
            <div class="refsect1">
              <a id="idm5704"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  print "1 から 3 までの数値を入力してください: "
  print
  input "あなたが選んだのは " a
  on a gosub bad,one,two,three,bad
loop

label bad
  print "いいえ。範囲は 1 から 3 までです"
return

label one
  print "one"
return

label two
  print "two"
return

label three
  print "three"
return
          </pre>
                <p>補足として、これは無効な入力 (1 以下、あるいは 3 以上) は自動検出する方法です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5709"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_goto" title="goto">goto</a></code>, <code class="function"><a class="link" href="#ref_on_gosub" title="on gosub">on gosub</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_on_goto"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>on goto — 複数存在する <code class="function">goto</code> の移動先をひとつ選んで直行</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
on a goto foo,bar,baz
  …
label foo
  …
label bar
  …
label baz
  …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5725"></a>
              <h2>概要</h2>
              <p>The <code class="function">on goto</code> statement uses its numeric argument (the one between <code class="function">on</code> and <code class="function">goto</code> to select an element from the list of labels, which follows after the <code class="function">goto</code>-keyword: If the number is 1, the execution continues at the first label; if the number is 2, at the second, and so on. 0 以下の数値ならば、プログラムは最初のラベル位置から実行継続します。数値がラベルの総数よりも大きいならば、最後のラベル位置から実行継続します。すなわち、ある意味で最初と最後のラベルは代替スロットに相当します。</p>
              <p>Note, that (unlike the <code class="function">goto</code>-command) the <code class="function">on goto</code>-command can no longer be considered <span class="emphasis"><em>state of the art</em></span>; people may (not me !) even start to mock you, if you use it.</p>
            </div>
            <div class="refsect1">
              <a id="idm5736"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
label over
print "知りたい情報を選んでください: "
print
print "  1 -- 時刻の表示"
print "  2 -- 日付の表示"
print "  3 -- 終了"
print
input "選択してください " a
on a goto over,show_time,show_date,terminate,over

label show_time
  print time$()
goto over

label show_date
  print date$()
goto over

label terminate
exit
          </pre>
                <p>Note, how invalid input (a number less than 1, or larger than 3) is automatically detected; in such a case the question is simply issued again.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5741"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_goto" title="goto">goto</a></code>, <code class="function"><a class="link" href="#ref_on_gosub" title="on gosub">on gosub</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_on_interrupt"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>on interrupt — キーボード割り込みの反応を変更</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
on interrupt break
…
on interrupt continue
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5756"></a>
              <h2>概要</h2>
              <p>With the <code class="function">on interrupt</code>-command you may change the way, how yabasic reacts on a keyboard interrupt; it comes in two variants: <code class="function">on interrupt break</code> and <code class="function">on interrupt continue</code>. A keyboard interrupt is produced, if you press <strong class="userinput"><code>ctrl-C</code></strong> on your keyboard; normally (and certainly after you have called <code class="function">on interrupt break</code>), <span class="application">yabasic</span> will terminate with an error message. However after the command <code class="function">on interrupt continue</code> yabasic ignores any keyboard interrupt. This may be useful, if you do not want your program being interruptible during certain critical operations (e.g. updating of files).</p>
            </div>
            <div class="refsect1">
              <a id="idm5766"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "ランダムデータの出力中です。しばらくお待ちください..."
on interrupt continue
open "random.data" for writing as #1
for a=1 to 100
  print #1 ran(100)
  print a," パーセント完了"
  sleep 1
next a
close #1
on interrupt continue
          </pre>
                <p>このプログラムは 100 本の乱数をファイルに出力します。The <code class="function">on interrupt continue</code> command insures, that the program will not be terminated on a keyboard interrupt and the file will be written entirely in any case. The <code class="function">sleep</code>-command just stretches the process artificially to give you a chance to try a <strong class="userinput"><code>ctrl-C</code></strong>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5774"></a>
              <h2>関連</h2>
              <p>関連コマンドはありません。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_open"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>open — ファイルを開く</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open a,"file","r"
open #a,"file","w"
open #a,printer
open "file" for reading as a
open "file" for writing as #a
a=open("file")
a=open("file","r")
if (open(a,"file")) …
if (open(a,"file","w")) …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5785"></a>
              <h2>概要</h2>
              <p>The <code class="function">open</code>-command opens a file for reading or writing or a printer for printing text. <code class="function">open</code> comes in a wide variety of ways; it requires these arguments:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">filenumber</span>
                  </dt>
                  <dd>
                    <p>これは <code class="literal">a</code> または <code class="literal">#a</code> の概要です。In <span class="application">yabasic</span> each file is associated with a number between 1 and a maximum value, which depends on the operating system. 歴史的経緯により filenumber の先頭にはハッシュ記号 ('<code class="literal">#</code>') をつけます。Note, that specifying a filenumber is optional; if it is omitted, the <code class="function">open</code>-function will return a filenumber, which should then be stored in a variable for later reference. This filenumber can be a simple number or an arbitrary complex arithmetic expression, in which case braces might be necessary to save <span class="application">yabasic</span> from getting confused.</p>
                  </dd>
                  <dt>
                    <span class="term">filename</span>
                  </dt>
                  <dd>
                    <p>この概要は上述の <code class="literal">"file"</code> に記載されています。This string specifies the name of the file to open (note the important <a class="link" href="#ref_windows_filenames" title="Windows 版におけるファイル名の指定">caveat</a> on specifying these filenames).</p>
                  </dd>
                  <dt>
                    <span class="term">accessmode</span>
                  </dt>
                  <dd>
                    <p>In the synopsis this is <code class="literal">"r"</code>, <code class="literal">"w"</code>, <code class="literal">for reading</code> or <code class="literal">for writing</code>. This string or clause specifies the mode in which the file is opened; it may be one of:
		
		</p>
                    <div class="variablelist">
                      <dl class="variablelist">
                        <dt>
                          <span class="term">"r"</span>
                        </dt>
                        <dd>
                          <p>読み取り状態でファイルを開く ( <code class="literal">for reading</code> としても記述可能です)。ファイルが存在しなければ、コマンドは失敗します。This mode is the default, i.e. if no mode is specified with the <code class="function">open</code>-command, the file will be opened with this mode.</p>
                        </dd>
                        <dt>
                          <span class="term">"w"</span>
                        </dt>
                        <dd>
                          <p>書き込み状態でファイルを開く ( <code class="literal">for writing</code> としても記述可能です)。ファイルがなければ作成します。</p>
                        </dd>
                        <dt>
                          <span class="term">"a"</span>
                        </dt>
                        <dd>
                          <p>Open the file for appending, i.e. what you write to the file will be appended after its initial contents. ファイルがなければ作成します。</p>
                        </dd>
                        <dt>
                          <span class="term">"b"</span>
                        </dt>
                        <dd>
                          <p>This letter may not appear alone, but may be combined with the other letters (e.g. <code class="literal">"rb"</code>) to open a file in binary mode (as opposed to text mode).</p>
                        </dd>
                      </dl>
                    </div>
                    <p>

	      </p>
                  </dd>
                </dl>
              </div>
              <p>As you may see from the synopsis, the <code class="function">open</code>-command may either be called as a command (without braces) or as a function (with braces). If called as a function, it will return the filenumber or zero if the operation fails. Therefore the <code class="function">open</code>-function may be used within the condition of an <code class="function">if</code>-statement.</p>
              <p>If the <code class="function">open</code>-command fails, you may use <code class="function"><a class="link" href="#ref_peek" title="peek">peek("error")</a></code> to retrieve the exact nature of the error.</p>
              <p>Furthermore note, that there is another, somewhat separate usage of the <code class="function">open</code>-command; if you specify the bareword <code class="literal">printer</code> instead of a filename, the command opens a printer for printing text. Every text (and only text) you print to this file will appear on your printer. Note, that this is very different from printing graphics, as can be done with <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm5849"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open "foo.bar" for writing as #1
print #1 "Hallo !"
close #1
if (not open(1,"foo.bar")) error "読み取り先の 'foo.bar' が開けません"
while not eof(1)
  line input #1 a$
  print a$
wend
          </pre>
                <p>この用例はファイル <code class="literal">foo.bar</code> を開いた後に、一行書き込んでから、再度開いて再び内容を読み取るだけのものです。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5855"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_close" title="close">close</a></code>, <code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek("error")</a></code> and <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_open_printer"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>open printer — グラフィックスを印刷するためにプリンタを開く</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open printer
open printer "file"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5876"></a>
              <h2>概要</h2>
              <p>The <code class="function">open printer</code>-command opens a printer for printing graphics. The command requires, that a graphic window has been opened before. Everything that is drawn into this window will then be sent to the printer too.</p>
              <p>A new piece of paper may be started with the <code class="function">clear window</code>-command; the final (or only) page will appear after the <code class="function">close printer</code>-command.</p>
              <p>Note, that you may specify a filename with <code class="function">open printer</code>; in that case the printout will be sent to a filename instead to a printer. Your program or the user will be responsible for sending this file to the printer afterwards.</p>
              <p>If you use <span class="application">yabasic</span> under Unix, you will need a postscript printer (because <span class="application">yabasic</span> produces postscript output). Alternatively you may use <span class="emphasis"><em>ghostscript</em></span> to transform the postscript file into a form suitable for your printer; but that is beyond the responsibility of <span class="application">yabasic</span>.</p>
            </div>
            <div class="refsect1">
              <a id="idm5890"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
open printer
line 0,0 to 200,200
text 100,100,"Hallo"
close window
close printer
          </pre>
                <p>This example will open a window, draw a line and print some text within; everything will appear on your printer too.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5895"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_close_printer" title="close printer">close printer</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_open_window"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>open window — グラフィックウィンドウを開く</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window x,y
open window x,y,"font"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5908"></a>
              <h2>概要</h2>
              <p><code class="function">open window</code> コマンドは指定されたサイズでウィンドウを開きます。Only one window can be opened at any given moment of time.</p>
              <p>An optional third argument specifies a font to be used for any text within the window. It can however be changed with any subsequent <code class="function"><a class="link" href="#ref_text" title="text">text</a></code>-command.  </p>
            </div>
            <div class="refsect1">
              <a id="idm5915"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=200 to 400 step 10
  open window a,a
  for b=0 to a
    line 0,b to a,b
    line b,0 to b,a
  sleep 0.1
  close window
next a
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5919"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_close_window" title="close window">close window</a></code>, <code class="function"><a class="link" href="#ref_text" title="text">text</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_logical_or"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>or — 分岐条件で用いる論理 or</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if a or b …
while a or b …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5934"></a>
              <h2>概要</h2>
              <p>式同士を結合するために分岐条件 (例えば <code class="function"><a class="link" href="#ref_if" title="if">if</a></code> または <code class="function"><a class="link" href="#ref_while" title="while">while</a></code> の内側) で使います。左側、または右側、あるいは両側とも <code class="constant">true</code> ならば <code class="constant">true</code>, を返します。それ以外は <code class="constant">false</code>  を返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm5944"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "数値を入力してください"
if (a&gt;9 or a&lt;1) print "a は 1 から 9 までの値ではありません"
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5948"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_logical_and" title="and"><code class="function">and</code></a>,<a class="link" href="#ref_logical_not" title="not"><code class="function">bitnot</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_bitwise_or"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>or() — ビット操作で用いる算術 or</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=or(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5963"></a>
              <h2>概要</h2>
              <p>引数一組のビット単位 <code class="function">or</code> を求めるのに使います。Both arguments are treated as binary numbers (i.e. a sequence of digits 0 and 1); a bit of the resulting value will then be 1, if any of its arguments has 1 at this position in their binary representation.</p>
              <p>Note, that both arguments are silently converted to integer values and that negative numbers have their own binary representation and may lead to unexpected results when passed to <code class="function">or</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm5969"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print or(14,3)
          </pre>
                <p>この結果は <code class="computeroutput">15</code> です。This result is clear, if you note, that the binary representation of 14 and 3 are 1110 and 0011 respectively; this will yield 1111 in binary representation or 15 as decimal.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm5975"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_bitwise_and" title="and()"><code class="function">and</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a> and <a class="link" href="#ref_bitnot" title="bitnot()"><code class="function">bitnot</code></a></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_p"></a>P</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_pause">pause</a> </span> <span class="refpurpose"> — 指定秒数経過まで一時停止、休止、待機</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_peek">peek</a> </span> <span class="refpurpose"> — 各種内部情報を取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_peek2">peek$</a> </span> <span class="refpurpose"> — 各種内部情報の文字列で取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_pi">pi</a> </span> <span class="refpurpose"> — 値 <code class="computeroutput">3.14159</code> の定数</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_poke">poke</a> </span> <span class="refpurpose"> — 選択した <span class="application">yabasic</span> の内部情報を変更</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_print">print</a> </span> <span class="refpurpose"> — 端末またはファイルへ出力</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_print_color">print color</a> </span> <span class="refpurpose"> — 色付きで表示</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_print_colour">print colour</a> </span> <span class="refpurpose"> — <code class="function">print color</code> を参照</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_putbit">putbit</a> </span> <span class="refpurpose"> — 文字列形式でエンコードしたピクセルの長方形領域をグラフィックスグラフィックスへ描画</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_putscreen">putscreen</a> </span> <span class="refpurpose"> — 矩形文字領域をテキストターミナルへ描画</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_pause"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>pause — 指定秒数経過まで一時停止、休止、待機</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
pause 5
</pre>
            </div>
            <div class="refsect1">
              <a id="idm5994"></a>
              <h2>概要</h2>
              <p>The <code class="function">pause</code>-command has many different names: You may write <code class="function">pause</code>, <code class="function">sleep</code> or <code class="function">wait</code> interchangeably; whatever you write, <span class="application">yabasic</span> will always do exactly the same.</p>
              <p><code class="function">pause</code> コマンドは指定秒数経過まで一時停止するだけです。This may be a fractional number, so you may well wait less than a second. However, if you try to pause for a smaller and smaller interval (e.g. 0.1 seconds, 0.01 seconds, 0.001 seconds and so on) you will find that at some point <span class="application">yabasic</span> will not wait at all. The minimal interval that can be waited depends on the system (Unix, Windows) you are using.</p>
              <p><code class="function">pause</code> コマンドは中断できません。However, sometimes you may want the wait to be interruptible by simply pressing a key on the keyboard. In such cases you should consider using the <code class="function"><a class="link" href="#ref_inkey" title="inkey$">inkey$</a></code>-function, with a number of seconds as an argument).</p>
            </div>
            <div class="refsect1">
              <a id="idm6009"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
deg=0
do
  maxx=44+40*sin(deg)
  for x=1 to maxx
    print "*";
  next x
  pause 0.1+(maxx*maxx/(4*84*84))
  print
  deg=deg+0.1
loop
          </pre>
                <p>This example draws a sine-curve; due to the <code class="function">pause</code>-statement the speed of drawing varies in the same way as the speed of a ball might vary, if it would roll along this curve under the influence of gravity.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6015"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sleep" title="sleep">sleep</a></code>, <code class="function"><a class="link" href="#ref_wait" title="wait">wait</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_peek"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>peek — 各種内部情報を取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print peek("foo")
a=peek(#1)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6030"></a>
              <h2>概要</h2>
              <p>The <code class="function">peek</code>-function has many different and mostly unrelated uses. It is a kind of grab-bag for retrieving all kinds of numerical information, internal to <span class="application">yabasic</span>. The meaning of the numbers returned be the <code class="function">peek</code>-function depends on the string or number passed as an argument.</p>
              <p><code class="function">peek</code> always returns a number, however the closely related <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$</a></code>-function exists, which may be used to retrieve string information from among the internals of <span class="application">yabasic</span>. Finally note, that some of the values which are retrieved with <code class="function">peek</code> may even be changed, using the <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code>-function.</p>
              <p>There are two variants of the <code class="function">peek</code>-function: One expects an integer, positive number and is described within the first entry of the list below. The other variant expects one of a well defined set of strings as described in the second and all the following entries of the list below.</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="function">peek(a)</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Read a single byte (a number between 0 and 255) from the file <code class="literal">a</code> (which must be open of course). You may use the <code class="function"><a class="link" href="#ref_chr" title="chr$()">chr$</a></code>-function to convert this byte to a string of one character.</p>
                    <p>As a special case, if the argument is zero: read a single byte from stdin.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("argument")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return the number of arguments, that have been passed to <span class="application">yabasic</span> at invocation time. E.g. if <span class="application">yabasic</span> has been called like this: <code class="literal">yabasic foo.yab bar baz</code>, then <code class="function">peek("argument")</code> will return 2. This is because <code class="literal">foo.yab</code> is treated as the name of the program to run, whereas <code class="literal">bar</code> and <code class="literal">baz</code> are considered arguments to the program, which are passed on the command line. <span class="emphasis"><em>Note</em></span>, that for windows-users, who tend to click on the icon (as opposed to starting <span class="application">yabasic</span> on the command line), this <code class="function">peek</code>will mostly return 0.</p>
                    <p><code class="function">peek("argument")</code> 関数は <code class="function">peek("arguments")</code> としても記述可能です。</p>
                    <p>You will want to check out the corresponding function <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("argument")</a></code> to actually <span class="emphasis"><em>retrieve</em></span> the arguments. <span class="emphasis"><em>Note</em></span>, that each call to <code class="function">peek$("argument")</code> reduces the number returned by <code class="function">peek("argument")</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("error")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return a number specifying the nature of the last error in an <code class="function">open</code>- or <code class="function">seek</code>-statement. Normally an error within an <code class="function">open</code>-statement immediately terminates your program with an appropriate error-message, so there is no chance and no need to learn more about the nature of the error. However, if you use <code class="function">open</code> as a condition (e.g. <code class="literal">if (open(#1,"foo")) …</code>) the outcome (success or failure) of the <code class="function">open</code>-operation will determine, if the condition evaluates to <code class="constant">true</code> or <code class="constant">false</code>. If now such an operation fails, your program will not be terminated and you might want to learn the reason for failure. This reason will be returned by <code class="function">peek("error")</code> (as a number) or by <code class="function">peek$("error")</code> (as a string)</p>
                    <p>The table below shows the various error codes; the value returned by <code class="function">peek$("error")</code> explains the nature of the error. 備考として、コード 10,11 と 12 については <code class="function">seek</code> コマンドを参照してください。</p>
                    <div class="table">
                      <a id="idm6099"></a>
                      <p class="title">
                        <strong>Table&nbsp;7.1.&nbsp;エラーコード</strong>
                      </p>
                      <div class="table-contents">
                        <table class="table" summary="エラーコード" border="1">
                          <colgroup>
                            <col />
                            <col />
                            <col />
                          </colgroup>
                          <thead>
                            <tr>
                              <th>
                                <code class="function">peek("error")</code>
                              </th>
                              <th>
                                <code class="function">peek$("error")</code>
                              </th>
                              <th>解説</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td align="center">2</td>
                              <td>
                                <code class="computeroutput">Stream already in use</code>
                              </td>
                              <td>同じ filenumber を二度開かないでください。開く前に <code class="function"><a class="link" href="#ref_close" title="close">close</a></code> で事前に閉じてください。</td>
                            </tr>
                            <tr>
                              <td align="center">3</td>
                              <td>
                                <code class="computeroutput">'x' is not a valid filemode</code>
                              </td>
                              <td>The optional <span class="emphasis"><em>filemode</em></span> argument, which may be passed to the <code class="function"><a class="link" href="#ref_open" title="open">open</a></code>-function, has an invalid value</td>
                            </tr>
                            <tr>
                              <td align="center">4</td>
                              <td>
                                <code class="computeroutput">could not open 'foo'</code>
                              </td>
                              <td><code class="function">open</code> の呼び出しは正常に動作していません。詳しい解説はできません。</td>
                            </tr>
                            <tr>
                              <td align="center">5</td>
                              <td>
                                <code class="computeroutput">reached maximum number of open files</code>
                              </td>
                              <td>オペレーティングシステムで許されているファイル本数よりも多く開いています。</td>
                            </tr>
                            <tr>
                              <td align="center">6</td>
                              <td>
                                <code class="computeroutput">cannot open printer: already printing graphics</code>
                              </td>
                              <td>The commands <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code> and <code class="function"><a class="link" href="#ref_open" title="open">open #1,printer</a></code> both open a printer (refer to their description for the difference). However, only one can be active at a time; if you try to do both at the same time, you will receive this error.</td>
                            </tr>
                            <tr>
                              <td align="center">7</td>
                              <td>
                                <code class="computeroutput">could not open line printer</code>
                              </td>
                              <td>もちろん、単に動作しないだけです。</td>
                            </tr>
                            <tr>
                              <td align="center">9</td>
                              <td>
                                <code class="computeroutput">invalid stream number</code>
                              </td>
                              <td>無効なストリーム番号を使おうとした。例えば <code class="literal">open(-1,"foo")</code></td>
                            </tr>
                            <tr>
                              <td align="center">10</td>
                              <td>
                                <code class="computeroutput">could not position stream x to byte y</code>
                              </td>
                              <td><code class="function"><a class="link" href="#ref_seek" title="seek()">seek</a></code> は正常に動作していません。</td>
                            </tr>
                            <tr>
                              <td align="center">11</td>
                              <td>
                                <code class="computeroutput">stream x not open</code>
                              </td>
                              <td>まだ開いていないにも関わらず、ストリームで <code class="function"><a class="link" href="#ref_seek" title="seek()">seek</a></code> を使おうとした。</td>
                            </tr>
                            <tr>
                              <td align="center">12</td>
                              <td>
                                <code class="computeroutput">seek mode 'x' is none of begin,end,here</code>
                              </td>
                              <td>The argument, which has been passed to <code class="function"><a class="link" href="#ref_seek" title="seek()">seek</a></code> is invalid.</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <br class="table-break" />
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("fontheight")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>グラフィックスウィンドウで使われているフォントの高さを返します。If none is open, this <code class="function">peek</code> will return the height of the last font used or 10, if no window has been opened yet.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("screenheight")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>yabasic を実行しているウィンドウの高さを文字単位で返します。まだ <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code> を呼び出していないため、この <code class="function">peek</code> は端末のサイズに関係なく 0 が返されます。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("screenwidth")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>yabasic を実行しているウィンドウの幅を文字単位で返します。まだ <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code> を呼び出していないため、この <code class="function">peek</code> は端末のサイズに関係なく 0 が返されます。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("secondsrunning")</code>
                    </span>
                  </dt>
                  <dd>
                    <p><span class="application">yabasic</span> 起動後を起点とした経過秒数を返します。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("millisrunning")</code>
                    </span>
                  </dt>
                  <dd>
                    <p><span class="application">yabasic</span> 起動後を起点とした経過ミリ秒数を返します。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("version")</code>
                    </span>
                  </dt>
                  <dd>
                    <p><span class="application">yabasic</span> のバージョン番号を返します。例えば 2.77 です。See also the related <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("version")</a></code>, which returns nearly the same information (plus the patchlevel) as a string, e.g. <code class="literal">"2.77.1"</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("winheight")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>グラフィックウィンドウの高さをピクセル単位で返します。If none is open, this <code class="function">peek</code> will return the height of the last window opened or 100, if none has been opened yet.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("winwidth")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>グラフィックウィンドウの幅をピクセル単位で返します。If none is open, this <code class="function">peek</code> will return the width of the last window opened or 100, if none has been opened yet.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("isbound")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return <code class="constant">true</code>, if the executing <span class="application">yabasic</span>-program is part of a standalone program; see the section about <a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには">creating a <span class="emphasis"><em>standalone</em></span>-program</a> for details.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("version")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>yabasic のバージョン番号を返します (例えば 2.77)。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek("last_foreign_function_call_okay")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Check for error: If passing <code class="literal">"no_error"</code> to <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>, any error (e.g. failure to load the specified library), will <span class="emphasis"><em>not</em></span> terminate your <span class="application">yabasic</span>-program but rather store a descriptive error message away for later retrieval. Later on you may then check <code class="function">peek("last_foreign_function_call_okay")</code> to find out, if something went wrong and retrieve a description with <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("last_foreign_function_call_error_text")</a></code>.</p>
                    <p>この peek の略式形式は <code class="function">peek("last_frnfn_call_okay")</code> です。</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6261"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open "foo" for reading as #1
open "bar" for writing as #2
while not eof(#1)
  poke #2,chr$(peek(#1));
wend
          </pre>
                <p>This program will copy the file <code class="filename">foo</code> byte by byte to <code class="filename">bar</code>.</p>
                <p>Note, that each <code class="function">peek</code> does something entirely different, and only one has been demonstrated above. Therefore you need to make up examples yourself for all the other <code class="function">peek</code>s.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6271"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$</a></code>, <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code>, <code class="function"><a class="link" href="#ref_open" title="open">open</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_peek2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>peek$ — 各種内部情報の文字列で取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print peek$("foo")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6288"></a>
              <h2>概要</h2>
              <p>The <code class="function">peek$</code>-function has many different and unrelated uses. It is a kind of grab-bag for retrieving all kinds of string information, internal to <span class="application">yabasic</span>; the exact nature of the strings returned be the <code class="function">peek$</code>-function depends on the string passed as an argument.</p>
              <p><code class="function">peek$</code> always returns a string, however the closely related <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code>-function exists, which may be used to retrieve numerical information from among the internals of <span class="application">yabasic</span>. Finally note, that some of the values which are retrieved with <code class="function">peek$</code> may even be changed, using the <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code>-function.</p>
              <p>The following list shows all possible arguments to <code class="function">peek$</code>:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="function">peek$("infolevel")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Returns either <code class="literal">"debug"</code>, <code class="literal">"note"</code>, <code class="literal">"warning"</code>, <code class="literal">"error"</code> or <code class="literal">"fatal"</code>, depending on the current infolevel. This value can be specified with an <a class="link" href="#chapter_options" title="Chapter&nbsp;4.&nbsp;yabasic のコマンドラインオプション">option</a> on the command line or changed during the execution of the program with the corresponding <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code>; however, normally only the author of <span class="application">yabasic</span> (<span class="emphasis"><em>me</em></span> !) would want to change this from its default value <code class="literal">"warning"</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("textalign")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Returns one of nine possible strings, specifying the default alignment of text within the graphics-window. The alignment-string returned by this <code class="function">peek</code> describes, how the <code class="function"><a class="link" href="#ref_text" title="text">text</a></code>-command aligns its string-argument with respect to the coordinates supplied. However, this value does <span class="emphasis"><em>not apply</em></span>, if the <code class="function">text</code>-command explicitly specifies an alignment. Each of these strings is two characters long. The first character specifies the horizontal alignment and can be either <code class="literal">l</code>, <code class="literal">r</code> or <code class="literal">c</code>, which stand for <em class="wordasword">left</em>, <em class="wordasword">right</em> or <em class="wordasword">center</em>. The second character specifies the vertical alignment and can be one of <code class="literal">t</code>, <code class="literal">b</code> or <code class="literal">c</code>, which stand for <em class="wordasword">top</em>, <em class="wordasword">bottom</em> or <em class="wordasword">center</em> respectively.</p>
                    <p>You may change this value with the corresponding command <code class="function">poke "textalign",…</code>; the initial value is <code class="literal">lb</code>, which means the top of the left and the top edge if the text will be aligned with the coordinates, that are specified within the <code class="function">text</code>-command.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("windoworigin")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>This <code class="function">peek</code> returns a two character string, which specifies the position of the origin of the coordinate system of the window; this string might be changed with the corresponding command <code class="function">poke "windoworigin",x,y</code> or specified as the argument of the <code class="function"><a class="link" href="#ref_origin" title="window origin">origin</a></code> command; see there for a detailed description of the string, which might be returned by this <code class="function">peek</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("program_name")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Returns the name of the <span class="application">yabasic</span>-program that is currently executing; typically this is the name, that you have specified on the commandline, but without any path-components. したがって、この <code class="function">peek$</code> は <code class="filename">foo.yab</code> を返す場合があります。As a special case when <span class="application">yabasic</span> has been invoked without the name of a program to be executed this peek will return the literal strings <code class="literal">standard input</code> or, when also the option <code class="literal">-e</code> has been specified, <code class="literal">command line</code>. 関連: <code class="function">peek$("program_file_name")</code> および <code class="function">peek$("interpreter_path")</code></p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("program_file_name")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Returns the full file-name of the <span class="application">yabasic</span>-program that is currently executing; typically this is the name, that you have specified on the commandline, including any path-components. For the special case, that you have bound your <span class="application">yabasic</span>-program with the interpreter to a single <a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには">standalone</a> executable, this <code class="function">peek$</code> will return its name. 関連: <code class="function">peek$("program_name")</code> および <code class="function">peek$("interpreter_path")</code></p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("interpreter_path")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return the full file-name of the <span class="application">yabasic</span>-interpreter that is currently executing your program; typically this will end on <code class="filename">yabasic</code> or <code class="filename">yabasic.exe</code> depending on your platform and the path will be where you installed <span class="application">yabasic</span>. For bound programs (see <a class="link" href="#ref_standalone" title="yabasic プログラムから実行可能プログラムを作成するには">creating a <span class="emphasis"><em>standalone</em></span>-program</a>) however, this may be different and will include whatever you specified during the <code class="function"><a class="link" href="#ref_bind" title="bind()">bind</a></code>-command.</p>
                    <p>関連: <code class="function">peek$("program_name")</code> および <code class="function">peek$("program_file_name")</code>Employing these, it would be possible for a <span class="application">yabasic</span>-program to start itself: <code class="function">system(peek$("interpreter_path") + " " + peek$("program_file_name"))</code>. Of course, in this simple form this would be a bad idea, because this would start concurrent instances of <span class="application">yabasic</span> without end.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("error")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return a string describing the nature of the last error in an <code class="function">open</code>- or <code class="function">seek</code>-statement. 詳しい説明は対応する <code class="function"><a class="link" href="#ref_peek" title="peek">peek("error")</a></code> を参照してください。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("library")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return the name of the library, this statement is contained in. See the <code class="function"><a class="link" href="#ref_import" title="import">import</a></code>-command for a detailed description or for more about libraries.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("version")</code>
                    </span>
                  </dt>
                  <dd>
                    <p><span class="application">yabasic</span> のバージョンを文字列で取得します。例えば <code class="literal">2.77.1</code> です。See also the related <code class="function"><a class="link" href="#ref_peek" title="peek">peek("version")</a></code>, which returns nearly the same information (minus the patchlevel) as a number, e.g. <code class="literal">2.77</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("os")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>この<code class="function">peek</code> は、プログラムを実行しているオペレーティング・システムの名前を返します。この結果は <code class="literal">windows</code> か <code class="literal">unix</code> のどちらか一方になります。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("font")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return the name of the font, which is used for text within the graphic window; this value can be specified as the third argument to the <code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>-command.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("env","<em class="replaceable"><code>名前</code></em>")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return the environment variable specified by <em class="replaceable"><code>NAME</code></em> (which may be any string expression). Which kind of environment variables are available on your system depends, as well as their meaning, on your system; however typing <span class="command"><strong>env</strong></span> on the command line will produce a list (for Windows and Unix alike). Note, that <code class="function">peek$("env",...)</code> can be written as <code class="function">peek$("environment",...)</code> too.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("argument")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Return one of the arguments, that have been passed to <span class="application">yabasic</span> at invocation time (the next call will return the the second argument, and so on). E.g. if <span class="application">yabasic</span> has been called like this: <code class="literal">yabasic foo.yab bar baz</code>, then the first call to <code class="function">peek$("argument")</code> will return <code class="literal">bar</code>. This is because <code class="literal">foo.yab</code> is treated as the name of the program to run, whereas <code class="literal">bar</code> and <code class="literal">baz</code> are considered arguments to this program, which are passed on the command line. The second call to <code class="function">peek$("argument")</code> will return <code class="literal">baz</code>. <span class="emphasis"><em>Note</em></span>, that for windows-users, who tend to click on the icon (as opposed to starting <span class="application">yabasic</span> on the command line), this <code class="function">peek</code>will mostly return the empty string.</p>
                    <p>備考として、 <code class="function">peek$("argument")</code> は <code class="function">peek$("arguments")</code> としても記述可能です。</p>
                    <p>Finally you will want to check out the corresponding function <code class="function"><a class="link" href="#ref_peek" title="peek">peek("argument")</a></code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">peek$("last_foreign_function_call_error_text")</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Retrieve error text: If passing <code class="literal">"no_error"</code> to <code class="function"><a class="link" href="#ref_foreign_function_call" title="foreign_function_call()">foreign_function_call</a></code>, any error (e.g. failure to load the specified library), will <span class="emphasis"><em>not</em></span> terminate your <span class="application">yabasic</span>-program but rather store a descriptive error message away for later retrieval. Later on you may then check <code class="function"><a class="link" href="#ref_peek" title="peek">peek("last_foreign_function_call_okay")</a></code> to find out, if something went wrong and retrieve a description with <code class="function">peek$("last_foreign_function_call_error_text")</code>.</p>
                    <p>この peek は <code class="function">peek$("last_frnfn_call_error_text")</code> として省略可能です。</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6491"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "指定された引数は: "
while peek("argument")
  print peek("argument"),peek$("argument")
wend
          </pre>
                <p>If you save this program in a file <code class="filename">foo.yab</code> and execute it via <strong class="userinput"><code>yabasic t.yab a b c</code></strong> (for windows users: please use the command line for this), your will get this output:</p>
                <pre class="screen">
3a
2b
1c
</pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6499"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code>, <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code>, <code class="function"><a class="link" href="#ref_open" title="open">open</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_pi"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>pi — 値 <code class="computeroutput">3.14159</code> の定数</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print pi
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6517"></a>
              <h2>概要</h2>
              <p><code class="function">pi</code> is <code class="literal">3.14159265359</code> (well at least for <span class="application">yabasic</span>); do not try to assign to pi (e.g. <code class="literal">pi=22/7</code>) this would not only be mathematically dubious, but would also result in a syntax error.</p>
            </div>
            <div class="refsect1">
              <a id="idm6524"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=0 to 180
  print "正弦の ",a," 度は ",sin(a*pi/180)
next a
          </pre>
                <p>このプログラムは度から弧度への角度変換で <code class="function">pi</code> を使います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6530"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_euler" title="euler">euler</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_poke"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>poke — 選択した <span class="application">yabasic</span> の内部情報を変更</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
poke "foo","bar"
poke "foo",baz
poke #a,"bar"
poke #a,baz
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6544"></a>
              <h2>概要</h2>
              <p><code class="function">poke</code> コマンドは <span class="application">yabasic</span> の内部処理の詳細設定で使います。Like the related function <code class="function">peek</code>, <code class="function">poke</code> does many different things, depending on the arguments supplied.</p>
              <p>こちらは <code class="function">poke</code> との相違点です:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="function">poke 5,a</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Write the given byte (<code class="literal">a</code> in the example above) to the specified stream (<code class="literal">5#a</code> in the example).</p>
                    <p>関連: <code class="function"><a class="link" href="#ref_peek" title="peek">peek(1)</a></code> 関数。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "dump","filename.dump"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>指名されたファイルの <acronym class="acronym">basic</acronym> プログラムに関する内部形式をダンプします。これは <span class="application">yabasic</span> 本体の内部処理に関するデバッグに限り有用です。</p>
                    <p>The second argument (<code class="literal">"filename.dump"</code>
in the example) should be the name of a file, that
gets overwritten with the dump, please be careful.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "fontheight",12</code>
                    </span>
                  </dt>
                  <dd>
                    <p>この <code class="function">poke</code> はデフォルトのフォント高を変更します。This can only have an effect, if the fonts given in the commands <code class="function"><a class="link" href="#ref_text" title="text">text</a></code> or <code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code> do not specify a fontheight on their own.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "font","fontname"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>この <code class="function">poke</code> はデフォルトのフォントを指定します。これは <code class="function"><a class="link" href="#ref_text" title="text">text</a></code> または <code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code> コマンドで fontname を指定しない場合に限り有効です。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "infolevel","debug"</code>
                    </span>
                  </dt>
                  <dd>
                    <p><span class="application">yabasic</span> の実行中に出力するデバッグ情報の総量を変更します。</p>
                    <p>第二引数で指定可能できるのは <code class="literal">"debug"</code>, <code class="literal">"note"</code>, <code class="literal">"warning"</code>, <code class="literal">"error"</code> または <code class="literal">"fatal"</code> のいずれかです。とはいえ、通常時はデフォルト値 <code class="literal">"warning"</code> を変更したいとは思わないでしょう。</p>
                    <p>関連: <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("infolevel")</a></code></p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "random_seed",42</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Set the seed for the random number generator; if you do this, the <code class="function"><a class="link" href="#ref_ran" title="ran()">ran</a></code>-function will return the same sequence of numbers every time the program is started.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "stdout","some text"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>指定されたテキストを標準出力へ渡します。Normally one would use <code class="function"><a class="link" href="#ref_print" title="print">print</a></code> for this purpose; however, sending e.g. control characters to your terminal is easier with this <code class="function">poke</code>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "textalign","cc"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>This <code class="function">poke</code> changes the <span class="emphasis"><em>default</em></span> alignment of text with respect to the coordinates supplied within the <code class="function">text</code>-command. However, this value does <span class="emphasis"><em>not apply</em></span>, if the <code class="function">text</code>-command explicitly specifies an alignment. The second argument (<code class="literal">"cc"</code> in the example) must always be two characters long; the first character can be one of <code class="literal">l</code> (<em class="wordasword">left</em>), <code class="literal">r</code> (<em class="wordasword">right</em>) or <code class="literal">c</code> (<em class="wordasword">center</em>); the second character can be either <code class="literal">t</code> (<em class="wordasword">top</em>), <code class="literal">b</code> (<em class="wordasword">bottom</em>) or <code class="literal">c</code> (<em class="wordasword">center</em>); see the corresponding <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("textalign")</a></code> for a detailed description of this argument.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="function">poke "windoworigin","lt"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>This <code class="function">poke</code> moves the origin of the coordinate system of the window to the specified position. The second argument (<code class="literal">"lt"</code> in the example) must always be two characters long; the first character can be one of <code class="literal">l</code> (<em class="wordasword">left</em>), <code class="literal">r</code> (<em class="wordasword">right</em>) or <code class="literal">c</code> (<em class="wordasword">center</em>); the second character can be either <code class="literal">t</code> (<em class="wordasword">top</em>), <code class="literal">b</code> (<em class="wordasword">bottom</em>) or <code class="literal">c</code> (<em class="wordasword">center</em>). Together those two characters specify the new position of the coordinate-origin. See the corresponding <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("windoworigin")</a></code> for a more in depth description of this argument.</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6670"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "Hello, now you will see, how much work"
print "a simple for-loop involves ..."
input "Please press return " a$
poke "infolevel","debug"
for a=1 to 10:next a
          </pre>
                <p>This example only demonstrates one of the many <code class="function">poke</code>s, which are described above: The program switches the infolevel to <code class="literal">debug</code>, which makes <span class="application">yabasic</span> produce a lot of debug-messages during the subsequent <code class="function">for</code>-loop.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6679"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code>, <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_print"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>print — 端末またはファイルへ出力</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print "foo",a$,b
print "foo",a$,b;
print #a "foo",a$
print #a "foo",a$;
print foo using "##.###"
print reverse "foo"
print at(10,10) a$,b
print @(10,10) a$,b
print color("red","blue") a$,b
print color("magenta") a$,b
print color("green","yellow") at(5,5) a$,b
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6694"></a>
              <h2>概要</h2>
              <p>The <code class="function">print</code>-statement outputs strings or characters, either to your terminal (also known as <em class="wordasword">console</em>) or to an open file.</p>
              <p>To understand all those uses of the <code class="function">print</code>-statement, let's go through the various lines in the synopsis above:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="literal">print "foo",a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Print the string <code class="literal">foo</code> as well as the contents of the variables <code class="literal">a$</code> and <code class="literal">b</code> onto the screen, silently adding a <span class="emphasis"><em>newline</em></span>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print "foo",a$,b;</code>
                    </span>
                  </dt>
                  <dd>
                    <p>(Note the trailing semicolon !) This statement does the same as the one above; only the implicit <span class="emphasis"><em>newline</em></span> is skipped, which means that the next <code class="function">print</code>-statement will append seamlessly.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print #a "foo",a$</code>
                    </span>
                  </dt>
                  <dd>
                    <p>これはファイルに書き込む方法です。The file with the number <code class="literal">a</code> must be open already, an implicit <span class="emphasis"><em>newline</em></span> is added. Note the file-number <code class="literal">#a</code>, which starts with a hash ('<code class="literal">#</code>') amd is separated from the rest of the statement by a space only. The file-number (contained in the variable <code class="literal">a</code>) must have been returned by a previous <code class="function"><a class="link" href="#ref_open" title="open">open</a></code>-statement (e.g. <code class="literal">a=open("bar")</code>).</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print #a "foo",a$;</code>
                    </span>
                  </dt>
                  <dd>
                    <p>The same as above, but without the implicit <span class="emphasis"><em>newline</em></span>.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print foo using "##.###"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Print the number <code class="varname">foo</code> with as many digits before and after the decimal dot as given by the number of '<code class="literal">#</code>'-signs. See the entries for <code class="function"><a class="link" href="#ref_using" title="using">using</a></code> and <code class="function"><a class="link" href="#ref_str" title="str$()">str$</a></code> for a detailed description of this format.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print reverse "foo"</code>
                    </span>
                  </dt>
                  <dd>
                    <p>As all the <code class="function">print</code>-variants to follow, this form of the <code class="function">print</code>-statement can only be issued after <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code> has been called. The strings and numbers after the <code class="literal">reverse</code>-clause are simply printed inverse (compared to the normal <code class="function">print</code>-statement).</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print at(10,10) a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>指定された (x,y) 座標に出力します。これは<code class="function">clear screen</code> の呼び出し後に限り使用可能です。You may want to query <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("screenwidth")</a></code> or <code class="function"><a class="link" href="#ref_peek2" title="peek$">peek$("screenheight")</a></code> to learn the actual size of your screen. You may add a semicolon to suppress the implicit newline.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print @(10,10) a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>これは上述とまったく同じです。ちなみに、 <code class="literal">at</code> は <code class="literal">@</code> として記述されることがあります。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print color("red","blue") at(5,5) a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>Print with the specified fore- (<code class="literal">"red"</code>) and background (<code class="literal">"blue"</code>) color (or colour). The possible values are <code class="literal">"black"</code>, <code class="literal">"white"</code>, <code class="literal">"red"</code>, <code class="literal">"blue"</code>, <code class="literal">"green"</code>, <code class="literal">"yellow"</code>, <code class="literal">"cyan"</code> or <code class="literal">"magenta"</code>. Again, you need to call <code class="literal">clear screen</code> first and add a semicolon if you want to suppress the implicit newline.</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print color("magenta") a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>前景色だけでも指定可能です。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">print color("green","yellow") a$,b</code>
                    </span>
                  </dt>
                  <dd>
                    <p>A color and a position (in this sequence, not the other way around) may be specified at once.</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6802"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
columns=peek("screenwidth")
lines=peek("screenheight")
dim col$(7)
for a=0 to 7:read col$(a):next a
data "black","white","red","blue","green","yellow","cyan","magenta"

for a=0 to 2*pi step 0.1
  print colour(col$(mod(i,8))) at(columns*(0.8*sin(a)+0.9)/2,lines*(0.8*cos(a)+0.9)/2) "*"
  i=i+1
next a
          </pre>
                <p>この用例はテキストウィンドウに色付きの楕円を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6807"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_at" title="at()">at</a></code><code class="function">, <code class="function"><a class="link" href="#ref_print_color" title="print color">print color</a></code>, <a class="link" href="#ref_input" title="input">input</a></code>, <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code>, <code class="function"><a class="link" href="#ref_using" title="using">using</a></code>, <code class="function"><a class="link" href="#ref_semicolon" title=";">;</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_print_color"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>print color — 色付きで表示</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print color(fore$) text$
print color(fore$,back$) text$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6830"></a>
              <h2>概要</h2>
              <p>Not a separate command, but part of the <code class="function">print</code>-command; may be included just after <code class="function">print</code> and can only be issued after <code class="function">clear screen</code> has been executed.</p>
              <p><code class="function">color()</code> takes one or two string-arguments, specifying the color of the text and (optionally) the background.</p>
              <p>The one or two strings passed to <code class="function">color()</code> can be one of these: <code class="systemitem">"black"</code>, <code class="systemitem">"white"</code>, <code class="systemitem">"red"</code>, <code class="systemitem">"blue"</code>, <code class="systemitem">"green"</code>, <code class="systemitem">"yellow"</code>, <code class="systemitem">"cyan"</code> and <code class="systemitem">"magenta"</code> (which can be abbreviated as <code class="systemitem">"bla"</code>, <code class="systemitem">"whi"</code>, <code class="systemitem">"red"</code>, <code class="systemitem">"blu"</code>, <code class="systemitem">"gre"</code>, <code class="systemitem">"yel"</code>, <code class="systemitem">"cya"</code> and <code class="systemitem">"mag"</code> respectively).</p>
              <p>必ず一度でも <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear scren</a></code> を呼び出した後に限り、 <code class="function">color()</code> は使用可能です。</p>
              <p>備考として、 <code class="function">color()</code> は <code class="function">colour()</code> としても記述可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm6863"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
dim col$(7):for a=0 to 7:read col$(a):next a
do
  print color(col$(ran(7)),col$(ran(7))) " Hallo ";
  pause 0.01
loop
data "black","white","red","blue"
data "green","yellow","cyan","magenta"
          </pre>
                <p>これは全色を用いた <code class="systemitem">" Hallo "</code> を画面全体に出力します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6869"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code>, <code class="function"><a class="link" href="#ref_at" title="at()">at</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_print_colour"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>print colour — <code class="function">print color</code> を参照</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print colour(fore$) text$
print colour(fore$,back$) text$
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6887"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_print_color" title="print color">color</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_putbit"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>putbit — 文字列形式でエンコードしたピクセルの長方形領域をグラフィックスグラフィックスへ描画</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window 200,200
…
a$=getbit(20,20,50,50)
…
putbit a$,30,30
putbit a$ to 30,30
putbit a$,30,30,"or"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6900"></a>
              <h2>概要</h2>
              <p><code class="function">putbit</code> コマンドは <code class="function"><a class="link" href="#ref_getbit" title="getbit$()">getbit$</a></code> 関数とは正反対です。<code class="function">putbit</code> には <code class="function"><a class="link" href="#ref_getbit" title="getbit$()">getbit</a></code> 関数で返された文字列を使います。Such a string contains a rectangle from the graphic window; the <code class="function">putbit</code>-function puts such a rectangular region back into the graphic-window.</p>
              <p>Note, that the <code class="function">putbit</code>-command currently accepts a fourth argument. しかし、ここでは文字列値 <code class="literal">"or"</code> に限り対応しています。The effect is, that only those pixel, which are set in the string will be set in the graphic window. Those pixels, which are not set in the string, will not change in the window (as opposed to being cleared).</p>
            </div>
            <div class="refsect1">
              <a id="idm6913"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
repeat
  read d$
  c$ = c$ + d$
until( d$ = "")

open window 200,200

do
  x=ran(220)-10
  y=ran(220)-10
  putbit c$,x,y,"transparent"
loop
  
data "rgb 21,21:00000000000000000000000000000000000000000000000000000000000000"
data "32c800000000000000000000000000000000000000000000000000000000000000000000"
data "00000000000000000000000000000032c80032c80032c80032c80032c80032c80032c800"
data "32c80032c800000000000000000000000000000000000000000000000000000000000000"
data "32c80032c80032c80032c80032c80032c80032c80032c80032c80032c80032c80032c800"
data "00000000000000000000000000000000000000000000000032c80032c80032c80032c800"
data "32c80032c80032c80032c80032c80032c80032c80032c80032c80032c80032c800000000"
data "00000000000000000000000032c80032c80032c80032c80032c80032c80032c80032c8c8"
data "ff000032c80032c80032c80032c80032c80032c80032c800000000000000000000000000"
data "00000032c80032c80032c80032c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8"
data "ff000032c80032c80032c80032c80032c80000000000000000000032c80032c80032c800"
data "32c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c800"
data "32c80032c80032c80032c80000000000000032c80032c80032c80032c8c8ff00c8ff00c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c80032c80032c800"
data "32c80000000000000032c80032c80032c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c80032c80032c80032c800000000000000"
data "32c80032c80032c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8"
data "ff00c8ff00c8ff000032c80032c80032c80032c80000000032c80032c80032c80032c8c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff0000"
data "32c80032c80032c80032c80000000000000032c80032c80032c80032c8c8ff00c8ff00c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c80032c80032c800"
data "32c80000000000000032c80032c80032c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c80032c80032c80032c800000000000000"
data "32c80032c80032c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8"
data "ff00c8ff00c8ff000032c80032c80032c80032c80000000000000032c80032c80032c800"
data "32c80032c8c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c800"
data "32c80032c80032c80032c80000000000000000000032c80032c80032c80032c80032c8c8"
data "ff00c8ff00c8ff00c8ff00c8ff00c8ff00c8ff000032c80032c80032c80032c80032c800"
data "00000000000000000000000032c80032c80032c80032c80032c80032c80032c80032c800"
data "32c80032c80032c80032c80032c80032c80032c80032c800000000000000000000000000"
data "00000000000032c80032c80032c80032c80032c80032c80032c80032c80032c80032c800"
data "32c80032c80032c80032c80032c800000000000000000000000000000000000000000000"
data "32c80032c80032c80032c80032c80032c80032c80032c80032c80032c80032c80032c800"
data "00000000000000000000000000000000000000000000000000000000000000000032c800"
data "32c80032c80032c80032c80032c80032c80032c80032c800000000000000000000000000"
data "000000000000000000000000000000000000000000000000000000000000000000000000"
data "0000000000000000000000000000000000000000000000000000000000000000"
data ""
            </pre>
                <p>This program uses a precanned string (containing the image of a blue circle with a yellow centre) and draws it repeatedly into the graphic-window. The mode <code class="literal">"transparent"</code> ensures, that no pixels will be cleared.</p>
              </div>
              <p>There are two possible values for the third argument of <code class="function">putbit</code>. Both modes differ in the way, they replace (or not) any pixels from the window with pixels from the bitmap having the background colour.</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term"><code class="literal">transparent</code> または <code class="literal">t</code></span>
                  </dt>
                  <dd>
                    <p>With this mode the pixels from the window will be kept, if the bitmap contains pixels with background colour at this position; i.e. the bitmap is <span class="emphasis"><em>transparent</em></span></p>
                  </dd>
                  <dt>
                    <span class="term"><code class="literal">solid</code> または <code class="literal">s</code></span>
                  </dt>
                  <dd>
                    <p>With this mode the pixels from the window will be overpainted with the pixels from the bitmap in any case; i.e. the bitmap is <span class="emphasis"><em>solid</em></span></p>
                  </dd>
                </dl>
              </div>
              <p>この引数の省略時、デフォルトの <code class="literal">transparent</code> が適用されます。</p>
            </div>
            <div class="refsect1">
              <a id="idm6938"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_getbit" title="getbit$()">getbit$</a></code>, <code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_putscreen"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>putscreen — 矩形文字領域をテキストターミナルへ描画</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
…
a$=getscreen$(5,5,10,10)
…
putscreen a$,7,7
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6953"></a>
              <h2>概要</h2>
              <p><code class="function">putscreen</code> コマンドは <code class="function"><a class="link" href="#ref_getscreen" title="getscreen$()">getscreen$</a></code> 関数とは正反対です。<code class="function">putscreen</code> には <code class="function"><a class="link" href="#ref_getscreen" title="getscreen$()">getscreen</a></code> 関数で返された文字列を使います。Such a string contains a rectangular detail from the terminal; the <code class="function">putscreen</code>-function puts such a region back into the terminal-window.</p>
              <p>注意点として、あらかじめ <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code> を必ず呼び出しておいてください。</p>
            </div>
            <div class="refsect1">
              <a id="idm6966"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
for a=1 to 200
  print color("red") "Hallo !";
  print color("blue") "Welt !";
next a
r$=getscreen$(0,0,20,20)
for x=0 to 60
  putscreen r$,x,0
  sleep 0.1
next x
          </pre>
                <p>This example prints the string <code class="literal">"Hallo !Welt !"</code> all over the screen and then moves a rectangle from one side to the other.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm6972"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_getscreen" title="getscreen$()">getscreen$</a></code>, <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_r"></a>R</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_ran">ran()</a> </span> <span class="refpurpose"> — 乱数を返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_read">read</a> </span> <span class="refpurpose"> — <code class="function">data</code> ステートメントからデータを読み取る</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_rectangle">rectangle</a> </span> <span class="refpurpose"> —  長方形の描画</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_redim">redim</a> </span> <span class="refpurpose"> — 初回使用前に配列を作成します。これは <code class="function">dim</code></span> と同義語です
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_rem">rem</a> </span> <span class="refpurpose"> — コメントの起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_repeat">repeat</a> </span> <span class="refpurpose"> — <code class="function">repeat</code> ループの起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_restore">restore</a> </span> <span class="refpurpose"> — <code class="function">data</code> ポインタの再配置</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_return">return</a> </span> <span class="refpurpose"> — サブルーチンまた gosub から復帰</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_reverse">reverse</a> </span> <span class="refpurpose"> — 反転表示 (背景色と前景色の交換)</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_right">right$()</a> </span> <span class="refpurpose"> — 文字列の右端を返す (<span class="emphasis"><em>または変更</em></span>)</span>
              </dt>
              <dt>
                <span class="refentrytitle">
                  <a href="#ref_rinstr">rinstr()</a>
                </span>
                <span class="refpurpose"> — find the rightmost occurrence of one string within the other</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_round">round()</a> </span> <span class="refpurpose"> — 引数を最近似整数へ丸め込み</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_rtrim">rtrim$()</a> </span> <span class="refpurpose"> — 文字列の右端から空白文字を除去</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_ran"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>ran() — 乱数を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print ran()
x=ran(y)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm6989"></a>
              <h2>概要</h2>
              <p><code class="function">ran</code> 関数は乱数を返します。If no argument is given, the number returned is in the range from 0 to 1; where only 0 is a possible value; 1 will never be returned. If an argument is supplied, the number returned will be in the range from 0 up to this argument, whereas this argument itself is not a possible return value. Regardless of the range, <code class="function">ran</code> is guaranteed to have exactly 2**30 different return values.</p>
              <p>If you call <code class="function">ran</code> multiple times during your program, the sequence of random numbers will be different each time you invoke your program; however, if, e.g. for testing you prefer to always have the same sequence of random numbers you may issue <code class="function"><a class="link" href="#ref_poke" title="poke">poke "random_seed",123</a></code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm6998"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
c=peek("screenwidth")-1
l=peek("screenheight")

dim col$(8)
for a=0 to 7:read col$(a):next a
data "black","white","red","blue","green","yellow","cyan","magenta"

do
  x=ran(c)
  y=l-ran(l*exp(-32*((x/c-1/2)**2)))
  i=i+1
  print color(col$(mod(i,8))) at(x,y) "*";
loop
          </pre>
                <p>この用例は色付きで正規分布曲線を表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7003"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_int" title="int()">int</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_read"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>read — <code class="function">data</code> ステートメントからデータを読み取る</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
read a$,a
…
data "Hello !",7
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7017"></a>
              <h2>概要</h2>
              <p>The <code class="function">read</code>-statement retrieves literal data, which is stored within <code class="function">data</code>-statements elsewhere in your program.</p>
            </div>
            <div class="refsect1">
              <a id="idm7022"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
read num
dim col$(num)
for a=1 to num:read col$(a):next a
clear screen
print "こちらは yabasic に組み込まれている配色です。:\n"
for a=1 to num
  print colour(col$(a)) col$(a)
next a

data 8,"black","white","red","blue"
data "green","yellow","cyan","magenta"
          </pre>
                <p>このプログラムは <span class="application">yabasic</span> に組み込まれている配色の名前をそのまま表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7028"></a>
              <h2>関連</h2>
              <p>
                <code class="function"><a class="link" href="#ref_data" title="data">data</a>, <code class="function"><a class="link" href="#ref_restore" title="restore">restore</a></code></code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_rectangle"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>rectangle — 長方形の描画</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window 100,100
rectangle 10,10 to 90,90
rectangle 20,20,80,80
rect 20,20,80,80
box 30,30,70,70
clear rectangle 30,30,70,70
fill rectangle 40,40,60,60
clear fill rectangle 60,60,40,40
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7043"></a>
              <h2>概要</h2>
              <p>The <code class="function">rectangle</code>-command (also known as <code class="function">box</code> or <code class="function">rect</code>, for short) draws a rectangle; it accepts four parameters: The x- and y-coordinates of two facing corners of the rectangle. With the optional clauses <code class="function">clear</code> and <code class="function">fill</code> (which may appear together and in any sequence) the rectangle can be cleared and filled respectively.</p>
            </div>
            <div class="refsect1">
              <a id="idm7051"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
c=1
do
  for phi=0 to pi step 0.1
    if (c) then
      rectangle 100+100*sin(phi),100+100*cos(phi) to 100-100*sin(phi),100-100*cos(phi)
    else
      clear rectangle 100+100*sin(phi),100+100*cos(phi) to 100-100*sin(phi),100-100*cos(phi)
    endif
    sleep 0.1
  next phi
  c=not c
loop
          </pre>
                <p>This example draws a nice animated pattern; watch it for a couple of hours, to see how it develops.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7056"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code>, <code class="function"><a class="link" href="#ref_triangle" title="triangle">triangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_redim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>redim — 初回使用前に配列を作成します。これは <code class="function">dim</code> と同義語です</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
<code class="function"><a class="link" href="#ref_dim" title="dim">dim</a></code> コマンドを参照してください。
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7080"></a>
              <h2>概要</h2>
              <p>The <code class="function">redim</code>-command does exactly the same as the <code class="function"><a class="link" href="#ref_dim" title="dim">dim</a></code>-command; it is just a <span class="emphasis"><em>synonym</em></span>. <code class="function">redim</code> has been around in older versions of <acronym class="acronym">basic</acronym> (not even <span class="application">yabasic</span>) for many years; therefore it is supported in <span class="application">yabasic</span> for compatibility reasons.</p>
              <p>追加情報は <code class="function"><a class="link" href="#ref_dim" title="dim">dim</a></code> コマンドを参照してください。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_rem"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>rem — コメントの起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
rem  やあ、これはコメント
#    ハッシュ記号もコメント (行頭)
// ダブルスラッシュもコメント
' さらにシングルクォートもコメント (行頭)
print "コメントではない" #    これはエラーです！！
print "Not a comment"://   ですが、これもまた有効なコメントです
print "Not a comment" //   同上
print "コメントではありません" rem  そしてこれも！
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7102"></a>
              <h2>概要</h2>
              <p><code class="function">rem</code> introduces a comment (like <code class="literal">#</code> or <code class="literal">//</code>), that extends up to the end of the line.</p>
              <p>Those comments do not even need a colon
('<code class="literal">:</code>') in front of them; they (<code class="literal">rem</code>, <code class="literal">#</code>, <code class="literal">'</code> (single quite) and <code class="literal">//</code>) all behave alike except for <code class="literal">#</code> and <code class="literal">'</code>, which may only appear at the very beginning of a line; therefore the fourth example in the synopsis above (<code class="literal">print "Not a comment" #    This is an error !!</code>) is indeed an error.</p>
              <p>捕捉として、 <code class="function">rem</code> は <span class="emphasis"><em>remark</em></span> の略称です。<code class="function">remark</code> however is <span class="emphasis"><em>not</em></span> a valid command in <span class="application">yabasic</span>.</p>
              <p>Finally note, that a comment introduced with '<code class="literal">#</code>' may have a special meaning under unix; see the entry for <a class="link" href="#ref_hash" title="#">#</a> for details.</p>
            </div>
            <div class="refsect1">
              <a id="idm7126"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
#
rem   データ構造に関するコメントは
#     アルゴリズムに関するコメントよりも
//    有益です。
rem
          </pre>
                <p>このプログラムはなにも処理ませんが、コメントの使い方を示すには申し分ありません。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7131"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_hash" title="#">#</a></code>, <code class="function"><a class="link" href="#ref_double_slash" title="//">//</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_repeat"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>repeat — <code class="function">repeat</code> ループの起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
repeat
  …
until …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7147"></a>
              <h2>概要</h2>
              <p>The <code class="function">repeat</code>-loop executes all the statements up to the final <code class="function">until</code>-keyword over and over. The loop is executed as long as the condition, which is specified with the <code class="function">until</code>-clause, becomes true. By construction, the statements within the loop are executed at least once.</p>
            </div>
            <div class="refsect1">
              <a id="idm7153"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
x=0
clear screen
print "このプログラムは 1 ～ 10 までの数値を表示します"
repeat
  x=x+1
  print x
  print "次の番号を入力してください ('q' で終了)"
  if (inkey$="q") break
until x=10
          </pre>
                <p>このプログラムは大体のところ無用の長物とはいえ、自明的です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7158"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_until" title="until">until</a></code>, <code class="function"><a class="link" href="#ref_break" title="break">break</a></code>, <code class="function"><a class="link" href="#ref_while" title="while">while</a></code>, <code class="function"><a class="link" href="#ref_do" title="do">do</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_restore"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>restore — <code class="function">data</code> ポインタの再配置</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
read a,b,c,d,e,f
restore
read g,h,i
restore foo
data 1,2,3
label foo
data 4,5,6
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7178"></a>
              <h2>概要</h2>
              <p>The <code class="function">restore</code>-command may be used to <span class="emphasis"><em>reset</em></span> the reading of <code class="function">data</code>-statements, so that the next <code class="function">read</code>-statement will read data from the first <code class="function">data</code>-statement.</p>
              <p>You may specify a <a class="link" href="#ref_label" title="label">label</a> with the <code class="function">restore</code>-command; in that case, the next <code class="function">read</code>-statement will read data starting at the given label. ラベルの省略時、読み取りを開始するデータはプログラムにある <code class="function">data</code> の先頭データとなります。</p>
            </div>
            <div class="refsect1">
              <a id="idm7191"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "お使いの言語 (german/english) は？" l$
if (instr("german",l$)&gt;0) then
  restore german
else
  restore english
endif

for a=1 to 3
  read x,x$
  print x,"=",x$
next a

label english
data 1,"one",2,"two",3,"three"
label german
data 1,"eins",2,"zwei",3,"drei"
          </pre>
                <p>This program asks to select one of those languages known to me (i.e. english or german) and then prints the numbers 1,2 and 3 and their textual equivalents in the chosen language.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7196"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_read" title="read">read</a></code>, <code class="function"><a class="link" href="#ref_data" title="data">data</a></code>, <code class="function"><a class="link" href="#ref_label" title="label">label</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_return"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>return — サブルーチンまた gosub から復帰</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
gosub foo
…
label foo
…
return

sub bar(baz)
  …
  return quertz
end sub
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7213"></a>
              <h2>概要</h2>
              <p>The <code class="function">return</code>-statement serves two different (albeit somewhat related) purposes. The probably more important use of <code class="function">return</code> is to return control from within a subroutine to the place in your program, where the subroutine has been called. If the subroutine is declared to return a value, the <code class="function">return</code>-statement might be accompanied by a string or number, which constitutes the <span class="emphasis"><em>return value</em></span> of the subroutine.</p>
              <p>However, even if the subroutine should return a value, the <code class="function">return</code>-statement need not carry a value; in that case the subroutine will return 0 or the empty string (depending on the type of the subroutine). Moreover, feel free to place multiple <code class="function">return</code>-statements within your subroutine; it's a nice way of controlling the flow of execution.</p>
              <p>The second (but historically first) use of <code class="function">return</code> is to return to the position, where a prior <code class="function"><a class="link" href="#ref_gosub" title="gosub">gosub</a></code> has left off. In that case <code class="function">return</code> may <span class="emphasis"><em>not</em></span> carry a value.</p>
            </div>
            <div class="refsect1">
              <a id="idm7229"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  read a$
  if (a$="") then
    print
    end
  endif
  print mark$(a$)," ";
loop

data "The","quick","brown","fox","jumped"
data "over","the","lazy","dog",""

sub mark$(a$)
  if (instr(lower$(a$),"q")) return upper$(a$)
  return a$
end sub
          </pre>
                <p>This example features a subroutine <code class="function">mark$</code>, that returns its argument in upper case, if it contains the letter "q", or unchanged otherwise. In the test-text the word <code class="literal">quick</code> will end up being marked as <code class="literal">QUICK</code>.</p>
                <p>上述の用例はサブルーチンで <code class="function">return</code> を使う方法です。このコンテキストで <code class="function">return</code> を使う方法は <a class="link" href="#ref_gosub" title="gosub"><code class="function">gosub</code></a> の用例を参照してください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7242"></a>
              <h2>関連</h2>
              <p><a class="link" href="#ref_sub" title="sub"><code class="function">sub</code></a>, <a class="link" href="#ref_gosub" title="gosub"><code class="function">gosub</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_reverse"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>reverse — 反転表示 (背景色と前景色の交換)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
…
print reverse "foo"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7257"></a>
              <h2>概要</h2>
              <p><code class="function">reverse</code> may be used to <code class="function">print</code> text in reverse. <code class="function">reverse</code> is not a separate command, but part of the <code class="function">print</code>-command; it may be included just after the <code class="function">print</code> and can only be issued once that <code class="function">clear screen</code> has been issued.</p>
            </div>
            <div class="refsect1">
              <a id="idm7266"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen

print "1 ";
c=3
do
  prim=true
  for a=2 to sqrt(c)
    if (frac(c/a)=0) then
      prim=false
      break
    endif
  next a
  if (prim) then
    print
    print reverse c;
  else
    print c;
  endif
  print " ";
  c=c+1
loop
          </pre>
                <p>This program prints numbers from 1 on and marks each prime number in reverse.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7271"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_at" title="at()">at</a></code><code class="function">, <code class="function"><a class="link" href="#ref_print_color" title="print color">print color</a></code>, <a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_right"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>right$() — 文字列の右端を返す (<span class="emphasis"><em>または変更</em></span>)</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print right$(a$,2)
right$(b$,2)="baz"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7291"></a>
              <h2>概要</h2>
              <p>The <code class="function">right$</code>-function requires two arguments (a string and a number) and returns the part from the right end of the string, whose length is specified by its second argument. So, <code class="function">right$</code> simply returns the requested number of chars from the right end of the given string.</p>
              <p>Note, that the <code class="function">right$</code>-function can be assigned to, i.e. it may appear on the left hand side of an assignment. In this way it is possible to change a part of the variable used within the <code class="function">right$</code>-function. 注意点として、この方法では文字列の <em>length</em></span> (長さ) は変化しません。すなわち、文字を追加するのではなく、上書きします。用例は後述します。</p>
            </div>
            <div class="refsect1">
              <a id="idm7300"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "インチまたはセンチメートルで長さを入力してください"
print "単位には 'in' または 'cm' の指定を追加してください。"
input "長さ: " a$
if (right$(a$,2)="in") then
   length=val(a$)*2.56
elsif (right$(a$,2)="cm") then
   length=val(a$)
else
   error "入力無効: "+a$
endif
          </pre>
                <p>このプログラムはユーザが条件付きで長さの単位 (インチ、またはセンチメートルのどちらか) を入力できます。</p>
                <p>This second example demonstrates the capability to <span class="emphasis"><em>assign</em></span> to the <code class="function">right$</code>-function.</p>
                <pre class="programlisting">
a$="Heiho World !"
print a$
right$(a$,7)="dwarfs."
print a$
</pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7309"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_right" title="right$()">right$</a></code> と <code class="function"><a class="link" href="#ref_mid" title="mid$()">mid$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_rinstr"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>rinstr() — 文字列の右端からほかの文字列を検索します。</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
pos=rinstr("Thequickbrownfox","equi")
pos=rinstr(a$,b$,x)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7324"></a>
              <h2>概要</h2>
              <p>The <code class="function">rinstr</code>-function accepts two string-arguments and tries to find the second within the first. However, unlike the <code class="function"><a class="link" href="#ref_instr" title="instr()">instr</a></code>, the <code class="function">rinstr</code>-function finds the <span class="emphasis"><em>rightmost</em></span> (or last) occurrence of the string; whereas the <code class="function">instr</code>-function finds the <span class="emphasis"><em>leftmost</em></span> (or first) occurrence. In any case however, the position is counted from the left.</p>
              <p>If you supply a third, numeric argument to the <code class="function">rinstr</code>-function, it will be used as a starting point for the search. Therefore <code class="function">rinstr("abcdeabcdeabcde","e",8)</code> will return 5, because the search for an "<code class="literal">e</code>" starts at position 8 and finds the first one at position 5.</p>
            </div>
            <div class="refsect1">
              <a id="idm7338"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print rinstr("foofoofoobar","foo")
          </pre>
                <p>This simple example will print <code class="computeroutput">7</code>, because it finds the <span class="emphasis"><em>rightmost</em></span> among the three occurrences of <code class="literal">foo</code> within the string. 補足として、</p>
                <div class="informalexample">
                  <pre class="programlisting">
print instr("foofoofoobar","foo")
</pre>
                </div>
                <p>は <code class="computeroutput">1</code> が表示されます。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7350"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_instr" title="instr()">instr</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_round"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>round() — 引数を最近似整数へ丸め込み</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print round(x)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7363"></a>
              <h2>概要</h2>
              <p><code class="function">found</code> 関数は最近似整数を返します (例えば引数 <code class="computeroutput">2.6</code> では <code class="computeroutput">3.0</code>)。An argument with a fractional part of <code class="computeroutput">0.5</code> (e.g. <code class="computeroutput">2.5</code>) represents an edge case, as such an argument has the same distance to two numbers, <code class="computeroutput">3.0</code> and <code class="computeroutput">2.0</code> in the example; this ambiguity is resolved by rounding away from zero and returning <code class="computeroutput">3.0</code>. By the same rule <code class="function">round(-2.5)</code> returns <code class="computeroutput">-3.0</code>; so you see, that <code class="literal">round(x)</code> always equals <code class="literal">round(-x)</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm7378"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print round(2.3), round(2.5), round(2.7)
print round(2), round(-2)
print int(-2.3),round(-2.5), round(-2.7)
          </pre>
                <p>These examples return in order <code class="computeroutput">2 3 3</code>, then <code class="computeroutput">2 -2</code> and finally <code class="computeroutput">2 -3 -3</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7386"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_ceil" title="ceil()">ceil</a></code>, <code class="function"><a class="link" href="#ref_floor" title="floor()">floor</a></code>, <code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_rtrim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>rtrim$() — 文字列の右端から空白文字を除去</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=rtrim$(b$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7405"></a>
              <h2>概要</h2>
              <p><code class="function">rtrim$</code> 関数は文字列の右端にある空白文字をすべて除去したものを返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm7409"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open 1,"foo"
dim lines$(100)
l=1
while not eof(1)
  input #1 a$
  a$=rtrim$(a$)
  if (right$(line$,1)="\\") then
    line$=line$+" "+a$
  else
    lines$(l)=line$
    l=l+1
    line$=a$
  endif
end while
print "読み取り ",l," 行目"
          </pre>
                <p>This example reads the file <code class="filename">foo</code> allowing for <span class="emphasis"><em>continuation lines</em></span>, which are marked by a <code class="literal">\</code>, which appears as the last character on a line. 行末の右端から空白文字を除去するには <code class="function">rtrim</code> のほうが便利です。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7418"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_ltrim" title="ltrim$()">ltrim$</a></code>, <code class="function"><a class="link" href="#ref_trim" title="trim$()">trim$</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_s"></a>S</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_screen">screen</a> </span> <span class="refpurpose"> — <code class="function">clear screen</code> はテキストウィンドウを消去します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_seek">seek()</a> </span> <span class="refpurpose"> — 開いているファイルの位置を変更</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sig">sig()</a> </span> <span class="refpurpose"> — 引数の正負符号を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sin">sin()</a> </span> <span class="refpurpose"> — 単一引数の正弦を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_shl">shl()</a> </span> <span class="refpurpose"> — 引数のビット単位左シフト</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_shr">shr()</a> </span> <span class="refpurpose"> — 引数のビット単位右シフト</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sleep">sleep</a> </span> <span class="refpurpose"> — 指定秒数経過まで一時停止、休止、待機</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_split">split()</a> </span> <span class="refpurpose"> — 文字列を複数の文字列へ分割</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sqr">sqr()</a> </span> <span class="refpurpose"> — 引数の自乗を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sqrt">sqrt()</a> </span> <span class="refpurpose"> — 引数の平方根を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_static">static</a> </span> <span class="refpurpose"> — サブルーチンの呼び出し時に変数の値を保存します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_step">step</a> </span> <span class="refpurpose"> — for ループのインクリメント階数を指定します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_str">str$()</a> </span> <span class="refpurpose"> — 数値を文字列へ変換</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_sub">sub</a> </span> <span class="refpurpose"> — ユーザ定義サブルーチンの宣言</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_switch">switch</a> </span> <span class="refpurpose"> — 値に従い複数の選択肢からひとつ選びます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_system">system()</a> </span> <span class="refpurpose"> — オペレーティング・システムに外部コマンド名を渡した後に終了コードを返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_system2">system$()</a> </span> <span class="refpurpose"> — オペレーティング・システムに外部コマンド名を渡した後に結果を返す</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_screen"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>screen — <code class="function">clear screen</code> はテキストウィンドウを消去します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7436"></a>
              <h2>概要</h2>
              <p>The keyword <code class="function">screen</code> appears only within the sequence <code class="function"><a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a></code>; please see there for a description.</p>
            </div>
            <div class="refsect1">
              <a id="idm7442"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_clear_screen" title="clear screen">clear screen</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_seek"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>seek() — 開いているファイルの位置を変更</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open 1,"foo"
seek #1,q
seek #1,x,"begin"
seek #1,y,"end"
seek #1,z,"here"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7455"></a>
              <h2>概要</h2>
              <p>The <code class="function">seek</code>-command changes the position, where the next <code class="function">input</code> (or <code class="function">peek</code>) statement will read from an open file. Usually files are read from the beginning to the end sequentially; however sometimes you may want to depart from this simple scheme. This can be done with the <code class="function">seek</code>-command, allowing you to change the position, where the next piece of data will be read from the file.</p>
              <p><code class="function">seek</code> accepts two or three arguments: The first one is the number of an already open file. The second one is the position where the next read from the file will start. The third argument is optional and specifies the the point from where the position (the second argument) will count. It can be one of:</p>
              <div class="variablelist">
                <dl class="variablelist">
                  <dt>
                    <span class="term">
                      <code class="literal">begin</code>
                    </span>
                  </dt>
                  <dd>
                    <p>ファイルの先頭からカウントします。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">end</code>
                    </span>
                  </dt>
                  <dd>
                    <p>ファイルの末尾からカウントします。</p>
                  </dd>
                  <dt>
                    <span class="term">
                      <code class="literal">here</code>
                    </span>
                  </dt>
                  <dd>
                    <p>ファイルの現在位置からカウントします。</p>
                  </dd>
                </dl>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7480"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open #1,"count.dat","w"
for a=1 to 10
  print #1,"00000000";
  if (a&lt;10) print #1,";";
next a

dim count(10)
do
  x=int(ran(10))
  i=i+1
  if (mod(i,1000)=0) print ".";
  count(x)=count(x)+1
  curr$=right$("00000000"+str$(count(x)),8)
  seek #1,9*x,"begin"
  print #1,curr$;
loop
          </pre>
                <p>This example increments randomly one of ten counters (in the array <code class="literal">count()</code>); however, the result is always kept and updated within the file <code class="filename">count.dat</code>, so even in case of an unexpected interrupt, the result will not be lost.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7487"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_tell" title="tell">tell</a></code>, <code class="function"><a class="link" href="#ref_open" title="open">open</a></code>, <code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sig"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sig() — 引数の正負符号を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a=sig(b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7506"></a>
              <h2>概要</h2>
              <p>単一引数が正数、負数かゼロならば <code class="literal">+1</code>, <code class="literal">-1</code> あるいは <code class="literal">0</code> を返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm7512"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
clear screen
dim c$(3):c$(1)="red":c$(2)="white":c$(3)="green"
do
  num=ran(100)-50
  print color(c$(2+sig(num))) num
loop
          </pre>
                <p>This program prints an infinite sequence of random number; positive numbers are printed in green, negative numbers are printed red (an exact zero would be printed white). (With a little extra work, this program could be easily extended into a brokerage system)</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7517"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_abs" title="abs()">abs</a></code>, <code class="function"><a class="link" href="#ref_int" title="int()">int</a></code>, <code class="function"><a class="link" href="#ref_frac" title="frac()">frac</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sin"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sin() — 単一引数の正弦を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
y=sin(angle)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7534"></a>
              <h2>概要</h2>
              <p><code class="function">sin</code> 関数は度 (弧度であって次数<span class="emphasis"><em>ではない</em></span>) を処理して正弦を返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm7539"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
new curve
for phi=0 to 2*pi step 0.1
  line to 100+90*sin(phi),100+90*cos(phi)
next phi
close curve
          </pre>
                <p>このプログラムは円を描画します (<code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code> コマンドの実装はひとまず置いて) 。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7546"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_asin" title="asin()">asin</a></code>, <code class="function"><a class="link" href="#ref_cos" title="cos()">cos</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_shl"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>shl() — 引数のビット単位左シフト</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print shl(0b11001,8)	    
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7561"></a>
              <h2>概要</h2>
              <p>The <code class="function">shl</code>-function (<code class="literal">shl</code> stands for <span class="emphasis"><em>shift left</em></span>) treats its first argument as a binary number and shifts it to the left as specified by its second argument, filling up the gaps with zeroes. So <code class="literal">bin$(shl(0b11011,4))</code> returns <code class="literal">110110000</code> (the example uses <code class="function"><a class="link" href="#ref_bin" title="bin$()">bin$</a></code> and a <a class="link" href="#top_numbers_with_base_2_or_16" title="二進数・十六進数の数値">number with base 2</a>).</p>
              <p>注意点: 関数の引数は 32-bit 整数へ変換されます。したがって、いかなる結果であろうと同じ範囲内の制限を受けます。</p>
            </div>
            <div class="refsect1">
              <a id="idm7573"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "二の累乗:"
for i=0 to 5
  print shl(1,i)
next i
          </pre>
                <p>This will print the powers of two from 1 to 32, because the left-shift operation is equivalent to a multiplication with two.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7578"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_bitwise_and" title="and()">and</a></code>, <a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a>, <a class="link" href="#ref_bitnot" title="bitnot()"><code class="function">bitnot</code></a>, <a class="link" href="#ref_shr" title="shr()"><code class="function">shr</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_shr"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>shr() — 引数のビット単位右シフト</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print shr(0b110010000,4)	    
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7599"></a>
              <h2>概要</h2>
              <p>The <code class="function">shr</code>-function (<code class="literal">shr</code> stands for <span class="emphasis"><em>shift right</em></span>) treats its first argument as a binary number and shifts it to the right as specified by its second argument; the rightmost binary digits are discarded during this operation. So <code class="literal">bin$(shr(0b1101100,2))</code> returns <code class="literal">11011</code> (the example uses <code class="function"><a class="link" href="#ref_bin" title="bin$()">bin$</a></code> and a <a class="link" href="#top_numbers_with_base_2_or_16" title="二進数・十六進数の数値">number with base 2</a>).</p>
              <p>注意点: 関数の引数は 32-bit 整数へ変換されます。したがって、いかなる結果であろうと同じ範囲内の制限を受けます。</p>
            </div>
            <div class="refsect1">
              <a id="idm7611"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "二の累乗:"
for i=0 to 5
  print shr(32,i)
next i
          </pre>
                <p>This will print the powers of two from 32 downto 1, because the right-shift operation is equivalent to a division by two (discarding any fractional part).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7616"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_bitwise_and" title="and()">and</a></code>, <a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a>, <a class="link" href="#ref_bitnot" title="bitnot()"><code class="function">bitnot</code></a>, <a class="link" href="#ref_shl" title="shl()"><code class="function">shl</code></a></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sleep"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sleep — 指定秒数経過まで一時停止、休止、待機</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
sleep 4
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7637"></a>
              <h2>概要</h2>
              <p>The <code class="function">sleep</code>-command has many different names: You may write <code class="function">pause</code>, <code class="function">sleep</code> or <code class="function">wait</code> interchangeably; whatever you write, <span class="application">yabasic</span> will always do exactly the same.</p>
              <p>したがって <code class="function"><a class="link" href="#ref_pause" title="pause">pause</a></code> 関数のエントリにある追加情報を必ず参照してください。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_split"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>split() — 文字列を複数の文字列へ分割</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
dim w$(10)
…
num=split(a$,w$())
num=split(a$,w$(),s$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7656"></a>
              <h2>概要</h2>
              <p>The <code class="function">split</code>-function requires a string (containing the text to be split), a <a class="link" href="#ref_array_references" title="配列の参照">reference</a> to a string-array (which will receive the resulting strings, i.e. the <span class="emphasis"><em>tokens</em></span>) and an optional string (with a set of characters, at which to split, i.e. the <span class="emphasis"><em>delimiters</em></span>).</p>
              <p>The <code class="function">split</code>-function regards its first argument (a string) as a list of <span class="emphasis"><em>tokens</em></span> separated by <span class="emphasis"><em>delimiters</em></span> and it will store the list of tokens within the array-reference you have supplied. 備考として、配列は参照渡し (<code class="literal">w$()</code> 形式) となるため、事前にトークンの個数を計算せずとも、必要に応じてサイズが変更されます。要素の位置ゼロ (すなわち <code class="literal">w$(0)</code>) は使いません。</p>
              <p>normally (i.e. if you omit the third, which is the delimiter-argument) the function will regard <span class="emphasis"><em>space</em></span> or <span class="emphasis"><em>tab</em></span> as delimiters for tokens; however by supplying a third argument, you may split at <span class="emphasis"><em>any single</em></span> of the characters within this string. 例えば、第三引数として <code class="literal">":;"</code> を与えた後は、コロン (<code class="literal">:</code>) やセミコロン (<code class="literal">;</code>) が区切り文字のトークンとなります。</p>
              <p>Note, that a sequence of separator-characters will produce a sequence of empty tokens; that way, the number of tokens returned will always be one plus the number of separator characters contained within the string. Refer to the closely related <code class="function"><a class="link" href="#ref_token" title="token()">token</a></code>-function, if you do not like this behaviour. In some way, the <code class="function">split</code>-function focuses on the separators (other than the <code class="function">token</code>-function, which focuses on the <span class="emphasis"><em>tokens</em></span>), hence its name.</p>
              <p>The second argument is a <a class="link" href="#ref_array_references" title="配列の参照">reference</a> on a string-array, where the tokens will be stored; this array will be expanded (or shrunk) to have room for all tokens, if necessary.</p>
              <p>最終的に第一引数にはトークンで区切るテキストを指定します。The <code class="function">split</code>-function returns the number of tokens that have been found.</p>
              <p>Please see the examples below for some hints on the exact behaviour of the <code class="function">split</code>-function and how it differs from the <code class="function">token</code>-function:</p>
            </div>
            <div class="refsect1">
              <a id="idm7689"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "This program will help you to understand, how the"
print "split()-function exactly works and how it behaves"
print "in certain special cases."
print
print "Please enter a line containing tokens separated"
print "by either '=' or '-'"
dim t$(10)
do
  print
  input "Please enter a line: " l$
  num=split(l$,t$(),"=-")
  print num," Tokens: ";
  for a=1 to num
    if (t$(a)="") then
      print "(EMPTY)";
    else
      print t$(a);
    endif
    if (a&lt;num) print ",";
  next a
  print
loop
          </pre>
                <p>このプログラムの結果は以下のとおりです:</p>
                <p>
</p>
                <pre class="screen">
Please enter a line: a
1 Tokens: a

Please enter a line:
0 Tokens:

Please enter a line: ab
1 Tokens: ab

Please enter a line: a=b
2 Tokens: a,b

Please enter a line: a-
2 Tokens: a,(EMPTY)

Please enter a line: a-=
3 Tokens: a,(EMPTY),(EMPTY)

Please enter a line: =a-
3 Tokens: (EMPTY),a,(EMPTY)

Please enter a line: a=-b
3 Tokens: a,(EMPTY),b

Please enter a line: a--b-
4 Tokens: a,(EMPTY),b,(EMPTY)

Please enter a line: -a==b-c==
7 Tokens: (EMPTY),a,(EMPTY),b,c,(EMPTY),(EMPTY)
</pre>
                <p>
</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7696"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_token" title="token()">token</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sqr"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sqr() — 引数の自乗を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a=sqr(b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7709"></a>
              <h2>概要</h2>
              <p>The <code class="function">sqr</code>-function computes the square of its numerical argument (i.e. it multiplies its argument with itself).</p>
              <p>Please note, that other dialects of <acronym class="acronym">basic</acronym> use <code class="function">sqr</code> as the <span class="emphasis"><em>square root</em></span>, rather than the <span class="emphasis"><em>square</em></span>; this needs to be checked especially when porting programs from other Versions of <acronym class="acronym">basic</acronym>.</p>
            </div>
            <div class="refsect1">
              <a id="idm7719"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10
  print a,sqr(a),a**2
next a
          </pre>
                <p>As you may see from the output, <code class="function">sqr</code> can be written as <code class="function">**2</code> (or <code class="function">^2</code>) too.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7727"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sqrt" title="sqrt()">sqrt</a></code>, <code class="function"><a class="link" href="#ref_pow" title="** または ^">**</a></code>, <code class="function"><a class="link" href="#ref_pow" title="** または ^">^</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sqrt"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sqrt() — 引数の平方根を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">執筆予定</pre>
            </div>
            <div class="refsect1">
              <a id="idm7744"></a>
              <h2>概要</h2>
              <p><code class="function">sqrt</code> 関数は数値引数の平方根を求めます。</p>
            </div>
            <div class="refsect1">
              <a id="idm7748"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 5
  print a,sqrt(a),a**(1/2)
next a
          </pre>
                <p>As you may see from the output, <code class="function">sqrt</code> can be written as <code class="function">**(1/2)</code> (or <code class="function">^(1/2)</code>) too.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7756"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sqr" title="sqr()">sqr</a></code>, <code class="function"><a class="link" href="#ref_pow" title="** または ^">**</a></code>, <code class="function"><a class="link" href="#ref_pow" title="** または ^">^</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_static"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>static — サブルーチンの呼び出し時に変数の値を保存します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
sub foo()

  static a

  …

end sub 
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7773"></a>
              <h2>概要</h2>
              <p>The <code class="function">static</code> keyword can be used within subroutines to mark variables as <span class="emphasis"><em>static</em></span>. This has two effects: First, the variable is <span class="emphasis"><em>local</em></span> to the subroutine, i.e. its value is not know outside the subroutine (this is the effect of the <code class="function"><a class="link" href="#ref_local" title="local">local</a></code> keyword). Second, the <code class="function">static</code>-keyword arranges things, so that the variable keeps its value between invocations of the subroutine (this is different from the <code class="function">local</code>-keyword).</p>
            </div>
            <div class="refsect1">
              <a id="idm7783"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
foo()
foo()
foo()

sub foo()
  static a
  local b
  a=a+1
  b=b+1
  print a,b
end sub
          </pre>
                <p>このプログラムはサブルーチンの内側における <code class="function">static</code> および <code class="function">local</code> 変数の相違点を説明したものです。つまり、このような結果となります。</p>
                <p>
</p>
                <pre class="screen">1 1
2 1
3 1
</pre>
                <p>
</p>
                <p>The output shows, that the <code class="function">static</code> variable <code class="varname">a</code> keeps its value between subroutine calls, whereas <code class="varname">b</code> is initialized with the value 0 at every call to the subroutine <code class="function">foo</code>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7797"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_sub" title="sub">sub</a></code>, <code class="function"><a class="link" href="#ref_local" title="local">local</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_step"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>step — for ループのインクリメント階数を指定します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
for a=1 to 10 step 3
  …
next a
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7812"></a>
              <h2>概要</h2>
              <p><code class="function"><a class="link" href="#ref_for" title="for">for</a></code> ループのステップごとにおける増分量を指定します。</p>
              <p>The <code class="function">step</code> (as well as the lower and upper bound) are computed anew in each step; this is not common, but possible, as the example below demonstrates.</p>
            </div>
            <div class="refsect1">
              <a id="idm7819"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for x=1 to 1000 step y
  y=x+y
  print x," ",y," ";
next x
print
          </pre>
                <p>このプログラムは 1 から 1000 までのフィボナッチ数を求めます。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7824"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_for" title="for">for</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_str"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>str$() — 数値を文字列へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=str$(a)	    
b$=str$(x,"##.###")
b$=str$(x,"###,###.##","_.")
c$=str$(x,"%g")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7837"></a>
              <h2>概要</h2>
              <p><code class="function">str$</code> 関数は数値引数の取得後に文字列を返します。</p>
              <p>Note: As a special and trivial case <code class="function">str$</code> also accepts a single string-argument, which it just returns unchanged; this can be useful e.g. when used with <code class="function"><a class="link" href="#ref_eval2" title="eval$()">eval$</a></code>, see the example there for an application.</p>
              <p>For the common case of converting a number to a string, the process can be controlled with an optional third argument (the <span class="emphasis"><em>format</em></span> argument). See the following table of examples to learn about valid values of this argument. Note, that those examples fall in one of two categories: <span class="emphasis"><em>C-style</em></span> and <span class="emphasis"><em>basic-style</em></span>; the first 4 examples in the table below are C-style, the rest of the examples are basic-style. For more information on the C-style formats, you may refer to your favorite documentation on the <span class="application">C</span> programming language. The basic-style formats are much simpler, they just depict the desired output, marking digits with '<code class="literal">#</code>'; groups of (usually three) digits may be separated with colons ('<code class="literal">,</code>'), the decimal dot must be marked by a literal dot ('<code class="literal">.</code>'). Moreover these characters (colons and dot) may be replaced by other characters to satisfy the needs of non-english (e.g. german) languages; see the examples below.</p>
              <p>Note, that for clarity, each space in the result has been replaced by the letter 'x', because it would be hard to figure out, how many spaces are produced <span class="emphasis"><em>exactly</em></span> otherwise.</p>
              <div class="table">
                <a id="idm7855"></a>
                <p class="title">
                  <strong>Table&nbsp;7.2.&nbsp;書式文字列の用例</strong>
                </p>
                <div class="table-contents">
                  <table class="table" summary="書式文字列の用例" border="1">
                    <colgroup>
                      <col />
                      <col />
                    </colgroup>
                    <thead>
                      <tr>
                        <th>
                          <code class="function">参考文字列</code>
                        </th>
                        <th>
                          <code class="function">1000*<code class="constant">pi</code> の変換結果</code>
                        </th>
                        <th>
                          <code class="function">概要</code>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>
                          <code class="literal">%g</code>
                        </td>
                        <td>
                          <code class="literal">3141.59</code>
                        </td>
                        <td><span class="application">yabasic</span> の内部処理では倍精度浮動小数点数を使います。よって数値は書式指定子 <code class="literal">%g</code> の書式を使えます。</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">%2.5f</code>
                        </td>
                        <td>
                          <code class="literal">3141.59265</code>
                        </td>
                        <td>The '<code class="literal">2</code>' determines the minimum length of the output; but if needed (as in the example) the output can be longer. The '<code class="literal">5</code>' is the number of digits after the decimal point.</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">%12.5f</code>
                        </td>
                        <td>
                          <code class="literal">xx3141.59265</code>
                        </td>
                        <td>Two spaces (which appear as '<code class="literal">x</code>') are added to pad the output to the requested length of 12 characters.</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">%012.5g</code>
                        </td>
                        <td>
                          <code class="literal">0000003141.6</code>
                        </td>
                        <td>The '<code class="literal">g</code>' requests, that the precision ('<code class="literal">5</code>') specifies the <span class="emphasis"><em>overall</em></span> number of digits (before and after the decimal point).</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">%-12.5f</code>
                        </td>
                        <td>
                          <code class="literal">3141.59265xx</code>
                        </td>
                        <td>The '<code class="literal">-</code>' requests the output to be left-centered (therefore the filling space appears at the right).</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">#####.##</code>
                        </td>
                        <td>
                          <code class="literal">x3141.59</code>
                        </td>
                        <td>Each '<code class="literal">#</code>' specifies a digit (either before or after the dot), the '<code class="literal">.</code>' specifies the position of the dot. As 1000*<code class="constant">pi</code> does not have enough digits, the 5 requested digits before the dot are filled up with a space (which shows up as an '<code class="literal">x</code>').</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">##,###.##</code>
                        </td>
                        <td>
                          <code class="literal">x3,141.59</code>
                        </td>
                        <td>Nearly the same as above, but the colon from the format shows up within the result.</td>
                      </tr>
                      <tr>
                        <td><code class="literal">##,###.##</code> and an <span class="emphasis"><em>additional</em></span> argument of <code class="literal">".,"</code></td>
                        <td>
                          <code class="literal">x3.141,59</code>
                        </td>
                        <td>Similar to the example above, but colon and dot are replaced with dot and colon respectively.</td>
                      </tr>
                      <tr>
                        <td><code class="literal">##,###.##</code> and an <span class="emphasis"><em>additional</em></span> argument of <code class="literal">"_,"</code></td>
                        <td>
                          <code class="literal">x3_141,59</code>
                        </td>
                        <td>Similar to the example above, but colon and dot are replaced with underscore and colon respectively.</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">#####</code>
                        </td>
                        <td>
                          <code class="literal">x3142</code>
                        </td>
                        <td>書式文字列に点を含みません。結果として小数桁はありません。</td>
                      </tr>
                      <tr>
                        <td>
                          <code class="literal">##.###</code>
                        </td>
                        <td>
                          <code class="literal">##.###</code>
                        </td>
                        <td>As 1000*<code class="constant">pi</code> has 4 digits in front of the decimal dot and the format only specifies 2, <span class="application">yabasic</span> does not know what to do; therefore it chooses just to reproduce the format string.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <br class="table-break" />
            </div>
            <div class="refsect1">
              <a id="idm7953"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  input "書式文字列を入力してください: " f$
  a$=str$(1000*pi,f$)
  for a=1 to len(a$)
    if (mid$(a$,a,1)=" ") mid$(a$,a,1)="x"
  next a
  print a$
loop
          </pre>
                <p>このプログラムは上述のテーブルから得た結果を表示するのに使います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm7958"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_using" title="using">using</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_sub"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>sub — ユーザ定義サブルーチンの宣言</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foo(2,"hello")

…

sub foo(bar,baz$)
  …
  return qux
  …
end sub
</pre>
            </div>
            <div class="refsect1">
              <a id="idm7973"></a>
              <h2>概要</h2>
              <p><code class="function">sub</code> キーワードは<span class="emphasis"><em>ユーザ定義サブルーチン</em></span>の定義における起点です。ユーザ定義サブルーチンを使うと自作コマンドや関数により <span class="application">yabasic</span> をある程度拡張可能です。サブルーチンは引数 (数値や文字列) を取得後に返値として数値や文字列を返します (とはいえ、返値を変数へ代入することは任意です)。</p>
              <p><code class="function">sub</code> キーワードに続けてサブルーチン名を指定します。名前 (説明上は: <code class="function">foo</code>) の末尾が '<code class="literal">$</code>' ならば、サブルーチンは文字列を、さもなければ数値を返してください  (<code class="function"><a class="link" href="#ref_return" title="return">return</a></code> を用いて)。</p>
              <p><span class="application">yabasic</span> ではサブルーチンの名前に続けて一組の丸括弧が必要です。この丸括弧ではサブルーチン呼び出し時にパラメータのリストを値として任意指定可能です。サブルーチン呼び出し時にパラメータを省略すると、ゼロ値 (数値パラメータ) や空文字列 (文字列パラメータ) として扱われます。なお、 特別変数 <code class="varname"><a class="link" href="#ref_numparams" title="numparams">numparams</a></code> により、サブルーチン呼び出し時に渡されたパラメータ数を検出できます。</p>
              <p>サブルーチンのパラメータは暗黙的にローカルになります (詳しい説明は <code class="function"><a class="link" href="#ref_local" title="local">local</a></code> を参照してください)。</p>
              <p>サブルーチンから <code class="function"><a class="link" href="#ref_return" title="return">return</a></code> でいつでも復帰できます。併せて <code class="function">return</code> キーワードには返値を指定可能です。備考として、サブルーチン単体で複数箇所の <code class="function">return</code> を使用可能です。</p>
              <p>最後に <code class="function">end sub</code> キーワードでサブルーチン定義を終了します。Note, that the definition of a subroutine <span class="emphasis"><em>need not</em></span> appear within the program <span class="emphasis"><em>before</em></span> the first call to this sub.</p>
              <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                <h3 class="title">注意</h3>
                <p>As <span class="emphasis"><em>braces</em></span> have two uses in <span class="application">yabasic</span> (i.e. for supplying arguments to a subroutine as well as to list the indices of an array). <span class="application">yabasic</span> can not tell apart an array from a subroutine with the same name. したがって、サブルーチンと同名の配列は定義<span class="emphasis"><em>できません</em></span>！</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8007"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
p=2
do
  if (is_prime(p)) print p
  p=p+1
loop

sub is_prime(a)
  local b
  for b=2 to sqrt(a)
    if (frac(a/b)=0) return false
  next b
  return true
end sub
          </pre>
                <p>この用例は素数を求めるのにお勧めできない方法です。ですが、サブルーチンの用法を説明する上では好例であります。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8012"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_local" title="local">local</a></code>, <code class="function"><a class="link" href="#ref_static" title="static">static</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_switch"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>switch — 値に従い複数の選択肢からひとつ選びます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
switch a
  case 1
  case 2
  …
end switch

…

switch a$
  case "a"
  case "b"
end switch
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8029"></a>
              <h2>概要</h2>
              <p>The <code class="function">switch</code>-statement selects one of many codepaths depending on a numerical or string expression. I.e. it takes an expression (either numeric or string) and compares it with a series of values, each wrapped within a <code class="function"><a class="link" href="#ref_case" title="case">case</a></code>-clause. If the expression equals the value given in a <code class="function">case</code>-clause, the subsequent statements are executed.</p>
              <p>The <code class="function"><a class="link" href="#ref_default" title="default">default</a></code>-clause allows one to specify commands, which should be executed, if none of <code class="function">case</code>-clauses matches.</p>
              <p>Note, that many <code class="function">case</code>-clauses might be clustered (e.g. <code class="literal">case "a":case "b":case "c"</code>). Or put another way: You need a <code class="function">break</code>-statement at the end of a <code class="function">case</code>-branch, if you do not want to run into the next <code class="function">case</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm8046"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "一桁の数字を入力してください: " n
switch n
  case 0:print "zero":break
  case 1:print "one":break
  case 2:print "two":break
  case 3:print "three":break
  case 4:print "four":break
  case 5:case 6: case 7:case 8:case 9
    print "それ以上 !":break
  default:print "やあ！ これは一桁以上だね！"
end switch 
          </pre>
                <p>この用例では一桁の数字を文字列へ変換します。注意点として、 5 から 7 までを扱います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8051"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_switch" title="switch">switch</a></code>, <code class="function"><a class="link" href="#ref_case" title="case">case</a></code>, <code class="function"><a class="link" href="#ref_break" title="break">break</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_system"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>system() — オペレーティング・システムに外部コマンド名を渡した後に終了コードを返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
ret=system("foo")
system("bar")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8068"></a>
              <h2>概要</h2>
              <p><code class="function">system</code> コマンドは単体文字列の取得後に指定されたコマンドを実行します。この関数はコマンドの終了コードを返します。なお、結果は破棄されます (もしあれば)。</p>
            </div>
            <div class="refsect1">
              <a id="idm8072"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "削除するファイルの名前を入力してください."
input f$
if (system("rm "+f$+" &gt;/dev/null 2&gt;&amp;1")) then
  print "エラー！"
else
  print "完了。"
endif
          </pre>
                <p>このプログラムは Unix 専用です: ファイルの削除で Unix コマンド <code class="function">rm</code> を使います。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8078"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_system2" title="system$()">system$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_system2"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>system$() — オペレーティング・システムに外部コマンド名を渡した後に結果を返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print system$("dir")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8091"></a>
              <h2>概要</h2>
              <p><code class="function">system$</code> コマンドは単体文字列の取得後に指定されたコマンドがオペレーティングシステムで見つかれば実行します。このコマンドの結果は大容量の文字列として返します。</p>
            </div>
            <div class="refsect1">
              <a id="idm8095"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "ディレクトリの名前を入力してください: " d$
print
print "ディレクトリの内容は '"+d$+"':"
print system$("dir "+d$)
          </pre>
                <p>この用例は <span class="application">dir</span> コマンド (Unix と Windows で同じ動作をする唯一のプログラム) を用いてディレクトリの内容を一覧表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8101"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_system" title="system()">system</a></code>, <code class="function"><a class="link" href="#ref_chomp" title="chomp$()">chomp</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_t"></a>T</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_tan">tan()</a> </span> <span class="refpurpose"> — 引数の正接を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_tell">tell</a> </span> <span class="refpurpose"> — 開いているファイルの現在位置を取得</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_text">text</a> </span> <span class="refpurpose"> — グラフィックウィンドウへテキストを出力</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_then">then</a> </span> <span class="refpurpose"> — <code class="function">if</code> ステートメントにおける正式と略式の識別</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_time">time$</a> </span> <span class="refpurpose"> — 現在時刻を文字列で返す</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_to">to</a> </span> <span class="refpurpose"> — このキーワードは他のステートメントに付随するものとして指定します</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_token">token()</a> </span> <span class="refpurpose"> — 文字列を複数の文字列へ区切ります</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_triangle">triangle</a> </span> <span class="refpurpose"> —  三角形の描画</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_trim">trim$()</a> </span> <span class="refpurpose"> — 引数の先頭と末尾にある空白文字を除去</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_true">true</a> </span> <span class="refpurpose"> — 値 1 の定数</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_tan"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>tan() — 引数の正接を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
foo=tan(bar)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8118"></a>
              <h2>概要</h2>
              <p>The <code class="function">tan</code>-function computes the tangent of its arguments (which should be specified in radians).</p>
            </div>
            <div class="refsect1">
              <a id="idm8122"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=0 to 45
  print tan(a*pi/180)
next a
          </pre>
                <p>This example simply prints the tangent of all angles between 0 and 45 degrees.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8127"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_atan" title="atan()">atan</a></code>, <code class="function"><a class="link" href="#ref_sin" title="sin()">sin</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_tell"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>tell — 開いているファイルの現在位置を取得</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open #1,"foo"
  …
position=tell(#1)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8142"></a>
              <h2>概要</h2>
              <p>The <code class="function">tell</code>-function requires the number of an open file as an argument. It returns the position (counted in bytes, starting from the beginning of the file) where the next read will start.</p>
            </div>
            <div class="refsect1">
              <a id="idm8146"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open #1,"foo","w"
print #1 "Hello World !"
close #1

open #1,"foo"
seek #1,0,"end"
print tell(#1)
close 1
          </pre>
                <p>この用例ではファイルの容量を得るために <code class="function">tell</code> を (誤って) 用いています。<code class="function">seek</code> の位置としてファイルポインタはファイル終端を指しているため、 <code class="function">tell</code> ではファイルの全長を返します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8154"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_tell" title="tell">tell</a></code>, <code class="function"><a class="link" href="#ref_open" title="open">open</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_text"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>text — グラフィックウィンドウへテキストを出力</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
text x,y,"foo"
text x,y,"foo","lb"
text x,y,"foo","cc","font"
text x,y,"foo","font","rt"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8169"></a>
              <h2>概要</h2>
              <p>The <code class="function">text</code>-commands displays a text-string (the third argument) at the given position (the first two arguments) within an already <code class="function"><a class="link" href="#ref_open_window" title="open window">open</a></code>ed <code class="function"><a class="link" href="#ref_open_window" title="open window">window</a></code>. The font to be used can be optionally specified as either the fourth or fifth argument (<code class="literal">"font"</code> in the example above). A font specified this way will also be used for any subsequent <code class="function">text</code>-commands, as long as they do not specify a font themselves.</p>
              <p>The fourth or fifth optional argument (<code class="literal">"lb"</code> in the example above) can be used to specify the alignment of the text with respect to the specified position. This argument is always two characters long: The first character specifies the horizontal alignment and can be either <code class="literal">l</code>, <code class="literal">r</code> or <code class="literal">c</code>, which stand for <em class="wordasword">left</em>, <em class="wordasword">right</em> or <em class="wordasword">center</em>. The second character specifies the vertical alignment and can be one of <code class="literal">t</code>, <code class="literal">b</code> or <code class="literal">c</code>, which stand for <em class="wordasword">top</em>, <em class="wordasword">bottom</em> or <em class="wordasword">center</em> respectively. If you omit this alignment argument, the default <code class="literal">"lb"</code> applies; however this default may be changed with <code class="function"><a class="link" href="#ref_poke" title="poke">poke "textalign","xx"</a></code></p>
            </div>
            <div class="refsect1">
              <a id="idm8196"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 500,200
clear screen
data "lt","lc","lb","ct","cc","cb","rt","rc","rb"
for a=1 to 9
  read align$	
  print "整列: ",align$
  line 50*a-15,100,50*a+15,100
  line 50*a,85,50*a,115
  text 50*a,100,"Test",align$
  inkey$ 
next a
          </pre>
                <p>This program draws nine crosses and writes the same text at each; however it goes through all possible nine alignment strings, showing their effect.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8201"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code>, <code class="function"><a class="link" href="#ref_poke" title="poke">poke</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_then"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>then — <code class="function">if</code> ステートメントにおける正式と略式の識別</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
if (a&lt;b) then
  …
endif
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8219"></a>
              <h2>概要</h2>
              <p>The keyword <code class="function">then</code> is part of the <code class="function"><a class="link" href="#ref_if" title="if">if</a></code>-statement; please see there for further explanations. However, not every <code class="function">if</code>-statement requires the keyword <code class="function">then</code>: If the keyword <code class="function">then</code> is present, the <code class="function">if</code>-clause may extend over more than one line, and the keyword <code class="function">endif</code> is required to end it. If the keyword <code class="function">then</code> is <span class="emphasis"><em>not</em></span> present, the <code class="function">if</code>-statement extends up to the end of the line, and any <code class="function">endif</code> would be an error.</p>
            </div>
            <div class="refsect1">
              <a id="idm8234"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
if (1&lt;2) then
  print "Hello ";
endif

if (2&lt;3) print "world"
if (2&lt;1)
  print "!"
          </pre>
                <p>この用例は <code class="literal">Hello world</code> を表示します。Note, that no exclamation mark (<code class="literal">!</code>) is printed, which might come as a surprise and may be changed in future versions of <span class="application">yabasic</span>.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8242"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_if" title="if">if</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_time"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>time$ — 現在時刻を文字列で返す</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print time$
print time$()
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8255"></a>
              <h2>概要</h2>
              <p><code class="function">time$</code> 関数は現在時刻をハイフン '<code class="literal">-</code>' で分離した四種類のフィールドとして返します。フィールドは:</p>
              <p>
</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>現在時は 0 から 23 までの範囲です。二文字の長さでゼロ  (例えば <code class="literal">00</code> または <code class="literal">04</code>)  で桁揃えします。</p>
                  </li>
                  <li class="listitem">
                    <p>分数はゼロで桁揃えします。</p>
                  </li>
                  <li class="listitem">
                    <p>秒数はゼロで桁揃えします。</p>
                  </li>
                  <li class="listitem">
                    <p>秒数として、プログラム起動後を起点とした経過秒数を返します。この値の増加秒数はプログラムの実行時間と同じです。したがって範囲は関係がなくゼロで桁揃えはしません。</p>
                  </li>
                </ul>
              </div>
              <p>
</p>
              <p>このドキュメンテーションの結果において、 <code class="function">time$</code> は <code class="computeroutput">22-58-53-0</code> を返します。Note, that the first three of the four fields returned by <code class="function">time$</code> have a fixed width; therefore it is easy to extract some fields with the usual string-functions <code class="function"><a class="link" href="#ref_mid" title="mid$()">mid$</a></code> (and others).</p>
            </div>
            <div class="refsect1">
              <a id="idm8278"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "こんにちは、現在時刻は ",time$
print "空 for ループを一千万回繰り返します ";
for a=1 to 10000000:next a
print "現在時刻 ",time$
print peek("secondsrunning")," 秒経過。"
          </pre>
                <p>This program benchmarks the <code class="function">for</code>-loop; however, it does not use the fourth field of the string returned by <code class="function">time$</code>, because that string wraps around every 60 seconds; rather the <a class="link" href="#ref_peek" title="peek"><code class="function">peek</code></a> <code class="literal">"secondsrunning"</code> is queried.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8288"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_date" title="date$">date</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_to"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>to — このキーワードは他のステートメントに付随するものとして指定します</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
for a=1 to 100 step 2
  …
next a

line x,y to a,b
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8301"></a>
              <h2>概要</h2>
              <p><code class="function">to</code> キーワードには (一切関連性のない) 二通りの用途があります:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p><code class="function"><a class="link" href="#ref_for" title="for">for</a></code> ステートメントでは、ループの上限を指定します。</p>
                  </li>
                  <li class="listitem">
                    <p>Within any graphical command (e.g. <code class="function">line</code>), that requires two points (i.e. four numbers) as arguments, a comma '<code class="literal">,</code>' might be replaced with the keyword <code class="literal">to</code>. すなわち、このようなコマンドで <code class="literal">100,100,200,200</code> ではなく <code class="literal">100,100 to 200,200</code> と書けるようになります。</p>
                  </li>
                </ul>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8317"></a>
              <h2>用例</h2>
              <p>後述の関連に掲載されているコマンド一覧から用例を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm8320"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_for" title="for">for</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_token"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>token() — 文字列を複数の文字列へ区切ります</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
dim w$(10)
…
num=token(a$,w$())
num=token(a$,w$(),s$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8337"></a>
              <h2>概要</h2>
              <p>The <code class="function">token</code>-function accepts a string (containing the text to be split), a <a class="link" href="#ref_array_references" title="配列の参照">reference</a> to a string-array (which will receive the resulting strings, i.e. the <span class="emphasis"><em>tokens</em></span>) and an optional string (with a set of characters, at which to split, i.e. the <span class="emphasis"><em>delimiters</em></span>).</p>
              <p>The <code class="function">token</code>-function regards its first argument as a list of <span class="emphasis"><em>tokens</em></span> separated by <span class="emphasis"><em>delimiters</em></span> and it will store the list of tokens within the array-reference that has been supplied. 備考として、配列は参照渡し (<code class="literal">w$()</code> 形式) となるため、事前にトークンの個数を計算せずとも、必要に応じてサイズが変更されます。要素の位置ゼロ (すなわち <code class="literal">w$(0)</code>) は使いません。</p>
              <p>Normally (i.e. if you omit the third, the delimiter-argument) the function will regard <span class="emphasis"><em>space</em></span> or <span class="emphasis"><em>tab</em></span> as delimiters for tokens; however by supplying a third argument, you may split at <span class="emphasis"><em>any single</em></span> of the characters within this string. 例えば、第三引数として <code class="literal">":;"</code> を与えた後は、コロン (<code class="literal">:</code>) やセミコロン (<code class="literal">;</code>) が区切り文字のトークンとなります。</p>
              <p>Note, that <code class="function">token</code> will never produce empty tokens, even if two or more separators follow in sequence. Refer to the closely related <code class="function"><a class="link" href="#ref_token" title="token()">split</a></code>-function, if you do not like this behaviour. In some way, the <code class="function">token</code>-function focuses on the tokens and not on the separators (other than the <code class="function">split</code>-function, which focuses on the separators).</p>
              <p>The second argument is a <a class="link" href="#ref_array_references" title="配列の参照">reference</a> on a string-array, where the tokens will be stored; this array will be expanded (or shrunk) as necessary to have room for all tokens.</p>
              <p>最終的に第一引数にはトークンで区切るテキストを指定します。<code class="function">token</code> 関数は検出したトークンの個数を返します。</p>
              <p>Please see the examples below for some hints on the exact behaviour of the <code class="function">token</code>-function and how it differs from the <code class="function">split</code>-function:</p>
            </div>
            <div class="refsect1">
              <a id="idm8370"></a>
              <h2>用例</h2>
              <div class="informalexample"><pre class="programlisting">
print "This program will help you to understand, how the"
print "token()-function exactly works and how it behaves"
print "in certain special cases."
print
print "Please enter a line containing tokens separated"
print "by either '=' or '-'"
dim t$(10)
do
  print
  input "Please enter a line: " l$
  num=token(l$,t$(),"=-")
  print num," Tokens: ";
  for a=1 to num
    if (t$(a)="") then
      print "(EMPTY)";
    else
      print t$(a);
    endif
    if (a&lt;num) print ",";
  next a
  print
loop
          </pre>
	    このプログラムの結果は以下のとおりです:
	    <p>
</p><pre class="screen">
Please enter a line: a
1 Tokens: a

Please enter a line:
0 Tokens:

Please enter a line: ab
1 Tokens: ab

Please enter a line: a=b
2 Tokens: a,b

Please enter a line: a-
1 Tokens: a

Please enter a line: a-=
1 Tokens: a

Please enter a line: =a-
1 Tokens: a

Please enter a line: a=-b
2 Tokens: a,b

Please enter a line: a--b-
2 Tokens: a,b

Please enter a line: -a==b-c==
3 Tokens: a,b,c
</pre><p>
</p></div>
            </div>
            <div class="refsect1">
              <a id="idm8376"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_split" title="split()">split</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_triangle"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>triangle — 三角形の描画</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window 100,100
triangle 100,100,50,50,100,50
fill triangle 50,100,100,50,200,200
clear fill triangle 20,20,10,10,200,200
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8389"></a>
              <h2>概要</h2>
              <p>The <code class="function">triangle</code>-command draws a triangle; it requires 6 parameters: The x- and y-coordinates of the three points making up the triangle. With the optional keywords <code class="function">clear</code> and <code class="function">fill</code> (which may appear both and in any sequence) the triangle can be cleared and filled respectively.</p>
            </div>
            <div class="refsect1">
              <a id="idm8395"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open window 200,200
do
  phi=phi+0.2
  i=i+2
  color mod(i,255),mod(85+2*i,255),mod(170+3*i,255)
  dx=100*sin(phi):dy=20*cos(phi)
  fill triangle 100+20*sin(phi),100+20*cos(phi),100-20*sin(phi),100-20*cos(phi),100-80*cos(phi),100+80*sin(phi)
  sleep 0.1
loop
          </pre>
                <p>この用例はユーザが満足するまで色付きの三角形を描画します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8400"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_open_window" title="open window">open window</a></code>, <code class="function"><a class="link" href="#ref_open_printer" title="open printer">open printer</a></code>, <code class="function"><a class="link" href="#ref_line" title="line">line</a></code>, <code class="function"><a class="link" href="#ref_circle" title="circle">circle</a></code><code class="function">, <a class="link" href="#ref_rectangle" title="rectangle">rectangle</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_trim"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>trim$() — 引数の先頭と末尾にある空白文字を除去</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
a$=trim$(b$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8421"></a>
              <h2>概要</h2>
              <p><code class="function">trim$</code> 関数は文字列の左右両方にある空白文字をすべて除去したものを返します。<code class="function">trim$</code> の呼び出しは <code class="function">rtrim$(ltrim$())</code>  の呼び出しに相当します。</p>
            </div>
            <div class="refsect1">
              <a id="idm8427"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
do
  input "続けますか？ yes か no で答えてください: " a$
  a$=lower$(trim$(a$))
  if (len(a$)&gt;0 and a$=left$("no",len(a$)) exit
loop
          </pre>
                <p>This example asks for an answer (<code class="literal">yes</code> or <code class="literal">no</code>) and removes spaces with <code class="function">trim$</code> to make the comparison with the string <code class="literal">"no"</code> more bulletproof.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8436"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_ltrim" title="ltrim$()">ltrim$</a></code>, <code class="function"><a class="link" href="#ref_rtrim" title="rtrim$()">rtrim$</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_true"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>true — 値 1 の定数</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
okay=true
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8451"></a>
              <h2>概要</h2>
              <p>定数 <code class="function">true</code> は以降の分岐条件 (例えば <code class="function">if</code> ステートメント) で用いる変数へ代入可能です。</p>
              <p><code class="function">true</code> は <code class="function">TRUE</code> または <code class="function">TrUe</code> としても記述可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm8460"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "文字列をすべて英字小文字で入力してください: " a$
if (is_upper(a$)) print "Okay"

sub is_upper(a$)
  if (a$=upper$(a$)) return true
  return false
end sub
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8464"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_false" title="false">false</a>
                </code>
              </p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_u"></a>U</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_until">until</a> </span> <span class="refpurpose"> — <code class="function">repeat</code> ループの終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_upper">upper$()</a> </span> <span class="refpurpose"> — 文字列を英字大文字へ変換</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_using">using</a> </span> <span class="refpurpose"> — 書式を指定して数値を出力</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_until"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>until — <code class="function">repeat</code> ループの終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
repeat
  …
until …
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8480"></a>
              <h2>概要</h2>
              <p><code class="function">until</code> キーワードは <code class="function"><a class="link" href="#ref_repeat" title="repeat">repeat</a></code> キーワードにより導入されたループを終了します。<code class="function">until</code> の引数には条件式 (詳しくは<a class="link" href="#ref_conditions_and_expressions" title="分岐条件と式">こちら</a>を参照) が必要です。この条件式が true である限り <span class="emphasis"><em>until</em></span> によるループは続行します。</p>
            </div>
            <div class="refsect1">
              <a id="idm8489"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
c=1
s=1
repeat
  l=c
  s=-(s+sig(s))
  c=c+1/s
  print c
until abs(l-c)&lt;0.000001
          </pre>
                <p>このプログラムは 1/1-1/2+1/3-1/4+1/5-1/6+1/7-1/8+ … の数列を求めます。これがどの値で収束するかご存じであれば、作者までお知らせください。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8494"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_repeat" title="repeat">repeat</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_upper"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>upper$() — 文字列を英字大文字へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
u$=upper$(a$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8507"></a>
              <h2>概要</h2>
              <p><code class="function">upper$</code> 関数は引数として単体文字列の取得後に全体を大文字へ変換します。</p>
            </div>
            <div class="refsect1">
              <a id="idm8511"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
line input "文字 'e' を抜いた短文を入力してください: " l$
p=instr(upper$(l$),"E")
if (p) then
  l$=lower$(l$)
  mid$(l$,p,1)="E"
  print "おや、間違ってますよ。こちらを参照！"
  print l$
else
  print "おつかれさまでした。"
endif
          </pre>
                <p>This program asks for a sentence and marks the first (if any) occurrence of the letter 'e' by converting it to upper case (in contrast to the rest of the sentence, which is converted to lower case).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8516"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_lower" title="lower$()">lower$</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_using"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>using — 書式を指定して数値を出力</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print a using "##.###"
print a using("##.###",",.")
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8529"></a>
              <h2>概要</h2>
              <p>The <code class="function">using</code>-keyword may appear as part of the <code class="function">print</code>-statement and specifies the format (e.g. the number of digits before and after the decimal dot), which should be used to print the number.</p>
              <p>The possible values for the format argument (<code class="literal">"##.###"</code> in the synopsis above) are described within the entry for the <code class="function"><a class="link" href="#ref_str" title="str$()">str$</a></code>-function; especially the second line in the synopsis (<code class="literal">print a using("##.###",",.")</code>) will become clear after referring to <code class="function">str$</code>. In fact the <code class="function">using</code> clause is closely related to the <code class="function">str$</code>-function; the former can always be rewritten using the latter; i.e. <code class="literal">print foo using bar$</code> is always equivalent to <code class="literal">print str$(foo,bar$)</code>. したがって、より理解を深めるために <code class="function"><a class="link" href="#ref_str" title="str$()">str$</a></code> をご確認ください。</p>
            </div>
            <div class="refsect1">
              <a id="idm8546"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
for a=1 to 10
  print sqrt(ran(10000*a)) using "#########.#####"
next a
          </pre>
                <p>This example prints a column of square roots of random number, nicely aligned at the decimal dot.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8551"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_str" title="str$()">str$</a></code></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_v"></a>V</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_val">val()</a> </span> <span class="refpurpose"> — 文字列を数値へ変換</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_val"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>val() — 文字列を数値へ変換</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=val(x$)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8568"></a>
              <h2>概要</h2>
              <p>The <code class="function">val</code>-function checks, if the start of
its string argument forms a floating point number and then returns this
number. The string therefore has to start with digits (only whitespace in front is allowed), otherwise the <code class="function">val</code>-function returns zero.</p>
            </div>
            <div class="refsect1">
              <a id="idm8573"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
input "インチ (in) またはセンチメートル (cm) で長さを入力してください " l$
if (right$(l$,2)="in") then
  l=val(l$)*2.51
else
  l=val(l$)
print "入力結果 ",l,"cm."
          </pre>
                <p>この用例ではインチまたはセンチメートルが指定された場合は長さに関する質問と確認を行います。その後に長さをセンチメートルへ変換します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8578"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_str" title="str$()">str$</a>
                </code>
              </p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_w"></a>W</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_wait">wait</a> </span> <span class="refpurpose"> — 指定秒数経過まで一時停止、休止、待機</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_wend">wend</a> </span> <span class="refpurpose"> — while ループの終点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_while">while</a> </span> <span class="refpurpose"> — <code class="function">while</code> ループの起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_origin">window origin</a> </span> <span class="refpurpose"> — ウィンドウの原点を移動</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_wait"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>wait — 指定秒数経過まで一時停止、休止、待機</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
wait 4
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8593"></a>
              <h2>概要</h2>
              <p>The <code class="function">wait</code>-command has many different names: You may write <code class="function">pause</code>, <code class="function">sleep</code> or <code class="function">wait</code> interchangeably; whatever you write, <span class="application">yabasic</span> will always do exactly the same.</p>
              <p>したがって <code class="function"><a class="link" href="#ref_pause" title="pause">pause</a></code> 関数のエントリにある追加情報を必ず参照してください。</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_wend"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>wend — <code class="function"><a class="link" href="#ref_while" title="while">while</a></code> ループの終点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
while a&lt;b
  …
wend
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8614"></a>
              <h2>概要</h2>
              <p><code class="function">wend</code> キーワードは <code class="function"><a class="link" href="#ref_while" title="while">while</a></code> ループの終点指定です。詳細情報は <code class="function"><a class="link" href="#ref_while" title="while">while</a></code> キーワードを参照してください。</p>
              <p><code class="function">wend</code> は <code class="function">end while</code> または <code class="function">end-while</code> としても記述可能です。</p>
            </div>
            <div class="refsect1">
              <a id="idm8626"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
line input "短文を入力してください: " a$
p=instr(a$,"e")
while p
  mid$(a$,p,1)="E"
  p=instr(a$,"e")
wend
print a$
          </pre>
                <p>This example reads a sentence and converts every occurrence of the letter <code class="literal">e</code> into uppercase (<code class="literal">E</code>).</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8633"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_while" title="while">while</a></code> (次のエントリを参照).</p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_while"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>while — <code class="function">while</code> ループの起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
while …
  …
wend
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8647"></a>
              <h2>概要</h2>
              <p>The <code class="function">while</code>-keyword starts a <code class="function">while</code>-loop, i.e. a loop that is executed as long as the condition (which is specified after the keyword <code class="function">while</code>) evaluates to <code class="constant">true</code>.</p>
              <p>Note, that the body of such a <code class="function">while</code>-loop will not be executed at all, if the condition following the <code class="function">while</code>-keyword is not true initially.</p>
              <p>ループを早期終了したい場合は、 <code class="function"><a class="link" href="#ref_break" title="break">break</a></code> ステートメントが使えます。</p>
            </div>
            <div class="refsect1">
              <a id="idm8660"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
open #1,"foo"
while !eof(1)
  line input #1 a$
  print a$
wend
          </pre>
                <p>このプログラムはファイル <code class="literal">foo</code> から一行ずつ読み取って出力します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8666"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_until" title="until">until</a></code>, <code class="function"><a class="link" href="#ref_break" title="break">break</a></code>, <code class="function"><a class="link" href="#ref_wend" title="wend">wend</a></code>, <code class="function"><a class="link" href="#ref_do" title="do">do</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_origin"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>origin — ウィンドウの原点を移動</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
open window 200,200
origin "cc"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8685"></a>
              <h2>概要</h2>
              <p>The <code class="function">origin</code>-command applies to graphic windows and moves the origin of the coordinate system to one of nine point within the window. The normal position of the origin is in the upper left corner of the window; however in some cases this is inconvenient and moving the origin may save you from subtracting a constant offset from all of your coordinates.</p>
              <p>However, you may not move the origin to an arbitrary position; in horizontal position there are only three positions: left, center and right, which are decoded by the letters <code class="literal">l</code>, <code class="literal">c</code> and <code class="literal">r</code>. In vertical position the allowed positions are top, center and bottom; encoded by the letters <code class="literal">t</code>, <code class="literal">c</code> and <code class="literal">b</code>. Taking the letters together, you arrive at a string, which might be passed as an argument to the command; e.g. <code class="literal">"cc"</code> or <code class="literal">"rt"</code>.</p>
            </div>
            <div class="refsect1"><a id="idm8698"></a><h2>用例</h2>100,100
	  
	  <div class="informalexample"><pre class="programlisting">
open window 200,200
window origin "cc"
circle 0,0,60
          </pre><p>この用例は画面中央に表示したウィンドウの内側の中心に円を描画します。</p></div></div>
            <div class="refsect1">
              <a id="idm8703"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_open_window" title="open window">open window</a>
                </code>
              </p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_x"></a>X</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_xor">xor()</a> </span> <span class="refpurpose"> — 排他的論理和を求めます
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_xor"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>xor() — 排他的論理和を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
x=xor(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8718"></a>
              <h2>概要</h2>
              <p><code class="function">xor</code> 関数は数値引数一組のビット単位<span class="emphasis"><em>排他的  or</em></span> を求めます。To understand the result, both arguments should be viewed as binary numbers (i.e. a sequence of digits 0 and 1); a bit of the result will then be 1, if exactly one argument has a 1 and the other has a 0 at this position in their binary representation.</p>
              <p>双方の引数は暗黙的に整数値に変換されます。したがって、二進数形式の負数であるときに <code class="function">and</code> へ渡すと想定外の結果となる場合があります。</p>
            </div>
            <div class="refsect1">
              <a id="idm8725"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print xor(7,4)
          </pre>
                <p>この結果は <code class="computeroutput">3</code> です。This result is obvious, if you note, that the binary representation of 7 and 4 are 111 and 100 respectively; this will yield 011 in binary representation or 2 as decimal.</p>
                <p>The <code class="function">eor</code>-function is the same as the <code class="function">xor</code>-function; both are synonymous; however they have each their own description, so you may check out the entry of <code class="function"><a class="link" href="#ref_eor" title="eor()">eor</a></code> for a slightly different view.</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8736"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_bitwise_and" title="and()">and</a></code>, <a class="link" href="#ref_bitwise_or" title="or()"><code class="function">or</code></a>, <a class="link" href="#ref_eor" title="eor()"><code class="function">eor</code></a>, <a class="link" href="#ref_bitnot" title="bitnot()"><code class="function">bitnot</code></a></p>
            </div>
          </div>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="ref_special_characters"></a>シンボルと特殊記号</h2>
              </div>
            </div>
          </div>
          <div class="toc">
            <dl class="toc">
              <dt>
                <span class="refentrytitle"> <a href="#ref_hash">#</a> </span> <span class="refpurpose"> — コメント、またはファイル番号識別子</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_double_slash">//</a> </span> <span class="refpurpose"> — コメントの起点</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_at_sign">@</a> </span> <span class="refpurpose"> — at の同義語</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_colon">:</a> </span> <span class="refpurpose"> — コマンド同士の書き分け</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_semicolon">;</a> </span> <span class="refpurpose"> — print ステートメントの後に来る暗黙的な改行を抑制</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_pow">** または ^</a> </span> <span class="refpurpose"> — 第一引数に関する二の累乗を求めます</span>
              </dt>
              <dt>
                <span class="refentrytitle"> <a href="#ref_comparison">&lt; &lt;= &gt; &gt;= = == &lt;&gt; !=</a> </span> <span class="refpurpose"> — 文字列または数値の比較</span>
              </dt>
            </dl>
          </div>
          <div class="refentry">
            <a id="ref_hash"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p># — コメント、またはファイル番号識別子</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
# これはコメントですが、後続の行は違います。
open #1,"foo"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8757"></a>
              <h2>概要</h2>
              <p>ハッシュ記号('<code class="literal">#</code>') の用法として全く関連性のない使い方が二通りあります:</p>
              <div class="itemizedlist">
                <ul class="itemizedlist" style="list-style-type: disc; ">
                  <li class="listitem">
                    <p>ハッシュ記号はファイル I/O 関連のコマンドで使われることがあります。<span class="application">yabasic</span> はファイルを開くときの参照用に単純な番号を使います ( <code class="function"><a class="link" href="#ref_input" title="input">input</a></code>, <code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code> あるいは <code class="function"><a class="link" href="#ref_eof" title="eof">eof</a></code> にて)。前述のコマンドで番号の先頭にハッシュ記号をつけるとファイルの指定となります。Please see those commands for further information and examples; the rest of <span class="emphasis"><em>this</em></span> entry is about the second use (as a comment).</p>
                  </li>
                  <li class="listitem">
                    <p>この文字を行の<span class="emphasis"><em>最先頭</em></span>に使うと、ハッシュ記号はコメントの起点となります (<code class="function">rem</code> と相似形)。
</p>
                  </li>
                </ul>
              </div>
              <p> '<code class="literal">#</code>' as a comment is common in most scripting languages and has a special use under Unix: If the <span class="emphasis"><em>very first line</em></span> of any Unix-program begins with the character sequence '<code class="literal">#!</code>' ("she-bang", no spaces allowed), the rest of the line is taken as the program that should be used to execute the script. すなわち、 <span class="application">yabasic</span> プログラムの一行目を '<code class="literal">#!/usr/local/bin/yabasic</code>' にすると、 <code class="filename">/usr/local/bin/yabasic</code> は以降のプログラムを実行するために呼び出されます。As a remark for windows-users: This mechanism ensures, that <span class="application">yabasic</span> will be invoked to execute your program; the ending of the file (e.g. <code class="literal">.yab</code>) will be ignored by Unix.</p>
            </div>
            <div class="refsect1">
              <a id="idm8787"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
# これは有効なコメントです。
print "Hello " : # ですが、これはシンタックスエラーになります。
print "World!" : # 一文字目はハッシュ記号ではないからです！
          </pre>
                <p>注意点として、この用例はシンタックスエラーになるため、正しいプログラムでは<span class="emphasis"><em>ありません</em></span>！</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8793"></a>
              <h2>関連</h2>
              <p><code class="function"><a class="link" href="#ref_input" title="input">input</a></code>, <code class="function"><a class="link" href="#ref_print" title="print">print</a></code>, <code class="function"><a class="link" href="#ref_peek" title="peek">peek</a></code> または <code class="function"><a class="link" href="#ref_eof" title="eof">eof</a></code>, <code class="function"><a class="link" href="#ref_double_slash" title="//">//</a></code>, <code class="function"><a class="link" href="#ref_rem" title="rem">rem</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_double_slash"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>// — コメントの起点</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
//  これはコメントです！
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8816"></a>
              <h2>概要</h2>
              <p>ダブルスラッシュ ('<code class="literal">//</code>') は (<code class="literal">REM</code> and '<code class="literal">#</code>' 以外の) コメント起点となる第三の方法です。'<code class="literal">//</code>' is the latest and greatest in the field of commenting and allows <span class="application">yabasic</span> to catch up with such cool languages like C++ and Java.</p>
            </div>
            <div class="refsect1">
              <a id="idm8824"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
// 別のコメント
print "Hello world !" // 別のコメント
          </pre>
                <p>'<code class="literal"><a class="link" href="#ref_hash" title="#">#</a></code>' を用いた用例とは異なり、この用例は文法上正しいためエラーになりません。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8831"></a>
              <h2>関連</h2>
              <p> <code class="function"><a class="link" href="#ref_hash" title="#">#</a></code>, <code class="function"><a class="link" href="#ref_rem" title="rem">rem</a></code></p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_at_sign"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>@ — <code class="function"><a class="link" href="#ref_at" title="at()">at</a></code> の同義語</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
clear screen
…
print @(a,b)
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8848"></a>
              <h2>概要</h2>
              <p>'<code class="literal">@</code>' は <code class="literal">at</code> の同義語に過ぎません。追加情報は <code class="function"><a class="link" href="#ref_at" title="at()">at</a></code> を参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm8855"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_at" title="at()">at</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_colon"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>: — コマンド同士の書き分け</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print "Hello ":print "World"
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8868"></a>
              <h2>概要</h2>
              <p><span class="emphasis"><em>コロン</em></span> ('<code class="literal">:</code>') は書き分けた複数行のコマンドを一行にまとめます。</p>
              <p>The <span class="emphasis"><em>colon</em></span> and the <span class="emphasis"><em>newline</em></span>-character have mostly the same effect, only that the latter, well, starts a new line too. The only other difference is their effect within the (so-called) <span class="emphasis"><em>short</em></span> <code class="function">if</code>, which is an <code class="function">if</code>-statement without the keyword <code class="function">then</code>. 詳細情報は <code class="function"><a class="link" href="#ref_if" title="if">if</a></code> のエントリを参照してください。</p>
            </div>
            <div class="refsect1">
              <a id="idm8882"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
if (a&lt;10) print "Hello ":print "World !"
          </pre>
                <p>この用例は上述のコロンと改行の相違点を解説しています。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8887"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_if" title="if">if</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_semicolon"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>; — <code class="function"><a class="link" href="#ref_print" title="print">print</a></code> ステートメントの後に来る暗黙的な改行を抑制</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print "foo",bar;
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8902"></a>
              <h2>概要</h2>
              <p>The semicolon ('<code class="literal">;</code>') may only appear at the last position within a <code class="function"><a class="link" href="#ref_print" title="print">print</a></code>-statement. It suppresses the implicit newline, which <span class="application">yabasic</span> normally adds after each <code class="function">print</code>-statement.</p>
              <p>Put another way: Normally the output of each <code class="function">print</code>-statement appears on a line by itself. If you rather want the output of many <code class="function">print</code>-statements to appear on a single line, you should end the <code class="function">print</code>-statement with a semicolon.</p>
            </div>
            <div class="refsect1">
              <a id="idm8914"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print "Hello ";:print "World !"
          </pre>
                <p>この用例は<em>一行</em></span>で <code class="computeroutput">Hello World !</code> <span class="emphasis"> を表示します。</p>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8921"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_print" title="print">print</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_pow"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>** または ^ — 第一引数に関する二の累乗を求めます</p>
            </div>
            <div class="refsynopsisdiv">
              <h2>解説</h2>
              <pre class="synopsis">
print 2**b
print 3^4
</pre>
            </div>
            <div class="refsect1">
              <a id="idm8934"></a>
              <h2>概要</h2>
              <p><code class="function">**</code> (or <code class="function">^</code>, which is an
exact synonym), is the arithmetic operator of exponentiation; it requires one
number to its left and a second one to its right; <code class="function">**</code> then
raises the first argument to the power of the second and returns the
result. The result will only be computed if it yields a <span class="emphasis"><em>real</em></span> number (as opposed to a <span class="emphasis"><em>complex</em></span> number); this means, that the power can <span class="emphasis"><em>not</em></span> be computed, if the first argument is negative and the second one is fractional. On the other hand, the second argument can be fractional, if the first one ist positive; this means, that <code class="function">**</code> may be used to compute arbitrary roots: e.g. <code class="function">x**0.5</code> computes the square root of <code class="function">x</code>.</p>
            </div>
            <div class="refsect1">
              <a id="idm8946"></a>
              <h2>用例</h2>
              <div class="informalexample">
                <pre class="programlisting">
print 2**0.5
          </pre>
              </div>
            </div>
            <div class="refsect1">
              <a id="idm8950"></a>
              <h2>関連</h2>
              <p>
                <code class="function">
                  <a class="link" href="#ref_sqrt" title="sqrt()">sqrt</a>
                </code>
              </p>
            </div>
          </div>
          <div class="refentry">
            <div class="refentry.separator">
              <hr />
            </div>
            <a id="ref_comparison"></a>
            <div class="titlepage"></div>
            <div class="refnamediv">
              <h2>名前</h2>
              <p>&lt; &lt;= &gt; &gt;= = == &lt;&gt; != — 文字列または数値の比較</p>
            </div>
            <div class="refsect1">
              <a id="idm8961"></a>
              <h2>関連</h2>
              <p>「<code class="function"><a class="link" href="#ref_comparing_strings_or_numbers" title="文字列や数値の比較">文字列や数値の比較</a></code>」に関する背景事情</p>
            </div>
          </div>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_examples"></a>Chapter&nbsp;8.&nbsp;用例プログラム数種</h1>
            </div>
          </div>
        </div>
        <div class="toc">
          <dl class="toc">
            <dt>
              <span class="sect1">
                <a href="#idm8968">非常に単純なプログラム</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm8973">ビットマップグラフィックス</a>
              </span>
            </dt>
            <dt>
              <span class="sect1">
                <a href="#idm8985">メニューの選択</a>
              </span>
            </dt>
          </dl>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm8968"></a>非常に単純なプログラム</h2>
              </div>
            </div>
          </div>
          <p>以下のプログラムは非常に単純なプログラムです:</p>
          <pre class="programlisting">
repeat
  input "加算で使う一番目の数値を入力してください " a
  input "加算で使う二番目の数値を入力してください " b
  print a+b
until a=0 and b=0
</pre>
          <p>このプログラムは互いの数値を足したものを求めます。この処理はゼロを二回 (または無記入) を入力するまで継続します。</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm8973"></a>ビットマップグラフィックス</h2>
              </div>
            </div>
          </div>
          <p><span class="application">yabasic</span> allows to retrieve and put back rectangular regions of the screen with simple commands:</p>
          <pre class="programlisting">
open window 200,200

rem 星形の画像を用意する
dim p(3,2)
for off=0 to 90 step 30
  for a=0 to 2
    phi = (off + 120*a)*2*pi/360
    p(a,0) = 50 + 20*cos(phi)
    p(a,1) = 50 + 20*sin(phi)
  next a
  fill triangle p(0,0),p(0,1),p(1,0),p(1,1),p(2,0),p(2,1)
next off

star$ = getbit$(30,30,80,80)
clear window

for a=0 to 200 step 10
  line a,0 to a,200:line 0,a to 200,a: rem 画面にパターンを描画
next a

for a=10 to 150 step 5
  saved$=getbit$(a,80,a+40,120): rem 以前のウィンドウの内容を保存
  putbit star$ to a,80,"t": rem 新しい位置に星形を表示
  pause 0.5
  putbit saved$ to a,80: rem 以前のウィンドウの内容を復旧
next a
</pre>
          <p>このプログラムはグラフィックスウィンドウ全体で星形の絵を動かします。プログラムの最初の部分は星形を描いた後に <code class="function">getbit$()</code> でビットマップを取得します。<span class="application">Yabasic</span> stores bitmaps within ordinary strings and so the star-bitmap can simply be stored within the variable <code class="varname">star$</code>.</p>
          <p>Once the program has prepared the bitmap-string, it puts it back into the window with the <code class="function">putbit</code>-command and various locations. Each time before the star-bitmap is put into the window, the prior content is saved within the variable <code class="varname">saved$</code> and restored later.</p>
        </div>
        <div class="sect1">
          <div class="titlepage">
            <div>
              <div>
                <h2 class="title" style="clear: both"><a id="idm8985"></a>メニューの選択</h2>
              </div>
            </div>
          </div>
          <p>この用例プログラムはメニュー (例えば定義済みの三候補一式から) の表示後に、その中からひとつユーザに選択させます。このメニューは <span class="application">yabasic</span> のデモで使われたものと似ています (とはいえ、もっと単純です)。</p>
          <pre class="programlisting">
//  メニューの初期化
restore menudata
read menusize:dim menutext$(menusize)
for a=1 to menusize:read menutext$(a):next a

ysel=1
clear screen
blank$ = "                      "
hash$ = "########################################"
print colour("cyan","magenta") at(7,2) hash$
print colour("cyan","magenta") at(7,3) hash$
print colour("cyan","magenta") at(7,4) hash$
print colour("yellow","blue") at(8,3) " これはシンプルなメニューの選択機能です "

for a=1 to menusize
  if (a=menusize) then yoff=1:else yoff=0:fi
  if (a=ysel) then
    print colour("blue","green") at(5,7+yoff+a) menutext$(a);
  else
    print at(5,7+yoff+a) menutext$(a);
  endif
next a
print at(3,15) "カーソルキー UP または DOWN (あるいは u と d) で選択、"
print at(3,16) "RETURN または SPACE で決定、 ESC で終了。"

do

  k$=inkey$

  yalt=ysel

  switch k$
  case "up":case "u":
    if (ysel=1) then ysel=menusize else ysel=ysel-1 fi
    redraw()
    break
  case "down":case "d":
    if (ysel=menusize) then ysel=1 else ysel=ysel+1 fi
    redraw()
    break
  case " ":case "enter":case "right":
    if (ysel=menusize) end_it()
    print at(3,18) "選択したのは: " + menutext$(ysel) + blank$
    sleep 1
    print at(3,18) blank$ + blank$
    break
  case "esc":
    end_it()
  default:
    print at(3,18) "無効なキー: " + k$ + blank$
    sleep 1
    print at(3,18) blank$ + blank$
  end switch
loop 

//  線の再描画
sub redraw()
  local yoff
  if (yalt=menusize) then yoff=1:else yoff=0:fi	
  print at(5,7+yalt+yoff) menutext$(yalt);
  if (ysel=menusize) then yoff=1:else yoff=0:fi
  print colour("blue","green") at(5,7+ysel+yoff) menutext$(ysel);
  return
end sub

// プログラムの終了
sub end_it()
  print at(3,18) "またね ..."
  sleep 1
  exit
end sub

//  データセクション ...
label menudata
//  メインメニューのデータ: メインメニューにおける数値とテキストのエントリ
data 4
data "   First Item            "
data "   Item number two       "
data "   Last Item             "
data "   None of the above     "
</pre>
          <p>先頭と末尾には興味深い部分があります:</p>
          <div class="itemizedlist">
            <ul class="itemizedlist" style="list-style-type: disc; ">
              <li class="listitem">
                <p>The text of the various menu-items is initialized at the top of the program; the needed text-strings are kept in <code class="function">data</code>-lines at the end of the program.</p>
              </li>
              <li class="listitem">
                <p>ユーザの入力は <code class="function">inkey$</code> 関数で取得します。</p>
              </li>
              <li class="listitem">
                <p>A <code class="function">switch</code>-statement is employed to process the input; several keys (e.g. <strong class="userinput"><code>right</code></strong> and <strong class="userinput"><code>enter</code></strong>) are handled in the same <code class="function">case</code>-clause.</p>
              </li>
              <li class="listitem">
                <p>サブルーチン <code class="function">redraw()</code> と <code class="function">end_it()</code> は共通機能の処理であるため、プログラムの複数箇所に記述することが求められます。</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="chapter">
        <div class="titlepage">
          <div>
            <div>
              <h1 class="title"><a id="chapter_copyright"></a>Chapter&nbsp;9.&nbsp;<span class="application">yabasic</span> の著作権情報</h1>
            </div>
          </div>
        </div>
        <p><span class="application">yabasic</span> は配布物に収録されている<code class="filename">LICENSE</code> ファイルに記載の <span class="emphasis"><em><a class="ulink" href="http://www.yabasic.de/content_mit.html" target="_top">MIT ライセンス</a></em></span>に従う限り複製可能です。</p>
        <p>MIT ライセンスは大部分のファイルに記されている著作権表示を変更しない限り多岐にわたる権利を認めます。こちらは MIT ライセンスの利用許諾条件下で許されていることの一覧です。</p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>ホームページ、または光学メディアに <span class="application">yabasic</span>  を収録して<span class="application">yabasic</span> の配布サービスに関する手数料を徴収しても良い。</p>
            </li>
            <li class="listitem">
              <p>開発した <span class="application">yabasic</span> プログラムにおいて、プログラムと <span class="application">yabasic</span> を同梱してパッケージ化したあとに製品を販売しても良い。</p>
            </li>
            <li class="listitem">
              <p><span class="application">yabasic</span> の機能の追加、または削除した変更版にソースを添付せず販売しても良い。</p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </body>
</html>
