# 2023年06月08日

Ring-based Opening System の実現性などについての再考です。はちのつく日は演技が良いとされるので一日前から書き始めています。未完成です。

現時点で開発開始を確約するものではないことに御注意ください。

### 命名案

## O<sup>2</sup>, Ö<sup>2</sup>, Ü<sup>乙</sup>, O<sup>②</sup>, ... Ω<sup>弐</sup>

* O は Ring, Operating, Zero ,Shell を意味する。円には神が宿る説もある。love2dのようにウムラウトを使うことで驚いた表情を表すことができる。
* S は反転して数字の 2 へ。 2 は英単語で表すと、 Two, Second, Toe となる(陰陽や和合とも解釈できる)。国道２号線や県道２号の意味まで持たせないが二番煎じではなく未来のシステムを表す。
* 願わくば、 O<sub>2</sub> のような広く愛顧されるものでありたい。

## 開発理由

*すばらしい、すさまじい、すぐれている……
愛すべき愚民どもはそうやって称賛するだろう。だが、有史以来、必要性や強制力のないものは広く使われることは決してない………(中略)……これが敗者のスリーエスセオリーだ。では、次にどうしたいのか。力無きものよ。*
未完成原稿 ― 作者不詳・民明書房

有史以来、多種多様なプログラミング言語やオペレーティングシステムが発表されてきました。しかし、ローンチ後、急速に転落していくものも多くあります。

パーソナルコンピューター、サーバー、あるいはスマートフォンのセキュリティ上の懸念があります。ソニータイマーは都市伝説ですが、そのようなバグやロジックボムが組み込まれた[偽造機器](https://www.alaxala.com/jp/blog/202207/authenticity.html)が流通していたとしていつでも爆発させて大混乱に陥れることができるとしたら、敵性国家にとって核爆弾より効果のあるものでしょう。そのようなトンデモ仮説からしなくても、やはりオペレーティングシステムの寡占化はバベルの塔がごとく官僚的で多様性のない危険なものだと考えられます(いまの秋葉原つまんねーなみたいなノリ)。

また、コンピュータというものはあまりにも複雑に成りすぎたきらいがあります。フレームワークが増えていくと、命名規則や API の統一性が無くなるのがね。 API のスロット化や仮想化の研究なんかあったかな。というように。

私が求めているのは透明性や検証性に優れたオペレーティングシステムであり、改竄の隠蔽が行えないことです。

## 実装形態

### 旧来の技術 (マイクロカーネル風)

REST や RPC のような仕組みと低水準レイヤーを組み合わせればシステムプログラミング言語がなくても可能だと思う。欠点はオーバーヘッドなのは仕方ない (低遅延プロトコルの開発が必要)。 VAX/VMS はシステムコールまわ。が統一されていた話 (Common Language Environment) も云々あるから、この方式ならば開発言語を問わないのかもしれない。

### Linux ディストリビューション

実証実験として見ると、これが堅実だと思われる。段階的に Ring アプリへ置き換えていく方法も選択可能である (Windows, Ubuntu などの後方互換性は仮想マシンに任せる)。それに公式や公認プラットフォームとして動作確認が取れているというのは公式開発者からすれば保守コストが減り、ユーザからすると安心感があるかもしれない。

### 独自開発

あまりにも開発に時間がかかりすぎる上にキラーアプリケーションや資料整備も入るので完成度が低くなりがち。すぐに動かせるプロトタイプを作りたいなら選択しない。

## Javascript ベースの OS へ実装

オペレーティングシステムのフットプリントを削減できる期待もある。過去資産は豊富に活用できる。
JavaScript で十分と判断されるばかりか、Ring の独自性を失う懸念もある。

## Language based/hybrid operating system

特定のプログラミング言語をホストとするオペレーティングシステムやハードウェアは商業的成功を収めづらい傾向にあります（こうなってしまう原因はで後ほど）。

* Inferno OS
* APL マシン
* LISP マシン

唯一、この手の実装で商業的成功を収めたのは BASIC (あるいはファンタジーコンソール) だけであるのは過言でもありません。
ただ、これがオペレーティングシステムではなく仮想マシンであれば一定の成功を収めています。

### ぼやき

じぶんとこのTwitterから。

Tizen の公式リポジトリ眺めていたが、ああいうのは規模が大きすぎて失敗しても不自然ではないな (細分化されすぎて、どこから着手すればいいかマツタケクワラン)。オペレーティングシステムの開発ばかりだけでやく周辺環境も同時に整備するのが肝心なのだけど。

Ring ベースのオペレーティングシステム (Language based/hybrid operating system というジャンルかな。 Lua でもそういうのがある) の実現性については、可とも不可とも。Pharo などを参考に段階的に Ring コード(ハードやライブラリを叩くところは従来言語のままであるけど)へ置き換えていけばいいのはわかるんだけど、置き換えるたびに自前地獄へ近付いてく危険も大きいので、陳腐化しやすいものは開発後期にしたほうが良さそう。

カーネルは Rust などセキュアな言語で書く(または書き直す)のが主流になりつつあるのに、 Ring は C89 のままなのが辛い。そもそも Ring はオペレーティングシステムのような大規模開発向けに設計されているわけではないしシステムプログラミング言語でもない(Jancy のようにシステムプログラミング向けにつくられたスクリプト言語ならある程度わかるが)。メモリ安全性も PWCT で保証する設計になっているが、それでも不完全であることに変わりはない。あの方は十年に一度くらい新規設計しているから、そろそろ次の言語の研究開発にも着手していそうではある。

その手の問題を解決するため、人工知能による自動デバッグやセキュリティホール検出技術はどのくらい進んでいるのだろうか。

## Firefox OS (B2G)

まだ探せば当時の開発資料は手に入るから、[ホビイスト向けオペレーティングシステム](https://en.m.wikipedia.org/wiki/Hobbyist_operating_system)としてプロジェクトをリブートして関わるのもいいんじゃないかと思う。それに LineageOS の資産も使えるから、使わなくなった Android スマートフォンをハックして遊べるようにするのも面白そうではあるなあ。 KaiOS なにそれ？
