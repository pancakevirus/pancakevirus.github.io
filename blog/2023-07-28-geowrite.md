# 2023年7月28日

GeoWorks は RISC OS や Ring にでも移植したほうが良さそうだな。結局、 GEOS は保守コストを考えるとすべて書き直しになるから頭が痛くなるね。あきらめて PipeDream でもと魔剣マガサス(ステンレス鋼)ですね。

## GeoWrite

使われている API や ESP のディレクティブなど調べておきたいので、ちょっと読み始めます。といってもナンモワカラン。翻訳始めた頃を思い出すなあ。ま、そんなものです。

### 8086 / 80186 命令

特に変なのはない。たぶん他のプロセッサとの移植性なんて多少は考えていたのだろう(もともとC64出身のソフトだけど)。
後で洗い出して書き直します(※は80186命令などなど)。

Esp のディレクティブは i386 に対応しているようだけど、 opcoded.h あたりを眺める限りは使えるのかは不明です。

命令セット参考: https://en.wikipedia.org/wiki/X86_instruction_listings

```
add, dec, and, not, or, rcr, shr
call, ret, retn
cmp, jc, jcxz, jz, jnz, je, jne
test,
lahf, sahf
mov, lea, push, pop, inc, sub, 
repe, stc
```

以下は未調査 (mov_trなどのユーザ定義マクロ命令あり)

```
uses,　cmpdw
pushf, popf
local,
ja, je, jle
proc,
loop,
clr,
tst,
ornf
movdw, segmov, mov_tr
mul
endm
```

### ライブラリ

定義については write.gp あたりを参照のこと。

GeoWriteよりライブラリのほうが解析は手間かもしれない。

### わかんないよ。
本当に。ただ、いままでの翻訳経験なんかを応用しているだけ。

* 単語の抽出(出現頻度)
* 意味や機能の調査
* 概念の理解
* 自然言語への翻訳

プログラミングとは逆のことをしている。


